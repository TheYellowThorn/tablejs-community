{"version":3,"file":"transunion-ui-tablejs.umd.js","sources":["../../../projects/tablejs/src/lib/components/horiz-resize-grip/horiz-resize-grip.component.ts","../../../projects/tablejs/src/lib/components/reorder-grip/reorder-grip.component.ts","../../../node_modules/tslib/tslib.es6.js","../../../projects/tablejs/src/lib/components/drag-and-drop-ghost/drag-and-drop-ghost.component.ts","../../../projects/tablejs/src/lib/shared/classes/tablejs-grid-proxy.ts","../../../projects/tablejs/src/lib/services/grid/grid.service.ts","../../../projects/tablejs/src/lib/services/directive-registration/directive-registration.service.ts","../../../projects/tablejs/src/lib/shared/classes/events/column-reorder-event.ts","../../../projects/tablejs/src/lib/shared/classes/events/column-resize-event.ts","../../../projects/tablejs/src/lib/shared/classes/events/grid-event.ts","../../../projects/tablejs/src/lib/shared/classes/events/scroll-viewport-event.ts","../../../projects/tablejs/src/lib/services/scroll-dispatcher/scroll-dispatcher.service.ts","../../../projects/tablejs/src/lib/directives/virtual-for/virtual-for.directive.ts","../../../projects/tablejs/src/lib/services/operating-system/operating-system.service.ts","../../../projects/tablejs/src/lib/components/scroll-prev-spacer/scroll-prev-spacer.component.ts","../../../projects/tablejs/src/lib/directives/scroll-viewport/scroll-viewport.directive.ts","../../../projects/tablejs/src/lib/directives/grid/grid.directive.ts","../../../projects/tablejs/src/lib/directives/grid-row/grid-row.directive.ts","../../../projects/tablejs/src/lib/directives/resizable-grip/resizable-grip.directive.ts","../../../projects/tablejs/src/lib/directives/infinite-scroll/infinite-scroll.directive.ts","../../../projects/tablejs/src/lib/components/grid/grid.component.ts","../../../projects/tablejs/src/lib/directives/editable-cell/editable-cell.directive.ts","../../../projects/tablejs/src/lib/directives/reorder-grip/reorder-grip.directive.ts","../../../projects/tablejs/src/lib/directives/reorder-col/reorder-col.directive.ts","../../../projects/tablejs/src/lib/directives/data-col-classes/data-col-classes.directive.ts","../../../projects/tablejs/src/lib/directives/data-col-class/data-col-class.directive.ts","../../../projects/tablejs/src/lib/directives/hide-column-if/hide-column-if.directive.ts","../../../projects/tablejs/src/lib/tablejs.module.ts","../../../projects/tablejs/src/lib/filterAndSort/comparators/comparator.ts","../../../projects/tablejs/src/lib/filterAndSort/options/sort-direction.ts","../../../projects/tablejs/src/lib/filterAndSort/services/filter-sort.service.ts","../../../projects/tablejs/src/lib/filterAndSort/options/sort-options.ts","../../../projects/tablejs/src/lib/filterAndSort/comparators/match-type.ts","../../../projects/tablejs/src/lib/filterAndSort/options/filter-options.ts","../../../projects/tablejs/src/lib/filterAndSort/comparators/sort-comparator.ts","../../../projects/tablejs/src/lib/filterAndSort/comparators/filter-comparator.ts","../../../projects/tablejs/src/lib/filterAndSort/filter-and-sort.module.ts","../../../projects/tablejs/src/lib/shared/classes/scrolling/range.ts","../../../projects/tablejs/src/public-api.ts","../../../projects/tablejs/src/transunion-ui-tablejs.ts"],"sourcesContent":["import { Component, OnInit, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'tablejs-horiz-resize-grip',\n  templateUrl: './horiz-resize-grip.component.html',\n  styleUrls: ['./horiz-resize-grip.component.scss'],\n  host: { class: 'resize-grip' },\n  encapsulation: ViewEncapsulation.None\n})\nexport class HorizResizeGripComponent {\n\n  constructor() { }\n\n}\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'tablejs-reorder-grip',\n  templateUrl: './reorder-grip.component.html',\n  styleUrls: ['./reorder-grip.component.scss'],\n  host: { class: 'col-dots-container' },\n  encapsulation: ViewEncapsulation.None\n})\nexport class ReorderGripComponent {\n\n  constructor() { }\n\n}\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","import { AfterViewInit, ChangeDetectorRef, Component, TemplateRef, ViewChild, ViewContainerRef, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'tablejs-drag-and-drop-ghost',\n  templateUrl: './drag-and-drop-ghost.component.html',\n  styleUrls: ['./drag-and-drop-ghost.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: { class: 'drag-and-drop-ghost' }\n})\nexport class DragAndDropGhostComponent implements AfterViewInit {\n\n  @ViewChild('ref', {read: ViewContainerRef}) public ref: any;\n  public left: number = 0;\n  public top: number = 0;\n  private _templateToLoad: TemplateRef<any>;\n  private _contextToLoad: object | null = null;\n\n  constructor(public viewContainerRef: ViewContainerRef, public cdr: ChangeDetectorRef) { }\n\n  ngAfterViewInit(): void {\n    this.ref.clear();\n    if (this._templateToLoad) {\n      this.ref.createEmbeddedView(this._templateToLoad, this._contextToLoad);\n      this.cdr.detectChanges();\n    }\n  }\n\n  public updateView(template: TemplateRef<any>, context: object | null = null): void {\n    this._templateToLoad = template;\n    this._contextToLoad = context;\n  }\n\n  getTransform(): string {\n    return 'translate(' + this.left + 'px, ' + this.top + 'px';\n  }\n\n}\n","export class TablejsGridProxy {\n  static GRID_COUNT = 0;\n  constructor() {\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { IColumnData } from './../../shared/interfaces/i-column-data';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GridService {\n\n  public linkedDirectiveObjs: any = {};\n  public containsInitialWidthSettings: BehaviorSubject<boolean | undefined> = new BehaviorSubject<boolean | undefined>(undefined);\n\n  constructor() { }\n\n  getParentTablejsGridDirective(el: HTMLElement | null): HTMLElement | null {\n    while (el !== null && el.getAttribute('tablejsGrid') === null) {\n      el = el.parentElement;\n    }\n    return el;\n  }\n\n  triggerHasInitialWidths(hasWidths: boolean): void {\n    this.containsInitialWidthSettings.next(hasWidths);\n  }\n}\n\ninterface ILinkedGrid {\n  classWidths: number[];\n  stylesByClass: any[];\n  widthStyle: HTMLStyleElement;\n  widthStyleFragment: DocumentFragment;\n  reorderHighlightStyle: HTMLStyleElement;\n  reorderHighlightStyleFragment: DocumentFragment;\n  subGroupStyles: HTMLStyleElement[];\n  subGroupFragments: DocumentFragment[];\n  subGroupStyleObjs: any;\n  gridOrder: number[];\n  gridOrderStyles: HTMLStyleElement[];\n  gridOrderFragments: DocumentFragment[];\n  colDataGroups: IColumnData[][];\n}\n","import { Injectable } from '@angular/core';\nimport { GridService } from './../grid/grid.service';\nimport { ScrollViewportDirective } from './../../directives/scroll-viewport/scroll-viewport.directive';\nimport { VirtualForDirective } from './../../directives/virtual-for/virtual-for.directive';\nimport { IVirtualNexus } from './../../shared/interfaces/i-virtual-nexus';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DirectiveRegistrationService {\n\n  constructor(public gridService: GridService) { }\n\n  private nexuses: IVirtualNexus[] = [];\n\n  public setVirtualNexus(virtualForDirective: VirtualForDirective<any, any>, scrollViewportDirective: ScrollViewportDirective): IVirtualNexus {\n    const nexus: IVirtualNexus = {\n      scrollViewportDirective,\n      virtualForDirective\n    };\n    this.nexuses.push(nexus);\n    return nexus;\n  }\n\n  public getVirtualNexusFromViewport(scrollViewportDirective: ScrollViewportDirective): IVirtualNexus {\n    return this.nexuses.filter((nexus: IVirtualNexus) => nexus.scrollViewportDirective === scrollViewportDirective)[0];\n  }\n\n  public registerNodeAttributes(node: any) {\n    if (node.getAttribute) {\n      if (node.getAttribute('reordergrip') !== null) {\n        this.registerReorderGripOnGridDirective(node, true);\n      }\n      if (node.getAttribute('resizablegrip') !== null) {\n        this.registerResizableGripOnGridDirective(node, true);\n      }\n      if (node.getAttribute('tablejsDataColClasses') !== null) {\n        this.registerDataColClassesOnGridDirective(node, true);\n      }\n      if (node.getAttribute('tablejsDataColClass') !== null) {\n        this.registerDataColClassOnGridDirective(node, true);\n      }\n      if (node.getAttribute('tablejsGridRow') !== null) {\n        this.registerRowsOnGridDirective(node, true);\n      }\n    }\n  }\n\n  public registerReorderGripOnGridDirective(node: HTMLElement, fromMutation: boolean = false) {\n    const el: HTMLElement | any | null = this.gridService.getParentTablejsGridDirective(node);\n    if (el !== null) {\n      el['gridDirective'].addReorderGrip(node, fromMutation);\n    }\n  }\n\n  public registerResizableGripOnGridDirective(node: HTMLElement, fromMutation: boolean = false) {\n    const el: HTMLElement | any | null = this.gridService.getParentTablejsGridDirective(node);\n    if (el !== null) {\n      el['gridDirective'].addResizableGrip(node, fromMutation);\n    }\n  }\n\n  public registerDataColClassesOnGridDirective(node: HTMLElement, fromMutation: boolean = false) {\n    const el: HTMLElement | any | null = this.gridService.getParentTablejsGridDirective(node);\n    (node as any).dataClasses = node.getAttribute('tablejsdatacolclasses')!.replace(new RegExp(' ', 'g'), '').split(',');\n    el['gridDirective'].addColumnsWithDataClasses(node, fromMutation);\n  }\n\n  public registerDataColClassOnGridDirective(node: HTMLElement, fromMutation: boolean = false) {\n    const el: HTMLElement | any | null = this.gridService.getParentTablejsGridDirective(node);\n    if (!el) {\n      return;\n    }\n    const cls: string | any | null = node.getAttribute('tablejsDataColClass');\n    if (cls) {\n      node.classList.add(cls);\n    }\n    const initialWidth = node.getAttribute('initialWidth');\n    this.gridService.triggerHasInitialWidths(initialWidth ? true : false);\n    el['gridDirective'].initialWidths[cls] = initialWidth;\n  }\n\n  public registerRowsOnGridDirective(node: HTMLElement, fromMutation: boolean = false) {\n    node.classList.add('reorderable-table-row');\n    const el: HTMLElement | any | null = this.gridService.getParentTablejsGridDirective(node);\n    if (el !== null) {\n      el['gridDirective'].addRow(node, fromMutation);\n    }\n  }\n\n  public registerViewportOnGridDirective(node: HTMLElement): void {\n    const el: HTMLElement | any | null = this.gridService.getParentTablejsGridDirective(node);\n    if (el !== null) {\n      el['gridDirective'].infiniteScrollViewports = [node];\n    }\n  }\n}\n","import { IColumnReorderEvent } from './../../interfaces/events/i-column-reorder-event';\n\nexport class ColumnReorderEvent implements IColumnReorderEvent {\n\n  public static readonly ON_REORDER: string = 'onReorder';\n  public static readonly ON_REORDER_START: string = 'onReorderStart';\n  public static readonly ON_REORDER_END: string = 'onReorderEnd';\n\n  public pointerEvent: any;\n  public columnDragged: Element;\n  public columnHovered: Element;\n  public type: string;\n\n  constructor() {}\n}\n","import { IColumnResizeEvent } from './../../interfaces/events/i-column-resize-event';\n\nexport class ColumnResizeEvent implements IColumnResizeEvent {\n\n  public static readonly ON_RESIZE: string = 'onResize';\n  public static readonly ON_RESIZE_START: string = 'onResizeStart';\n  public static readonly ON_RESIZE_END: string = 'onResizeEnd';\n\n  public pointerEvent: any;\n  public columnWidth: number;\n  public columnMinWidth: number;\n  public classesBeingResized: string[];\n  public type?: string;\n}\n","import { IGridEvent } from './../../interfaces/events/i-grid-event';\n\nexport class GridEvent implements IGridEvent {\n\n  public static readonly ON_INITIALIZED: string = 'onInitialized';\n\n  public gridComponent: any;\n  public gridElement: HTMLElement;\n  public type: string;\n}\n","export class ScrollViewportEvent {\n  public static readonly ON_ITEM_ADDED: string = 'onItemAdded';\n  public static readonly ON_ITEM_REMOVED: string = 'onItemRemoved';\n  public static readonly ON_ITEM_UPDATED: string = 'onItemUpdated';\n  public static readonly ON_RANGE_UPDATED: string = 'onRangeUpdated';\n  public static readonly ON_VIEWPORT_SCROLLED: string = 'onViewportScrolled';\n  public static readonly ON_VIEWPORT_READY: string = 'onViewportReady';\n  public static readonly ON_VIEWPORT_INITIALIZED: string = 'onViewportInitialized';\n}\n","import { EventEmitter, Injectable } from '@angular/core';\nimport { ScrollViewportEvent } from './../../shared/classes/events/scroll-viewport-event';\nimport { Range } from './../../shared/classes/scrolling/range';\nimport { ScrollViewportDirective } from './../../directives/scroll-viewport/scroll-viewport.directive';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ScrollDispatcherService {\n\n  constructor() { }\n\n  public dispatchAddItemEvents(eventEmitter: EventEmitter<any>, element: Node, i: number, viewport: ScrollViewportDirective, viewportElement: HTMLElement): void {\n    eventEmitter.emit({\n      element,\n      index: i,\n      viewport,\n      viewportElement\n    });\n    const itemAddedEvent = new CustomEvent(ScrollViewportEvent.ON_ITEM_ADDED, {\n      detail: {\n        element,\n        index: i,\n        viewport,\n        viewportElement\n      }\n    });\n    viewportElement.dispatchEvent(itemAddedEvent);\n  }\n\n  public dispatchUpdateItemEvents(eventEmitter: EventEmitter<any>, element: Node, index: number, viewport: ScrollViewportDirective, viewportElement: HTMLElement): void {\n    eventEmitter.emit({\n      element,\n      index,\n      viewport,\n      viewportElement\n    });\n    const itemUpdatedEvent = new CustomEvent(ScrollViewportEvent.ON_ITEM_UPDATED, {\n      detail: {\n        element,\n        index,\n        viewport,\n        viewportElement\n      }\n    });\n    viewportElement.dispatchEvent(itemUpdatedEvent);\n  }\n\n  public dispatchRemoveItemEvents(eventEmitter: EventEmitter<any>, element: Node, i: number, viewport: ScrollViewportDirective, viewportElement: HTMLElement): void {\n    eventEmitter.emit({\n      element,\n      index: i,\n      viewport,\n      viewportElement\n    });\n    const itemRemovedEvent = new CustomEvent(ScrollViewportEvent.ON_ITEM_REMOVED, {\n      detail: {\n        element,\n        index: i,\n        viewport,\n        viewportElement\n      }\n    });\n    viewportElement.dispatchEvent(itemRemovedEvent);\n  }\n\n  public dispatchViewportReadyEvents(eventEmitter: EventEmitter<any>, viewport: ScrollViewportDirective, viewportElement: HTMLElement) {\n    eventEmitter.emit({\n      viewport,\n      viewportElement\n    });\n    const viewportReadyEvent = new CustomEvent(ScrollViewportEvent.ON_VIEWPORT_READY, {\n      detail: {\n        viewport,\n        viewportElement\n      }\n    });\n    viewportElement.dispatchEvent(viewportReadyEvent);\n  }\n\n  public dispatchViewportInitializedEvents(eventEmitter: EventEmitter<any>, viewport: ScrollViewportDirective, viewportElement: HTMLElement) {\n    eventEmitter.emit({\n      viewport,\n      viewportElement\n    });\n    const viewportInitializedEvent = new CustomEvent(ScrollViewportEvent.ON_VIEWPORT_INITIALIZED, {\n      detail: {\n        viewport,\n        viewportElement\n      }\n    });\n    viewportElement.dispatchEvent(viewportInitializedEvent);\n  }\n\n  public dispatchRangeUpdateEvents(eventEmitter: EventEmitter<any>, range: Range, viewport: ScrollViewportDirective, viewportElement: HTMLElement) {\n    eventEmitter.emit({\n      range,\n      viewport,\n      viewportElement\n    });\n    const rangeUpdatedEvent = new CustomEvent(ScrollViewportEvent.ON_ITEM_ADDED, {\n      detail: {\n        range,\n        viewport,\n        viewportElement\n      }\n    });\n    viewportElement.dispatchEvent(rangeUpdatedEvent);\n  }\n\n  public dispatchViewportScrolledEvents(eventEmitter: EventEmitter<any>, scrollTop: number, overflow: number, viewport: ScrollViewportDirective, viewportElement: HTMLElement) {\n    eventEmitter.emit({\n      scrollTop,\n      firstItemOverflow: overflow,\n      viewport,\n      viewportElement\n    });\n    const viewportScrolledEvent = new CustomEvent(ScrollViewportEvent.ON_ITEM_ADDED, {\n      detail: {\n        scrollTop,\n        firstItemOverflow: overflow,\n        viewport,\n        viewportElement\n      }\n    });\n    viewportElement.dispatchEvent(viewportScrolledEvent);\n  }\n}\n","\nimport { Directive, DoCheck, ElementRef, Input, IterableChanges, IterableDiffer, IterableDiffers, NgIterable, OnDestroy, TemplateRef, TrackByFunction, ViewContainerRef} from '@angular/core';\nimport { DirectiveRegistrationService } from './../../services/directive-registration/directive-registration.service';\nimport { IVirtualNexus } from './../../shared/interfaces/i-virtual-nexus';\nimport { Subject, Subscription } from 'rxjs';\nimport { ScrollViewportDirective } from './../scroll-viewport/scroll-viewport.directive';\nimport { Range } from './../../shared/classes/scrolling/range';\n\nexport class TablejsForOfContext<T, U extends NgIterable<T> = NgIterable<T>> {\n  constructor(public $implicit: T, public tablejsVirtualForOf: U, public index: number, public count: number) {}\n\n  get first(): boolean {\n    return this.index === 0;\n  }\n\n  get last(): boolean {\n    return this.index === this.count - 1;\n  }\n\n  get even(): boolean {\n    return this.index % 2 === 0;\n  }\n\n  get odd(): boolean {\n    return !this.even;\n  }\n}\n\n@Directive({selector: '[tablejsVirtualFor][tablejsVirtualForOf]'})\nexport class VirtualForDirective<T, U extends NgIterable<T> = NgIterable<T>> implements DoCheck, OnDestroy {\n\n  public virtualNexus: IVirtualNexus;\n  public changes: Subject<any> = new Subject<any>();\n  public rangeUpdatedSubscription$: Subscription;\n\n  @Input()\n  set tablejsVirtualForOf(tablejsVirtualForOf: U|undefined|null) {\n    this._tablejsForOf = tablejsVirtualForOf;\n    this._onRenderedDataChange();\n  }\n\n  public _tablejsForOf: U|undefined|null = null;\n  private _lastTablejsForOf: U|undefined|null;\n  private _differ: IterableDiffer<T>|null = null;\n  private _tablejsVirtualForTrackBy: TrackByFunction<T> | undefined;\n  private _scrollViewportDirective: ScrollViewportDirective;\n  private _lastRange: Range;\n  private _renderedItems: any[];\n  /**\n   * Asserts the correct type of the context for the template that `TablejsForOf` will render.\n   *\n   * The presence of this method is a signal to the Ivy template type-check compiler that the\n   * `TablejsForOf` structural directive renders its template with a specific context type.\n   */\n  static ngTemplateContextGuard<T, U extends NgIterable<T>>(dir: VirtualForDirective<T, U>, ctx: any):\n      ctx is TablejsForOfContext<T, U> {\n    return true;\n  }\n\n  /**\n   * A reference to the template that is stamped out for each item in the iterable.\n   * @see [template reference variable](guide/template-reference-variables)\n   */\n  @Input()\n  set tablejsVirtualForTemplate(value: TemplateRef<TablejsForOfContext<T, U>>) {\n    if (value) {\n      this._template = value;\n    }\n  }\n\n  public get template(): TemplateRef<TablejsForOfContext<T, U>> {\n    return this._template;\n  }\n\n  @Input()\n  get tablejsVirtualForTrackBy(): TrackByFunction<T> | undefined {\n    return this._tablejsVirtualForTrackBy;\n  }\n  set tablejsVirtualForTrackBy(fn: TrackByFunction<T> | undefined) {\n    this._tablejsVirtualForTrackBy = fn ?\n        (index, item) => fn(index + (this._lastRange ? this._lastRange.extendedStartIndex! : 0), item) :\n        undefined;\n\n    this._onRenderedDataChange();\n  }\n\n  constructor(\n      public _viewContainer: ViewContainerRef,\n      public _template: TemplateRef<TablejsForOfContext<T, U>>,\n      private _differs: IterableDiffers,\n      private elementRef: ElementRef,\n      private directiveRegistrationService: DirectiveRegistrationService) {\n        let parent = this._viewContainer.element.nativeElement.parentElement;\n\n        while (parent !== null && parent !== undefined && parent.scrollViewportDirective === undefined) {\n          parent = parent.parentElement;\n        }\n        if (parent === null || parent === undefined) {\n          throw Error('No scrollViewportDirective found for tablejsForOf.  Declare a scrollViewport using the scrollViewportDirective.');\n        } else {\n          this._scrollViewportDirective = parent.scrollViewportDirective;\n          this.virtualNexus = this.directiveRegistrationService.setVirtualNexus(this, this._scrollViewportDirective);\n          this._lastRange = this._scrollViewportDirective.range;\n\n          this.rangeUpdatedSubscription$ = this._scrollViewportDirective.rangeUpdated.subscribe(rangeObj => {\n            if (this.rangeIsDifferent(this._lastRange, rangeObj.range)) {\n              this._lastRange = rangeObj.range;\n              this._renderedItems = Array.from(this._tablejsForOf as Iterable<any>).slice(this._lastRange.extendedStartIndex!, this._lastRange.extendedEndIndex!);\n              this._onRenderedDataChange(false);\n            }\n          });\n        }\n      }\n\n  rangeIsDifferent(range1: Range, range2: Range): boolean {\n    return range1.endIndex === range2.endIndex && range1.extendedEndIndex === range2.extendedEndIndex && range1.startIndex === range2.startIndex && range1.extendedStartIndex === range2.extendedStartIndex;\n  }\n\n  renderedItemsNeedUpdate(): boolean {\n    return this._renderedItems.length !== this._lastRange.extendedEndIndex! - this._lastRange.extendedStartIndex!;\n  }\n\n  private _onRenderedDataChange(updateRenderedItems: boolean = true) {\n    if (!this._renderedItems) {\n      return;\n    }\n    if (updateRenderedItems) {\n      this._renderedItems = Array.from(this._tablejsForOf as Iterable<any>).slice(this._lastRange.extendedStartIndex!, this._lastRange.extendedEndIndex!);\n    }\n    if (!this._differ) {\n      this._differ = this._differs.find(this._renderedItems).create((index, item) => {\n        return this.tablejsVirtualForTrackBy ? this.tablejsVirtualForTrackBy(index, item) : item;\n      });\n    }\n  }\n\n  ngDoCheck() {\n   this.updateItems();\n  }\n\n  updateItems(): void {\n    if (this._differ) {\n      const scrollToOrigin = this._tablejsForOf !== this._lastTablejsForOf;\n      let diffChanges: IterableChanges<any> | null = null;\n\n      if (this.renderedItemsNeedUpdate()) {\n        this._onRenderedDataChange();\n      }\n\n      try {\n        diffChanges = this._differ.diff(this._renderedItems);\n      } catch {\n        this._differ = this._differs.find(this._renderedItems).create((index, item) => {\n          return this.tablejsVirtualForTrackBy ? this.tablejsVirtualForTrackBy(index, item) : item;\n        });\n      }\n\n      if (scrollToOrigin) {\n        this._lastTablejsForOf = this._tablejsForOf;\n      }\n      if (diffChanges || scrollToOrigin) {\n        this.changes.next({ tablejsForOf: this._tablejsForOf, scrollToOrigin });\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.rangeUpdatedSubscription$.unsubscribe();\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OperatingSystemService {\n\n  constructor() { }\n\n  getOS() {\n    const userAgent = window.navigator.userAgent;\n    const platform = window.navigator.platform;\n    const macosPlatforms: any[] = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'];\n    const windowsPlatforms: any[] = ['Win32', 'Win64', 'Windows', 'WinCE'];\n    const iosPlatforms: any[] = ['iPhone', 'iPad', 'iPod'];\n    let os: string | null = null;\n\n    if (macosPlatforms.indexOf(platform) !== -1) {\n      os = 'Mac OS';\n    } else if (iosPlatforms.indexOf(platform) !== -1) {\n      os = 'iOS';\n    } else if (windowsPlatforms.indexOf(platform) !== -1) {\n      os = 'Windows';\n    } else if (/Android/.test(userAgent)) {\n      os = 'Android';\n    } else if (!os && /Linux/.test(platform)) {\n      os = 'Linux';\n    }\n\n    return os;\n  }\n\n  isMac(): boolean {\n    return this.getOS() === 'Mac OS' || this.getOS() === 'iOS';\n  }\n  isPC(): boolean {\n    return this.getOS() === 'Windows';\n  }\n}\n","import { Component, ElementRef, ViewChild } from '@angular/core';\n\n@Component({\n  selector: 'tablejs-scroll-prev-spacer',\n  templateUrl: './scroll-prev-spacer.component.html',\n  styleUrls: ['./scroll-prev-spacer.component.scss']\n})\nexport class ScrollPrevSpacerComponent {\n\n  @ViewChild('template', {static: true}) public template: any;\n  constructor(public elementRef: ElementRef) { }\n\n}\n","import { AfterViewInit, Directive, ChangeDetectorRef, ContentChild,\n  ElementRef, EmbeddedViewRef, EventEmitter, Inject, Input, OnInit, Output, TemplateRef, ViewRef, OnDestroy, Renderer2, RendererFactory2, ComponentFactoryResolver} from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { GridService } from './../../services/grid/grid.service';\nimport { DirectiveRegistrationService } from './../../services/directive-registration/directive-registration.service';\nimport { Range } from './../../shared/classes/scrolling/range';\nimport { IScrollOptions } from './../../shared/interfaces/scrolling/i-scroll-options';\nimport { ScrollDispatcherService } from './../../services/scroll-dispatcher/scroll-dispatcher.service';\nimport { GridDirective } from './../../directives/grid/grid.directive';\nimport { TablejsForOfContext } from './../../directives/virtual-for/virtual-for.directive';\nimport { IVirtualNexus } from './../../shared/interfaces/i-virtual-nexus';\nimport { OperatingSystemService } from './../../services/operating-system/operating-system.service';\nimport { ScrollPrevSpacerComponent } from '../../components/scroll-prev-spacer/scroll-prev-spacer.component';\nimport { Subscription } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\n@Directive({\n  selector: '[tablejsScrollViewport], [tablejsscrollviewport], [tablejs-scroll-viewport]',\n  host: { style: 'contain: content;'}\n})\nexport class ScrollViewportDirective implements AfterViewInit, OnDestroy, OnInit {\n\n  @ContentChild('templateRef', { static: true }) public templateRef: TemplateRef<any> | null = null;\n\n  @Input() templateID: string | null = '';\n  @Input() generateCloneMethod: ((template: HTMLElement, items: any[], index: number) => Node) | null = null;\n  private _arrowUpSpeed: string | number = 1;\n  get arrowUpSpeed(): string | number {\n      return Number(this._arrowUpSpeed);\n  }\n  @Input() set arrowUpSpeed(value: string | number) {\n      this._arrowUpSpeed = Number(value);\n  }\n\n  private _arrowDownSpeed: string | number = 1;\n  get arrowDownSpeed(): string | number {\n      return Number(this._arrowDownSpeed);\n  }\n  @Input() set arrowDownSpeed(value: string | number) {\n      this._arrowDownSpeed = Number(value);\n  }\n\n  private _preItemOverflow: string | number = 1;\n  get preItemOverflow(): string | number {\n      return Number(this._preItemOverflow);\n  }\n  @Input() set preItemOverflow(value: string | number) {\n      this._preItemOverflow = Number(value);\n  }\n\n  private _postItemOverflow: string | number = 1;\n  get postItemOverflow(): string | number {\n      return Number(this._postItemOverflow);\n  }\n  @Input() set postItemOverflow(value: string | number) {\n      this._postItemOverflow = Number(value);\n  }\n\n  private _itemLoadLimit: string | number = Infinity;\n  get itemLoadLimit(): string | number {\n      return Number(this._itemLoadLimit);\n  }\n  @Input() set itemLoadLimit(value: string | number) {\n      this._itemLoadLimit = Number(value);\n  }\n\n  items: any[] | null = null;\n\n  // Custom Elements Inputs\n  @Input() templateid: string | null = null;\n  @Input() preitemoverflow: number = 1;\n  @Input() postitemoverflow: number = 1;\n  @Input() arrowupspeed: number = 1;\n  @Input() arrowdownspeed: number = 1;\n  @Input() itemloadlimit: number = Infinity;\n  @Input() fillViewportScrolling: any;\n\n  @Output() itemAdded: EventEmitter<any> = new EventEmitter<any>();\n  @Output() itemRemoved: EventEmitter<any> = new EventEmitter<any>();\n  @Output() itemUpdated: EventEmitter<any> = new EventEmitter<any>();\n  @Output() rangeUpdated: EventEmitter<any> = new EventEmitter<any>();\n  @Output() viewportScrolled: EventEmitter<any> = new EventEmitter<any>();\n  @Output() viewportReady: EventEmitter<any> = new EventEmitter<any>();\n  @Output() viewportInitialized: EventEmitter<any> = new EventEmitter<any>();\n\n  private containerHeight: number | null = null;\n  private heightLookup: any = {};\n  private itemVisibilityLookup: any = {};\n  public listElm: HTMLElement | null = null;\n  public listContent: HTMLElement | null = null;\n  public prevSpacer: HTMLElement | null = null;\n  public postSpacer: HTMLElement | null = null;\n  public gridDirective: GridDirective | null = null;\n  public virtualForChangesSubscription$: Subscription;\n  public pauseViewportRenderUpdates: boolean = false;\n\n  public range: Range = { startIndex: 0, endIndex: 1, extendedStartIndex: 0, extendedEndIndex: 1 };\n  public lastRange: Range = { startIndex: this.range.startIndex, endIndex: this.range.endIndex, extendedStartIndex: this.range.extendedStartIndex, extendedEndIndex: this.range.extendedEndIndex };\n  public lastScrollTop: number = 0;\n  public currentScrollTop: number = 0;\n  public currentScrollChange: number = 0;\n  public template: HTMLElement | null = null;\n  private estimatedFullContentHeight: number = 0;\n  private estimatedPreListHeight: number = 0;\n  private estimatedPostListHeight: number = 0;\n  private totalItemsCounted: number = 0;\n  private totalHeightCount: number = 0;\n  private itemName: string = '';\n  private avgItemHeight: number | undefined;\n  private overflowHeightCount: number = 0;\n  public scrollChangeByFirstIndexedItem: number = 0;\n  private lastVisibleItemHeight: number = Infinity;\n  private adjustedStartIndex: number | null = null;\n  private forcedEndIndex: number | undefined = undefined;\n  private placeholderObject: any = {};\n\n  private postItemOverflowCount: number = -1;\n  private preItemOverflowCount: number = -1;\n  private lastVisibleItemOverflow: number = 0;\n  private preOverflowHeight: number = 0;\n  private mouseIsOverViewport: boolean = false;\n  private lastHeight: number = 0;\n\n  private observer: MutationObserver | null = null;\n  private handleMouseOver: Function | null = null;\n  private handleMouseOut: Function | null = null;\n  private handleKeyDown: ((e: KeyboardEvent) => void) | null = null;\n  private cloneFromTemplateRef: boolean = false;\n  private viewportHasScrolled: boolean = false;\n  private templateContext: TablejsForOfContext<any, any> | null = null;\n\n  public virtualNexus: IVirtualNexus | null = null;\n\n  private _cloneMethod: ((template: HTMLElement, items: any[], index: number) => Node) | null = null;\n  private renderer: Renderer2;\n\n  constructor(\n    public elementRef: ElementRef,\n    public gridService: GridService,\n    @Inject(DOCUMENT) private document: any,\n    private directiveRegistrationService: DirectiveRegistrationService,\n    private scrollDispatcherService: ScrollDispatcherService,\n    private operatingSystem: OperatingSystemService,\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private cdr: ChangeDetectorRef | null,\n    private rendererFactory: RendererFactory2\n  ) {\n    this.renderer = this.rendererFactory.createRenderer(null, null);\n    this.elementRef.nativeElement.scrollViewportDirective = this;\n  }\n\n  public handleScroll(e: Event) {\n\n    e.preventDefault();\n\n    this.currentScrollTop = this.listContent!.scrollTop;\n    this.currentScrollChange = this.currentScrollTop - this.lastScrollTop;\n    this.scrollChangeByFirstIndexedItem += this.currentScrollChange;\n    this.lastVisibleItemOverflow -= this.currentScrollChange;\n\n    const newRange = this.getRangeChange(this.scrollChangeByFirstIndexedItem);\n    this.updateScrollFromRange(newRange);\n\n    this.scrollDispatcherService.dispatchViewportScrolledEvents(this.viewportScrolled, this.lastScrollTop, this.scrollChangeByFirstIndexedItem, this, this.elementRef.nativeElement);\n\n  }\n\n  private registerViewportToElement() {\n    this.elementRef.nativeElement.scrollViewport = this;\n  }\n\n  private attachMutationObserver(): void {\n    const ths: any = this;\n    this.observer = new MutationObserver((mutations: MutationRecord[]) => {\n      mutations.forEach((mutation: MutationRecord) => {\n        ths.updateMutations(mutation);\n      });\n    });\n\n    this.observer.observe(this.listContent!, {\n      // configure it to listen to attribute changes\n      attributes: true,\n      subtree: true,\n      childList: true\n    });\n  }\n\n  private updateMutations(mutation: MutationRecord): void {\n    if (mutation.type === 'childList') {\n      const addedNodes = Array.from(mutation.addedNodes);\n      addedNodes.forEach(node => {\n        this.directiveRegistrationService.registerNodeAttributes(node);\n        this.getChildNodes(node);\n      });\n    }\n  }\n\n  private getChildNodes(node: Node) {\n    node.childNodes.forEach(childNode => {\n      this.directiveRegistrationService.registerNodeAttributes(childNode);\n      if (childNode.childNodes) {\n        this.getChildNodes(childNode);\n      }\n    });\n  }\n\n  public registerCustomElementsInputs(viewport: HTMLElement) {\n    this.templateID = viewport.getAttribute('templateID');\n    this.preItemOverflow = Number(viewport.getAttribute('preItemOverflow'));\n    this.postItemOverflow = Number(viewport.getAttribute('postItemOverflow'));\n    this.itemLoadLimit = Number(viewport.getAttribute('itemLoadLimit'));\n    this.arrowUpSpeed = Number(viewport.getAttribute('arrowUpSpeed'));\n    this.arrowDownSpeed = Number(viewport.getAttribute('arrowDownSpeed'));\n    this.fillViewportScrolling = viewport.getAttribute('fillViewportScrolling');\n  }\n\n  private convertCustomElementsVariables() {\n    if (this.templateid) {\n      this.templateID = this.templateid;\n    }\n    if (this.preitemoverflow) {\n      this.preItemOverflow = Number(this.preitemoverflow);\n    }\n    if (this.postitemoverflow) {\n      this.postItemOverflow = Number(this.postitemoverflow);\n    }\n    if (this.arrowdownspeed) {\n      this.arrowDownSpeed = Number(this.arrowdownspeed);\n    }\n    if (this.arrowupspeed) {\n      this.arrowUpSpeed = Number(this.arrowupspeed);\n    }\n    if (this.itemloadlimit !== null) {\n      this.itemLoadLimit = Number(this.itemloadlimit);\n    }\n  }\n\n  private createTBodies() {\n    this.listElm = this.elementRef.nativeElement;\n    let body: HTMLElement | null = this.listElm!.getElementsByTagName('tbody')[0];\n    if (body) {\n      body = body.getAttribute('tablejsViewport') !== null ? body : null;\n    }\n\n    this.listContent = body ? body : document.createElement('tbody');\n    this.listContent.setAttribute('tablejsListContent', '');\n    this.listContent.setAttribute('tablejsViewport', '');\n    this.listContent.style.display = 'block';\n    this.listContent.style.position = 'relative';\n    this.listContent.style.height = '350px';\n    this.listContent.style.overflowY = 'auto';\n    this.listElm!.appendChild(this.listContent);\n\n    if (this.fillViewportScrolling !== undefined && this.fillViewportScrolling !== null) {\n      const coverBody = document.createElement('tbody');\n      coverBody.style.display = 'block';\n      coverBody.style.position = 'absolute';\n      coverBody.style.width = '100%';\n      coverBody.style.height = '100%';\n      coverBody.style.overflow = 'auto';\n      coverBody.style.pointerEvents = 'none';\n      coverBody.style.visibility = 'false';\n      this.listElm!.appendChild(coverBody);\n    }\n\n    this.directiveRegistrationService.registerViewportOnGridDirective(this.listContent);\n\n    const compFactory = this.componentFactoryResolver.resolveComponentFactory(ScrollPrevSpacerComponent);\n    const componentRef = this.virtualNexus!.virtualForDirective._viewContainer.createComponent<ScrollPrevSpacerComponent>(compFactory, null, this.virtualNexus!.virtualForDirective._viewContainer.injector);\n    this.virtualNexus!.virtualForDirective._viewContainer.detach(0);\n    const ref: EmbeddedViewRef<any> = this.virtualNexus!.virtualForDirective._viewContainer.createEmbeddedView(componentRef.instance.template, undefined, 0);\n    this.prevSpacer = ref.rootNodes[0];\n\n    this.postSpacer = document.createElement('tr');\n    this.postSpacer.setAttribute('tablejsPostSpacer', '');\n    this.postSpacer.style.display = 'block';\n    this.postSpacer.style.position = 'relative';\n    this.listContent.appendChild(this.postSpacer);\n  }\n\n  private addScrollHandler(): void {\n    this.listContent!.addEventListener('scroll', (e) => {\n      this.handleScroll(e);\n    });\n  }\n\n  public rerenderRowAt(index: number, updateScrollPosition: boolean = false): void {\n    if (!this.viewportHasScrolled) {\n      return;\n    }\n    const ind = index - this.adjustedStartIndex!;\n    const itemName: string = 'item' + index;\n\n    if (ind > this.items!.length - 1 || this.itemVisibilityLookup[this.itemName] !== true) {\n      return;\n    }\n\n    const indexMap: any = {};\n    for (let i = 1; i < this.virtualNexus!.virtualForDirective._viewContainer.length; i++) {\n      indexMap[(this.virtualNexus!.virtualForDirective._viewContainer.get(i) as EmbeddedViewRef<any>).rootNodes[0].index] = i;\n    };\n    const detachedRef: ViewRef | null = this.virtualNexus!.virtualForDirective._viewContainer.detach(indexMap[index]);\n    const child: HTMLElement = (detachedRef as EmbeddedViewRef<any>).rootNodes[0];\n    detachedRef!.destroy();\n    \n    this.templateContext = new TablejsForOfContext<any, any>(this.items![index], this.virtualNexus!.virtualForDirective._tablejsForOf, index, this.items!.length);\n    const ref: EmbeddedViewRef<any> = this.virtualNexus!.virtualForDirective._viewContainer.createEmbeddedView(this.virtualNexus!.virtualForDirective._template, this.templateContext, indexMap[index]);\n    this.virtualNexus!.virtualForDirective._viewContainer.move(ref, indexMap[index]);\n    let clone: any = ref.rootNodes[0];\n    clone.index = index;\n    this.cdr!.detectChanges();\n\n    this.scrollDispatcherService.dispatchRemoveItemEvents(this.itemRemoved, child, index, this, this.elementRef.nativeElement);\n\n    const lookupHeight: number = clone.offsetHeight;\n    const oldHeight: number = this.heightLookup[itemName];\n    this.heightLookup[itemName] = lookupHeight;\n\n    clone.lastHeight = lookupHeight;\n\n    this.addResizeSensor(clone, index);\n\n    if (oldHeight) {\n      this.updateEstimatedHeightFromResize(oldHeight, lookupHeight);\n    } else {\n      this.updateEstimatedHeight(lookupHeight);\n    }\n\n    if (updateScrollPosition) {\n      this.refreshViewport();\n    }\n\n    this.scrollDispatcherService.dispatchUpdateItemEvents(this.itemUpdated, clone, index, this, this.elementRef.nativeElement);\n    this.scrollDispatcherService.dispatchAddItemEvents(this.itemAdded, clone, index, this, this.elementRef.nativeElement);\n  }\n\n  private viewportRendered() {\n    this.virtualNexus = this.directiveRegistrationService.getVirtualNexusFromViewport(this);\n\n    if (this.virtualNexus && this.virtualNexus.virtualForDirective) {\n      this.items = this.virtualNexus.virtualForDirective._tablejsForOf;\n\n      this.virtualForChangesSubscription$ = this.virtualNexus.virtualForDirective.changes.subscribe(item => {\n        const isTheSameArray = this.items === item.tablejsForOf;\n        this.items = item.tablejsForOf;\n\n        const scrollToOptions = { index: 0, scrollAfterIndexedItem: 0 };\n        if (isTheSameArray) {\n          scrollToOptions.index = this.range.startIndex as number;\n          scrollToOptions.scrollAfterIndexedItem = this.scrollChangeByFirstIndexedItem;\n\n          // array has changed...rerender current elements\n          const listChildren = Array.from(this.listContent!.childNodes);\n        } else {\n          this.updateItems(item.tablejsForOf, scrollToOptions);\n        }\n      });\n    }\n\n    // this.convertCustomElementsVariables();\n    this.createTBodies();\n    this.addScrollHandler();\n    // this.attachMutationObserver();\n\n    if (this.items && (this.generateCloneMethod || this.virtualNexus.virtualForDirective._template)) {\n      this.initScroll({\n        items: this.items,\n        generateCloneMethod: this._cloneMethod!\n      });\n    }\n    this.scrollDispatcherService.dispatchViewportReadyEvents(this.viewportReady, this, this.elementRef.nativeElement);\n  }\n\n  public scrollToBottom(): void {\n    this.range.startIndex = this.items!.length;\n    this.scrollToExact(this.range.startIndex, 0);\n  }\n\n  public scrollToTop(): void {\n    this.scrollToExact(0, 0);\n  }\n\n  public pageUp(): void {\n    let heightCount: number = this.scrollChangeByFirstIndexedItem;\n    if (this.range.startIndex === 0) {\n      this.scrollToExact(0, 0);\n      return;\n    }\n    for (let i = this.range.startIndex! - 1; i >= 0; i--) {\n      const lookupHeight: number = this.heightLookup['item' + i] ? this.heightLookup['item' + i] : this.avgItemHeight;\n      heightCount += lookupHeight;\n      if (heightCount >= this.containerHeight! || i === 0) {\n        const overflowDifference: number = heightCount >= this.containerHeight! ? heightCount - this.containerHeight! : 0;\n        this.scrollToExact(i, overflowDifference);\n        break;\n      }\n    }\n  }\n\n  public pageDown(): void {\n    this.range.startIndex = this.range.endIndex! - 1;\n    const overflowDifference: number = this.heightLookup['item' + (this.range.endIndex! - 1).toString()] - this.lastVisibleItemOverflow;\n    this.scrollToExact(this.range.startIndex, overflowDifference);\n  }\n\n  private addArrowListeners() {\n    this.elementRef.nativeElement.addEventListener('mouseenter', this.handleMouseOver = (e: MouseEvent) => {\n      this.mouseIsOverViewport = true;\n    });\n    this.elementRef.nativeElement.addEventListener('mouseleave', this.handleMouseOut = (e: MouseEvent) => {\n      this.mouseIsOverViewport = false;\n    });\n\n    document.addEventListener('keydown', this.handleKeyDown = (e: KeyboardEvent) => {\n\n      if (this.mouseIsOverViewport) {\n\n        const isMac = this.operatingSystem.isMac();\n\n        switch (e.code) {\n          case 'ArrowDown':\n            if (isMac && e.metaKey) {\n              e.preventDefault();\n              this.scrollToBottom();\n            } else {\n              e.preventDefault();\n              this.range.startIndex! += Number(this.arrowDownSpeed);\n              this.scrollToExact(this.range.startIndex!, 0);\n            }\n            break;\n          case 'ArrowUp':\n            if (isMac && e.metaKey) {\n              e.preventDefault();\n              this.scrollToTop();\n            } else {\n              if (this.scrollChangeByFirstIndexedItem === 0) {\n                e.preventDefault();\n                this.range.startIndex! -= Number(this.arrowUpSpeed);\n                this.scrollToExact(this.range.startIndex!, 0);\n              } else {\n                e.preventDefault();\n                this.scrollChangeByFirstIndexedItem = 0;\n                this.scrollToExact(this.range.startIndex!, 0);\n              }\n            }\n            break;\n          case 'PageDown':\n            e.preventDefault();\n            this.pageDown();\n            break;\n          case 'PageUp':\n            e.preventDefault();\n            this.pageUp();\n            break;\n          case 'End':\n            e.preventDefault();\n            this.scrollToBottom();\n            break;\n          case 'Home':\n            e.preventDefault();\n            this.scrollToTop();\n            break;\n        }\n\n      }\n    });\n  }\n\n\n  public ngAfterViewInit() {\n    this.gridDirective = (this.gridService.getParentTablejsGridDirective(this.elementRef.nativeElement)! as any)['gridDirective'];\n    this.gridDirective!.scrollViewportDirective = this;\n\n    this.gridDirective!.preGridInitialize.pipe(take(1)).subscribe(res => {\n      this.cdr!.detectChanges();\n      this.refreshContainerHeight();\n\n      this.refreshViewport();\n      // placeholder object is used only to initialize first grid render\n      if (this.items![0] === this.placeholderObject) {\n        this.items!.shift();\n      }\n    });\n\n    this.viewportRendered();\n    this.addArrowListeners();\n  }\n\n  public ngOnInit() {\n    this.registerViewportToElement();\n    this._cloneMethod = this.generateCloneMethod;\n  }\n\n  public ngOnDestroy() {\n    this.elementRef.nativeElement.removeEventListener('mouseenter', this.handleMouseOver);\n    this.elementRef.nativeElement.removeEventListener('mouseleave', this.handleMouseOut);\n    document.removeEventListener('keydown', this.handleKeyDown!);\n    if (this.virtualForChangesSubscription$) {\n      this.virtualForChangesSubscription$.unsubscribe();\n    }\n  }\n\n  private setScrollSpacers(): void {\n\n    const numItemsAfterShownList = this.items!.length - this.range.extendedEndIndex!;\n    const numItemsBeforeShownList = this.adjustedStartIndex;\n\n    const totalUnshownItems = numItemsBeforeShownList! + numItemsAfterShownList;\n\n    const beforeItemHeightPercent = totalUnshownItems !== 0 ? numItemsBeforeShownList! / totalUnshownItems : 0;\n    const afterItemHeightPercent = totalUnshownItems !== 0 ? numItemsAfterShownList / totalUnshownItems : 0;\n    const remainingHeight = this.estimatedFullContentHeight - this.lastHeight;\n\n    this.estimatedPreListHeight = Math.round(beforeItemHeightPercent * remainingHeight);\n    this.estimatedPostListHeight = Math.round(afterItemHeightPercent * remainingHeight);\n\n    // account for rounding both up\n    this.estimatedPostListHeight = this.estimatedPostListHeight - (afterItemHeightPercent * remainingHeight) === 0.5 ? this.estimatedPostListHeight - 1 : this.estimatedPostListHeight;\n\n    if (this.forcedEndIndex) {\n      this.estimatedPreListHeight = 0;\n      this.estimatedPostListHeight = 0;\n    }\n\n    this.prevSpacer!.style.height = this.estimatedPreListHeight.toString() + 'px';\n    this.postSpacer!.style.height = this.estimatedPostListHeight.toString() + 'px';\n\n  }\n\n  private setHeightByListHeightDifference(liHeight: number, listHeight: number) {\n    return liHeight - listHeight;\n  }\n\n  private removePreScrollItems(lastIndex: number, index: number) {\n    if (lastIndex < index) {\n      for (let i = lastIndex; i < index; i++) {\n        const firstRef: ViewRef | null = this.virtualNexus!.virtualForDirective._viewContainer.get(1);\n        if (firstRef) {\n          const firstChild = (firstRef as EmbeddedViewRef<any>).rootNodes[0];\n          const itemName = 'item' + i;\n          this.itemVisibilityLookup[itemName] = false;\n  \n          const detachedRef: ViewRef | null = this.virtualNexus!.virtualForDirective._viewContainer.detach(1);\n          detachedRef!.destroy();\n          this.cdr!.detectChanges();\n\n          this.removeResizeSensor(firstChild, i);\n          this.lastHeight -= this.heightLookup[itemName];\n          this.scrollDispatcherService.dispatchRemoveItemEvents(this.itemRemoved, firstChild, i, this, this.elementRef.nativeElement);\n        }\n      }\n    }\n  }\n  private removePostScrollItems(lastEndIndex: number, endIndex: number) {\n    if (lastEndIndex >= this.items!.length) {\n      lastEndIndex = this.items!.length - 1;\n    }\n\n    for (let i = lastEndIndex; i >= endIndex; i--) {\n      const lastChild = this.getPreviousSibling(this.listContent!.lastElementChild);\n      if (lastChild) {\n        const itemName = 'item' + i;\n        this.itemVisibilityLookup[itemName] = false;\n\n        const detachedRef: ViewRef | null = this.virtualNexus!.virtualForDirective._viewContainer.detach(this.virtualNexus!.virtualForDirective._viewContainer.length - 1);\n        detachedRef!.destroy();\n        this.cdr!.detectChanges();\n\n        this.removeResizeSensor(lastChild, i);\n        this.lastHeight -= this.heightLookup[itemName];\n        this.scrollDispatcherService.dispatchRemoveItemEvents(this.itemRemoved, (detachedRef as EmbeddedViewRef<any>).rootNodes[0], i, this, this.elementRef.nativeElement);\n      }\n    }\n  }\n\n  public updateItems(items: any[], scrollToOptions: any = {index: -1, scrollAfterIndexedItem: 0 }): void {\n    if (this.pauseViewportRenderUpdates) {\n      return;\n    }\n    for (let i = this.virtualNexus!.virtualForDirective._viewContainer.length - 1; i > 0; i--) {\n      const detachedRef: ViewRef | null = this.virtualNexus!.virtualForDirective._viewContainer.detach(i);\n      detachedRef!.destroy();\n    }\n    this.cdr!.detectChanges();\n\n    this.resetToInitialValues();\n    this.items = items;\n    if (this.virtualNexus) {\n      this.virtualNexus.virtualForDirective._tablejsForOf = items;\n    }\n\n    if (scrollToOptions.index !== -1) {\n      this.scrollToExact(scrollToOptions.index, scrollToOptions.scrollAfterIndexedItem);\n    }\n  }\n\n  public resetToInitialValues(): void {\n    this.lastScrollTop = 0;\n    this.currentScrollTop = 0;\n    this.currentScrollChange = 0;\n    this.estimatedFullContentHeight = 0;\n    this.estimatedPreListHeight = 0;\n    this.estimatedPostListHeight = 0;\n    this.totalItemsCounted = 0;\n    this.totalHeightCount = 0;\n    this.avgItemHeight = undefined;\n    this.heightLookup = {};\n    this.itemVisibilityLookup = {};\n    this.overflowHeightCount = 0;\n    this.scrollChangeByFirstIndexedItem = 0;\n    this.lastVisibleItemHeight = Infinity;\n    this.preOverflowHeight = 0;\n    this.lastHeight = 0;\n    this.range.startIndex = 0;\n    this.range.endIndex = 0;\n    this.range.extendedStartIndex = 0;\n    this.range.extendedEndIndex = 0;\n    this.lastRange.startIndex = this.range.startIndex;\n    this.lastRange.endIndex = this.range.endIndex;\n    this.lastRange.extendedStartIndex = this.range.extendedStartIndex;\n    this.lastRange.extendedEndIndex = this.range.extendedEndIndex;\n    this.forcedEndIndex = undefined;\n  }\n\n  public recalculateRowHeight(index: number): void {\n    const itemName: string = 'item' + index;\n    const indexMap: any = {};\n    for (let i = 1; i < this.virtualNexus!.virtualForDirective._viewContainer.length; i++) {\n      indexMap[(this.virtualNexus!.virtualForDirective._viewContainer.get(i) as EmbeddedViewRef<any>).rootNodes[0].index] = i;\n    };\n    const rowRef: EmbeddedViewRef<any> = this.virtualNexus!.virtualForDirective._viewContainer.get(indexMap[index]) as EmbeddedViewRef<any>;\n    const rowEl: HTMLElement | any = rowRef.rootNodes[0];\n\n    const lookupHeight: number = rowEl.offsetHeight;\n    const heightDifference: number = lookupHeight - this.heightLookup[itemName];\n    this.updateEstimatedHeightFromResize(this.heightLookup[itemName], lookupHeight);\n    this.heightLookup[itemName] = lookupHeight;\n\n    rowEl.lastHeight = lookupHeight;\n    this.lastHeight += heightDifference;\n  }\n\n  private updateEstimatedHeightFromResize(oldHeight: number, newHeight: number): void {\n    this.totalHeightCount += (newHeight - oldHeight);\n    this.avgItemHeight = (this.totalHeightCount / this.totalItemsCounted);\n    this.estimatedFullContentHeight = this.avgItemHeight * this.items!.length;\n  }\n  private updateEstimatedHeight(height: number) {\n    this.totalHeightCount += height;\n    this.totalItemsCounted++;\n\n    this.avgItemHeight = (this.totalHeightCount / this.totalItemsCounted);\n    this.estimatedFullContentHeight = this.avgItemHeight * this.items!.length;\n  }\n\n  public getPreviousSibling(el: Node | Element | null): any {\n    if (!el) {\n      return null;\n    }\n    let prev = el.previousSibling;\n    while (prev !== null && prev !== undefined && prev.nodeType !== 1) {\n      prev = prev.previousSibling;\n    }\n    return prev;\n  }\n  public getNextSibling(el: Element | null): any {\n    if (!el) {\n      return null;\n    }\n    let next = el.nextSibling;\n    while (next !== null && next !== undefined && next.nodeType !== 1) {\n      next = next.nextSibling;\n    }\n    return next;\n  }\n\n  private getEstimatedChildInsertions(remainingHeight: number): number {\n    return Math.ceil(remainingHeight / this.avgItemHeight!);\n  }\n\n  private setLastRangeToCurrentRange() {\n    this.lastRange.startIndex = this.range.startIndex;\n    this.lastRange.endIndex = this.range.endIndex;\n    this.lastRange.extendedStartIndex = this.range.extendedStartIndex;\n    this.lastRange.extendedEndIndex = this.range.extendedEndIndex;\n  }\n\n  private resetLastHeight() {\n    if (!this.lastHeight) {\n      this.lastHeight = 0;\n    }\n  }\n\n  private maintainIndexInBounds(index: number) {\n    if (index > this.items!.length - 1) {\n      index = this.items!.length - 1;\n    } else if (index < 0) {\n      index = 0;\n    }\n    return index;\n  }\n\n  private maintainEndIndexInBounds(index: number) {\n    if (index > this.items!.length) {\n      index = this.items!.length;\n    } else if (index < 0) {\n      index = 0;\n    }\n    return index;\n  }\n\n  public showRange(startIndex: number, endIndex: number, overflow: number = 0): void {\n    this.updateItems(this.items!, {index: startIndex, scrollAfterIndexedItem: endIndex });\n    startIndex = this.maintainIndexInBounds(startIndex);\n    endIndex = this.maintainEndIndexInBounds(endIndex);\n    if (endIndex <= startIndex) {\n      endIndex = startIndex + 1;\n    }\n\n    const oldContainerHeight: number = this.containerHeight!;\n    const oldPreItemOverflow: number = Number(this.preItemOverflow);\n    const oldPostItemOverflow: number = Number(this.postItemOverflow);\n\n    this.preItemOverflow = 0;\n    this.postItemOverflow = 0;\n    this.containerHeight = 100000;\n    this.forcedEndIndex = endIndex;\n\n    this.scrollToExact(startIndex, overflow);\n\n    const rangeToKeep: Range = { ...this.range};\n    const lastRangeToKeep: Range = { ...this.lastRange };\n\n    this.preItemOverflow = oldPreItemOverflow;\n    this.postItemOverflow = oldPostItemOverflow;\n    this.containerHeight = oldContainerHeight;\n    this.forcedEndIndex = undefined;\n\n    this.range = rangeToKeep;\n    this.lastRange = lastRangeToKeep;\n\n  }\n\n  public getDisplayedContentsHeight(): number {\n    return this.lastHeight;\n  }\n\n  public refreshContainerHeight(): void {\n    this.containerHeight = this.listContent!.clientHeight;\n  }\n\n  public allItemsFitViewport(recalculateContainerHeight: boolean = false, refreshViewport: boolean = false): boolean {\n    if (recalculateContainerHeight) {\n      this.cdr!.detectChanges();\n      this.refreshContainerHeight();\n    }\n    if (refreshViewport) {\n      this.refreshViewport(true);\n    }\n    return this.range.startIndex === this.range.extendedStartIndex &&\n            this.range.endIndex === this.range.extendedEndIndex && \n            this.lastHeight <= this.containerHeight!;\n  }\n\n  public getCurrentScrollPosition(): any {\n    return {\n      index: this.range.startIndex,\n      overflow: this.scrollChangeByFirstIndexedItem,\n      lastItemOverflow: this.lastVisibleItemOverflow > 0 ? 0 : this.lastVisibleItemOverflow\n    }\n  }\n\n  private setHeightsForOverflowCalculations(itemIndex: number, scrollToIndex: number, itemHeight: number) {\n    this.lastHeight += itemHeight;\n\n    if (itemIndex < scrollToIndex) {\n      this.preOverflowHeight += itemHeight;\n    }\n\n    if (itemIndex >= scrollToIndex) {\n      this.overflowHeightCount += itemHeight;\n      if (this.overflowHeightCount >= this.containerHeight!) {\n        this.postItemOverflowCount++;\n\n        if (this.postItemOverflowCount === 0) {\n          this.lastVisibleItemHeight = this.heightLookup['item' + itemIndex];\n        }\n      }\n    }\n  }\n\n  private addResizeSensor(el: any, index: number): void {\n  }\n  private removeResizeSensor(el: any, index: number): void {\n  }\n\n  public onTransitionEnd: (_e: any) => void = (e) => {\n  }\n  public onTransitionRun: (_e: any) => void = (e) => {\n  }\n  public onTransitionStart: (_e: any) => void = (e) => {\n  }\n  public onTransitionCancel: (_e: any) => void = (e) => {\n  }\n\n  public getCloneFromTemplateRef(index: number): HTMLElement {\n    let clone: HTMLElement;\n\n    this.templateContext = new TablejsForOfContext<any, any>(this.items![index], this.virtualNexus!.virtualForDirective._tablejsForOf, index, this.items!.length);\n    const viewRef = this.virtualNexus!.virtualForDirective._template.createEmbeddedView(this.templateContext);\n    viewRef.detectChanges();\n    clone = viewRef.rootNodes[0];\n\n    return clone;\n  }\n\n  private addScrollItems(index: number, overflow: number): void {\n    const scrollingUp = index < this.lastRange.startIndex!;\n\n    this.range.extendedStartIndex = this.adjustedStartIndex;\n    this.range.startIndex = index;\n    this.overflowHeightCount = -overflow;\n    this.preOverflowHeight = 0;\n    const firstEl = this.getNextSibling(this.listContent!.firstElementChild);\n    this.lastHeight = 0;\n    let batchSize: number = this.avgItemHeight !== undefined && isNaN(this.avgItemHeight) === false ? this.getEstimatedChildInsertions(this.containerHeight! - this.lastHeight) + Number(this.preItemOverflow) + Number(this.postItemOverflow) : 1;\n    let itemsToBatch: any[] = [];\n    let itemBefore: Node;\n    let indexBefore: number;\n    const firstRef: ViewRef | null = this.virtualNexus!.virtualForDirective._viewContainer.get(1);\n    const appendToEnd: boolean = firstRef === null;\n    for (let i = this.adjustedStartIndex!; i < this.adjustedStartIndex! + Number(this.itemLoadLimit); i++) {\n      if (i < 0) {\n        continue;\n      }\n      if (i > this.items!.length - 1) {\n        break;\n      }\n\n      this.itemName = 'item' + i;\n      // only insert item if it is not already visible\n      const itemIsInvisible: boolean = this.itemVisibilityLookup[this.itemName] !== true;\n\n      if (itemIsInvisible) {\n        itemBefore = !scrollingUp ? this.postSpacer : firstEl;\n\n        indexBefore = !scrollingUp || appendToEnd ? this.virtualNexus!.virtualForDirective._viewContainer.length : this.virtualNexus!.virtualForDirective._viewContainer.indexOf(firstRef!);\n\n        this.itemVisibilityLookup[this.itemName] = true;\n\n        this.templateContext = new TablejsForOfContext<any, any>(this.items![i], this.virtualNexus!.virtualForDirective._tablejsForOf, i, this.items!.length);\n        const ref: EmbeddedViewRef<any> = this.virtualNexus!.virtualForDirective._viewContainer.createEmbeddedView(this.virtualNexus!.virtualForDirective._template, this.templateContext, indexBefore);\n        this.virtualNexus!.virtualForDirective._viewContainer.move(ref, indexBefore);\n\n        const prev: any = ref.rootNodes[0];\n        prev.index = i;\n        \n        itemsToBatch.push({ index: i, name: this.itemName, item: prev, before: itemBefore });\n\n        this.scrollDispatcherService.dispatchAddItemEvents(this.itemAdded, prev, i, this, this.elementRef.nativeElement);\n      } else {\n        itemsToBatch.push({ index: i, name: this.itemName, item: null, before: null });\n        this.setHeightsForOverflowCalculations(i, index, this.heightLookup[this.itemName]);\n      }\n\n      if (itemsToBatch.length === batchSize || i === this.items!.length - 1 || this.postItemOverflowCount >= Number(this.postItemOverflow)) {\n        for (let j = 0; j < itemsToBatch.length; j++) {\n          const batchObj: any = itemsToBatch[j];\n          const name: string = batchObj.name;\n          const ind: number = batchObj.index;\n          const oldHeight: number = this.heightLookup[name];\n\n          if (batchObj.item === null) {\n            continue;\n          }\n\n          this.cdr!.detectChanges();\n          const lookupHeight: number = batchObj.item.offsetHeight;\n\n          this.heightLookup[name] = lookupHeight;\n\n          batchObj.item.lastHeight = lookupHeight;\n          this.addResizeSensor(batchObj.item, batchObj.index);\n\n          if (oldHeight) {\n            this.updateEstimatedHeightFromResize(oldHeight, lookupHeight);\n          } else {\n            this.updateEstimatedHeight(lookupHeight);\n          }\n          this.setHeightsForOverflowCalculations(ind, index, lookupHeight);\n        }\n        batchSize = this.getEstimatedChildInsertions(this.containerHeight! - this.lastHeight) + Number(this.preItemOverflow) + Number(this.postItemOverflow);\n        if (batchSize <= 0) {\n          batchSize = Number(this.postItemOverflow);\n        }\n        itemsToBatch = [];\n      }\n      \n      if (this.postItemOverflowCount <= 0) {\n        this.range.endIndex = i + 1;\n      }\n      this.range.extendedEndIndex = i + 1;\n      // if item height is lower than the bottom of the container area, stop adding items\n      if (this.forcedEndIndex === undefined) {\n        if (this.postItemOverflowCount >= Number(this.postItemOverflow)) {\n          break;\n        }\n      } else {\n        if (i === this.forcedEndIndex - 1) {\n          break;\n        }\n      }\n    }\n    let itemName: string;\n    let endIndexFound: boolean = false;\n    let heightCount: number = -overflow;\n    for (let i = this.range.startIndex; i < this.range.extendedEndIndex!; i++) {\n      itemName = 'item' + i;\n      heightCount += this.heightLookup[itemName];\n\n      if (this.forcedEndIndex !== undefined) {\n        if (i === this.forcedEndIndex - 1) {\n          this.range.endIndex = i + 1;\n          this.lastVisibleItemOverflow = heightCount - this.containerHeight!;\n\n          endIndexFound = true;\n          break;\n        }\n      } else {\n        if (heightCount >= this.containerHeight! && !endIndexFound) {\n          this.range.endIndex = i + 1;\n          this.lastVisibleItemOverflow = heightCount - this.containerHeight!;\n\n          endIndexFound = true;\n          break;\n        }\n      }\n    }\n  }\n\n  private addMissingPostScrollItemsAndUpdateOverflow(index: number, overflow: number): number {\n\n    let firstEl;\n    let itemsToBatch: any[] = [];\n    let batchSize: number;\n\n    if (this.overflowHeightCount <= this.containerHeight!) {\n      batchSize = this.getEstimatedChildInsertions(this.containerHeight!) + Number(this.preItemOverflow);\n      this.preItemOverflowCount = -1;\n      this.preOverflowHeight = 0;\n\n      firstEl = this.getNextSibling(this.listContent!.firstElementChild);\n\n      let heightCount = 0;\n      let count = 0;\n\n      for (let i = this.range.endIndex! - 1; i >= 0; i--) {\n        this.itemName = 'item' + i;\n\n        count++;\n        if (i <= this.range.extendedStartIndex! && this.itemVisibilityLookup[this.itemName] !== true) {\n\n          this.itemVisibilityLookup[this.itemName] = true;\n\n          this.templateContext = new TablejsForOfContext<any, any>(this.items![i], this.virtualNexus!.virtualForDirective._tablejsForOf, i, this.items!.length);\n          const ref: EmbeddedViewRef<any> = this.virtualNexus!.virtualForDirective._viewContainer.createEmbeddedView(this.virtualNexus!.virtualForDirective._template, this.templateContext, 1);\n          this.virtualNexus!.virtualForDirective._viewContainer.move(ref, 1);\n          const prev: any = ref.rootNodes[0];\n          prev.index = i;\n          this.cdr!.detectChanges();\n\n          itemsToBatch.push({ index: i, name: this.itemName, item: prev, before: firstEl });\n          this.scrollDispatcherService.dispatchAddItemEvents(this.itemAdded, prev, i, this, this.elementRef.nativeElement);\n          firstEl = prev;\n\n          this.range.extendedStartIndex = i;\n          this.adjustedStartIndex = i;\n        } else {\n          itemsToBatch.push({ index: i, name: this.itemName, item: null, before: null });\n\n          heightCount += this.heightLookup[this.itemName];\n          if (heightCount > this.containerHeight!) {\n            this.preItemOverflowCount++;\n            if (this.preItemOverflowCount === 0) {\n              overflow = heightCount - this.containerHeight!;\n              this.range.startIndex = i;\n              index = i;\n            } else {\n              this.preOverflowHeight += this.heightLookup[this.itemName];\n            }\n            this.range.extendedStartIndex = i;\n            this.adjustedStartIndex = i;\n          }\n        }\n\n        if (itemsToBatch.length === batchSize || i === 0) {\n          for (let j = 0; j < itemsToBatch.length; j++) {\n            const batchObj: any = itemsToBatch[j];\n            if (batchObj.item === null) {\n              continue;\n            }\n            const name: string = batchObj.name;\n            const ind: number = batchObj.index;\n            const lookupHeight: number = batchObj.item.offsetHeight;\n            const oldHeight: number = this.heightLookup[name];\n            this.heightLookup[name] = lookupHeight;\n\n            batchObj.item.lastHeight = lookupHeight;\n            this.addResizeSensor(batchObj.item, batchObj.index);\n            if (oldHeight) {\n              this.updateEstimatedHeightFromResize(oldHeight, lookupHeight);\n            } else {\n              this.updateEstimatedHeight(lookupHeight);\n            }\n\n            heightCount += lookupHeight;\n\n            if (heightCount > this.containerHeight!) {\n              this.preItemOverflowCount++;\n              if (this.preItemOverflowCount === 0) {\n                overflow = heightCount - this.containerHeight!;\n                this.range.startIndex = batchObj.index;\n                index = batchObj.index;\n              } else {\n                this.preOverflowHeight += lookupHeight;\n              }\n              this.range.extendedStartIndex = batchObj.index;\n              this.adjustedStartIndex = batchObj.index;\n            }\n\n          }\n          batchSize = this.getEstimatedChildInsertions(this.containerHeight! - this.lastHeight) + Number(this.preItemOverflow);\n          if (batchSize <= 0) {\n            batchSize = Number(this.preItemOverflow);\n          }\n          itemsToBatch = [];\n        }\n\n        if (this.preItemOverflowCount >= this.preItemOverflow) {\n          break;\n        }\n      }\n    }\n\n    return overflow;\n  }\n\n  public scrollToExact(index: number, overflow: number = 0): void {\n    if (!this.items || this.items.length === 0) {\n      return;\n    }\n\n    this.resetLastHeight();\n    index = this.maintainIndexInBounds(index);\n    overflow = index === 0 && overflow < 0 ? 0 : overflow;\n\n    this.adjustedStartIndex = index - Number(this.preItemOverflow) <= 0 ? 0 : index - Number(this.preItemOverflow);\n\n    this.preItemOverflowCount = -1;\n    this.postItemOverflowCount = -1;\n    this.lastVisibleItemOverflow = 0;\n\n    this.range.endIndex = 0;\n    this.range.extendedEndIndex = 0;\n\n    this.removePreScrollItems(this.lastRange.extendedStartIndex!, Math.min(this.adjustedStartIndex, this.lastRange.extendedEndIndex!));\n\n    this.addScrollItems(index, overflow);\n\n    this.removePostScrollItems(this.lastRange.extendedEndIndex! - 1, Math.max(this.lastRange.extendedStartIndex!, this.range.extendedEndIndex));\n\n    if (!this.forcedEndIndex) {\n      overflow = this.addMissingPostScrollItemsAndUpdateOverflow(index, overflow);\n    }\n\n    this.setLastRangeToCurrentRange();\n\n    this.setScrollSpacers();\n\n    this.lastScrollTop = this.preOverflowHeight + overflow + this.estimatedPreListHeight;\n    this.listContent!.scrollTop = this.lastScrollTop;\n    this.currentScrollTop = this.lastScrollTop;\n\n    this.scrollChangeByFirstIndexedItem = overflow;\n    this.scrollDispatcherService.dispatchRangeUpdateEvents(this.rangeUpdated, this.range, this, this.elementRef.nativeElement);\n\n    this.viewportHasScrolled = true;\n\n  }\n\n  private getRangeChange(scrollChange: number) {\n    let heightCount = 0;\n    let rangeStartCount = 0;\n    let overflow = 0;\n    const newRange: Range = { startIndex: null, endIndex: null, extendedStartIndex: null, extendedEndIndex: null };\n    let itemName;\n\n    if (scrollChange > 0) {\n      for (let i = this.range.startIndex; i! <= this.range.endIndex! + Number(this.itemLoadLimit); i!++) {\n        overflow = scrollChange - heightCount;\n        itemName = 'item' + i;\n        if (this.heightLookup[itemName]) {\n          heightCount += this.heightLookup[itemName];\n        } else {\n          heightCount += this.avgItemHeight!;\n        }\n\n        if (heightCount >= scrollChange) {\n          break;\n        }\n\n        rangeStartCount++;\n      }\n\n      newRange.startIndex = this.range.startIndex! + rangeStartCount;\n      newRange.endIndex = rangeStartCount < this.range.endIndex! - this.range.startIndex! ? this.range.endIndex : newRange.startIndex + 1;\n    }\n\n    if (scrollChange < 0) {\n      rangeStartCount = -1;\n      overflow = scrollChange;\n      for (let i = this.range.startIndex! - 1; i >= 0; i--) {\n        itemName = 'item' + i;\n        if (this.heightLookup[itemName]) {\n          overflow += this.heightLookup[itemName];\n          heightCount += this.heightLookup[itemName];\n        } else {\n          overflow += this.avgItemHeight!;\n          heightCount += this.avgItemHeight!;\n        }\n\n        if (overflow >= 0) {\n          break;\n        }\n\n        rangeStartCount--;\n      }\n\n      newRange.startIndex = this.range.startIndex! + rangeStartCount >= 0 ? this.range.startIndex! + rangeStartCount : 0;\n      newRange.endIndex = rangeStartCount < this.range.endIndex! - this.range.startIndex! ? this.range.endIndex : newRange.startIndex + 1;\n    }\n\n    this.scrollChangeByFirstIndexedItem = overflow;\n\n    return newRange;\n  }\n\n  public refreshViewport(recalculateRows: boolean = false): void {\n    if (recalculateRows) {\n      for (let i = this.range.extendedStartIndex!; i < this.range.extendedEndIndex!; i++) {\n        this.recalculateRowHeight(i);\n      }\n    }\n    this.scrollToExact(this.range.startIndex!, this.scrollChangeByFirstIndexedItem);\n  }\n\n  public updateScrollFromRange(newRange: Range): void {\n    if (newRange.startIndex !== null) {\n      if (this.range.startIndex !== newRange.startIndex || this.lastVisibleItemOverflow < 0) {\n        this.range.startIndex = newRange.startIndex;\n        this.range.endIndex = newRange.endIndex;\n\n        this.refreshViewport();\n      } else {\n        this.lastScrollTop = this.currentScrollTop;\n      }\n    }\n    this.lastScrollTop = this.currentScrollTop;\n  }\n\n  private initScroll(options: IScrollOptions) {\n    this.items = options.items;\n    this._cloneMethod = options.generateCloneMethod;\n    const itemsAreEmpty: boolean = this.items.length === 0;\n    let index = options.initialIndex ? options.initialIndex : 0;\n\n    if (this.virtualNexus && this.virtualNexus.virtualForDirective._template) {\n      setTimeout(() => {\n        this.cloneFromTemplateRef = true;\n        this.verifyViewportIsReady();\n        this.initFirstScroll(index);\n      });\n    } else {\n      this.template = document.getElementById(this.templateID!);\n      this.verifyViewportIsReady();\n      this.initFirstScroll(index);\n    }\n  }\n\n  private verifyViewportIsReady() {\n    if (this.templateID === '' && !this.templateIsSet()) {\n      throw Error('Scroll viewport template ID is not set.');\n    }\n    if (!this.itemsAreSet()) {\n      throw new Error('Scroll viewport requires an array of items.  Please supply an items array.');\n    }\n    if (!this.cloneMethodIsSet() && !this.templateIsSet()) {\n      throw new Error('Scroll viewport requires a cloning method or a template.  Please supply a method as follows:\\n\\n (template: HTMLElement, items: any[], index: number) => Node\\n\\n or supply a tablejsVirtualFor');\n    }\n  }\n\n  private initFirstScroll(index: number): void {\n    const itemsAreEmpty: boolean = this.items!.length === 0;\n    this.refreshContainerHeight();\n    if (itemsAreEmpty) {\n      this.items!.push(this.placeholderObject);\n      this.scrollToExact(index, 0);\n      const node: HTMLElement = (this.virtualNexus!.virtualForDirective._viewContainer.get(1) as EmbeddedViewRef<any>).rootNodes[0];\n      this.renderer!.setStyle(node, 'height', '0px');\n      this.renderer!.setStyle(node, 'minHeight', '0px');\n      this.renderer!.setStyle(node, 'overflow', 'hidden');\n    } else {\n      this.scrollToExact(index, 0);\n    }\n    this.scrollDispatcherService.dispatchViewportInitializedEvents(this.viewportInitialized, this, this.elementRef.nativeElement);\n  }\n\n  private itemsAreSet(): boolean {\n    return !!this.items;\n  }\n  private cloneMethodIsSet(): boolean {\n    return !!this._cloneMethod;\n  }\n  private templateIsSet(): boolean {\n    return this.virtualNexus!.virtualForDirective._template !== undefined && this.virtualNexus!.virtualForDirective._template !== null;\n  }\n\n}\n","import { AfterViewInit, ComponentRef, ComponentFactory, ComponentFactoryResolver, Directive, ElementRef, EventEmitter, OnDestroy, Inject, InjectionToken, Injector, Input, Output, ViewContainerRef, RendererFactory2 } from '@angular/core';\nimport { DragAndDropGhostComponent } from './../../components/drag-and-drop-ghost/drag-and-drop-ghost.component';\nimport { DOCUMENT } from '@angular/common';\nimport { TablejsGridProxy } from './../../shared/classes/tablejs-grid-proxy';\nimport { GridService } from './../../services/grid/grid.service';\nimport { DirectiveRegistrationService } from './../../services/directive-registration/directive-registration.service';\nimport { IColumnData } from './../../shared/interfaces/i-column-data';\nimport { ColumnReorderEvent } from './../../shared/classes/events/column-reorder-event';\nimport { ColumnResizeEvent } from './../../shared/classes/events/column-resize-event';\nimport { GridEvent } from './../../shared/classes/events/grid-event';\nimport { ScrollViewportDirective } from './../../directives/scroll-viewport/scroll-viewport.directive';\nimport { ScrollDispatcherService } from './../../services/scroll-dispatcher/scroll-dispatcher.service';\nimport { OperatingSystemService } from './../../services/operating-system/operating-system.service';\nimport { ResizeSensor } from 'css-element-queries';\nimport { Subject, Subscription } from 'rxjs';\nimport { Overlay, OverlayConfig, OverlayRef, PositionStrategy } from '@angular/cdk/overlay';\nimport { ComponentPortal, ComponentType } from '@angular/cdk/portal';\nimport { IColumnHierarchy } from '../../shared/interfaces/i-column-hierarchy';\nimport { IColumnHideChange } from '../../shared/interfaces/events/i-column-hide-change';\nimport { HideColumnIfDirective } from '../hide-column-if/hide-column-if.directive';\n\n@Directive({\n  selector: '[tablejsGrid],[tablejsgrid]',\n  host: { class: 'tablejs-table-container tablejs-table-width' }\n})\nexport class GridDirective extends TablejsGridProxy implements AfterViewInit, OnDestroy {\n\n  dragging: boolean = false;\n  reordering: boolean = false;\n  startX: number = 0;\n  startY: number = 0;\n  stylesByClass: any[] = [];\n  id: string | null = null;\n  viewport: HTMLElement | null = null;\n  viewportID: string | null = null;\n  currentClassesToResize: string[] = [];\n  startingWidths: number[] = [];\n  minWidths: number[] = [];\n  totalComputedMinWidth: number = 0;\n  totalComputedWidth: number = 0;\n  defaultTableMinWidth: number = 25;\n  gridTemplateClasses: string[] = [];\n  gridOrder: number[] = [];\n  classWidths: any[] = [];\n  gridTemplateTypes: any[] = [];\n  draggingColumn: HTMLElement | null = null;\n  colRangeGroups: number[][][] = [];\n  lastDraggedOverElement: any = null;\n  lastDraggedGroupIndex: number = -1;\n  lastDraggedOverRect: ClientRect | null = null;\n  lastDraggedGroupBoundingRects: ClientRect[] | null = null;\n  lastMoveDirection: number = -1;\n  resizableColumns: HTMLElement[] = [];\n  resizableGrips: HTMLElement[] = [];\n  reorderGrips: HTMLElement[] = [];\n  reorderableColumns: HTMLElement[] = [];\n  columnsWithDataClasses: HTMLElement[] = [];\n  rows: HTMLElement[] = [];\n  infiniteScrollViewports: HTMLElement[] = [];\n  mutationResizableColumns: HTMLElement[] = [];\n  mutationResizableGrips: HTMLElement[] = [];\n  mutationReorderGrips: HTMLElement[] = [];\n  mutationReorderableColumns: HTMLElement[] = [];\n  mutationColumnsWithDataClasses: HTMLElement[] = [];\n  mutationRows: HTMLElement[] = [];\n  mutationInfiniteScrollViewports: HTMLElement[] = [];\n  headTag: HTMLHeadElement = this.document.getElementsByTagName('head')[0];\n  styleContent: string = '';\n  headStyle: HTMLStyleElement | null = null;\n  styleList: HTMLStyleElement[] = [];\n  initialWidths: any[] = [];\n  initialWidthsAreSet: boolean | undefined = undefined;\n  lastColumns: any[] = [];\n  contentResizeSensor: ResizeSensor | null = null;\n  observer: MutationObserver | null = null;\n  isCustomElement: boolean = false;\n\n  parentGroups: Element[][] = [];\n\n  colData: IColumnData | null = null;\n  colDataGroups: IColumnData[][] = [];\n  elementsWithHighlight: any[] = [];\n\n  dragAndDropGhostComponent: DragAndDropGhostComponent | null = null;\n  dragOffsetX: number = 0;\n  dragOffsetY: number = 0;\n  reorderHandleColOffset: number = 0;\n  scrollbarWidth: number = 0;\n\n  initialWidthSettingsSubscription$: Subscription;\n\n  // class used for setting order\n  reorderableClass: string = 'reorderable-table-row';\n\n  // fragments\n  widthStyle: HTMLStyleElement | null = null;\n  widthStyleFragment: DocumentFragment | null = null;\n  reorderHighlightStyle: HTMLStyleElement | null = null;\n  reorderHighlightStyleFragment: DocumentFragment | null = null;\n  subGroupStyles: HTMLStyleElement[] = [];\n  subGroupFragments: (DocumentFragment | null)[] = [];\n  gridOrderStyles: HTMLStyleElement[] = [];\n  gridOrderFragments: (DocumentFragment | null)[] = [];\n  subGroupStyleObjs: any = {};\n  scrollbarAdjustmentFragment: DocumentFragment | null = null;\n  scrollbarAdjustmentStyle: HTMLStyleElement | null = null;\n  resizeMakeUpPercent: number = 0;\n  resizeMakeUpPerColPercent: number = 0;\n\n  scrollViewportDirective: ScrollViewportDirective | null = null;\n  overlayRef: OverlayRef;\n  hiddenColumnIndices: number[] = [];\n  public hiddenColumnChanges: Subject<IColumnHideChange | null> = new Subject<IColumnHideChange | null>();\n  private hiddenColumnChangesSubscription$: Subscription;\n  public HIDDEN_COLUMN_CLASS: string = 'column-is-hidden';\n\n  private injector: Injector;\n  private DRAG_AND_DROP_GHOST_OVERLAY_DATA = new InjectionToken<any>('DRAG_AND_DROP_GHOST_OVERLAY_DATA');\n\n  @Input() linkClass: string | undefined = undefined;\n  @Input() resizeColumnWidthByPercent: boolean = false;\n\n  @Output() columnResizeStart: EventEmitter<any> = new EventEmitter<any>();\n  @Output() columnResize: EventEmitter<any> = new EventEmitter<any>();\n  @Output() columnResizeEnd: EventEmitter<any> = new EventEmitter<any>();\n  @Output() columnReorder: EventEmitter<any> = new EventEmitter<any>();\n  @Output() columnReorderStart: EventEmitter<any> = new EventEmitter<any>();\n  @Output() dragOver: EventEmitter<any> = new EventEmitter<any>();\n  @Output() columnReorderEnd: EventEmitter<any> = new EventEmitter<any>();\n  @Output() preGridInitialize: EventEmitter<any> = new EventEmitter<any>(true);\n  @Output() gridInitialize: EventEmitter<any> = new EventEmitter<any>(true);\n\n  constructor(\n    private viewContainerRef: ViewContainerRef,\n    private elementRef: ElementRef,\n    private resolver: ComponentFactoryResolver,\n    private gridService: GridService,\n    private directiveRegistrationService: DirectiveRegistrationService,\n    @Inject(DOCUMENT) private document: any,\n    private overlay: Overlay,\n    private scrollDispatcherService: ScrollDispatcherService,\n    private operatingSystem: OperatingSystemService,\n    private rendererFactory: RendererFactory2) {\n    super();\n    this.registerDirectiveToElement();\n    this.attachMutationObserver();\n  }\n\n  private registerDirectiveToElement() {\n    this.elementRef.nativeElement.gridDirective = this;\n    this.elementRef.nativeElement.parentElement.gridDirective = this;\n  }\n\n  private attachMutationObserver(): void {\n    const ths: any = this;\n    this.observer = new MutationObserver((mutations: MutationRecord[]) => {\n      mutations.forEach((mutation: MutationRecord) => {\n        ths.updateMutations(mutation);\n      });\n    });\n\n    this.observer.observe(this.elementRef.nativeElement, {\n      // configure it to listen to attribute changes\n      attributes: true,\n      subtree: true,\n      childList: true,\n      characterData: false\n    });\n  }\n\n  private updateMutations(mutation: MutationRecord): void {\n    if (mutation.type === 'childList') {\n      const addedNodes = Array.from(mutation.addedNodes);\n      addedNodes.forEach(node => {\n\n        this.directiveRegistrationService.registerNodeAttributes(node);\n        this.getChildNodes(node);\n      });\n    }\n  }\n\n  private getChildNodes(node: any) {\n    node.childNodes.forEach((childNode: any) => {\n      this.directiveRegistrationService.registerNodeAttributes(childNode);\n      if (childNode.getAttribute) {\n        this.getChildNodes(childNode);\n      }\n    });\n  }\n\n  public ngAfterViewInit() {\n    \n\n    const viewport = this.elementRef.nativeElement.querySelector('*[tablejsScrollViewport]');\n    if (viewport !== null && (viewport.scrollViewportDirective === null || viewport.scrollViewportDirective === undefined)) {\n      // attach directive\n      const viewportRef: ElementRef = new ElementRef(viewport);\n      \n      this.scrollViewportDirective = new ScrollViewportDirective(\n        viewportRef,\n        this.gridService,\n        this.document,\n        this.directiveRegistrationService,\n        this.scrollDispatcherService,\n        this.operatingSystem,\n        this.resolver,\n        null,\n        this.rendererFactory\n      );\n\n      this.scrollViewportDirective.registerCustomElementsInputs(viewport);\n\n      this.scrollViewportDirective.ngOnInit();\n      this.scrollViewportDirective.ngAfterViewInit();\n\n    }\n    \n\n    // Close observer if directives are registering\n\n    this.elementRef.nativeElement.directive = this;\n    if (!this.document['hasPointerDownListener']) {\n      this.document.addEventListener('pointerdown', (e: Event) => {\n        let el: HTMLElement | any | null = e.target as HTMLElement;\n        if (el) {\n          while (el !== null && el.getAttribute('tablejsGrid') === null) {\n            el = el.parentElement;\n          }\n          if (el) {\n            el['directive'].onPointerDown(e);\n          }\n        }\n      });\n      this.document['hasPointerDownListener'] = true;\n    }\n    window.requestAnimationFrame((timestamp) => {\n      this.onEnterFrame(this, timestamp);\n    });\n  }\n\n  private onEnterFrame(ths: any, timestamp: any) {\n    if (this.columnsWithDataClasses.length > 0) {\n      this.observer!.disconnect();\n    }\n\n    if (this.columnsWithDataClasses.length === 0 && this.mutationColumnsWithDataClasses.length === 0) {\n      window.requestAnimationFrame((tmstamp) => {\n        ths.onEnterFrame(ths, tmstamp);\n      });\n      return;\n    }\n\n    if (this.columnsWithDataClasses.length === 0 && this.mutationColumnsWithDataClasses.length !== 0) {\n      this.isCustomElement = true;\n\n      this.resizableColumns = this.mutationResizableColumns.concat();\n      this.resizableGrips = this.mutationResizableGrips.concat();\n      this.reorderGrips = this.mutationReorderGrips.concat();\n      this.reorderableColumns = this.mutationReorderableColumns.concat();\n      this.columnsWithDataClasses = this.mutationColumnsWithDataClasses.concat();\n      this.rows = this.mutationRows.concat();\n      this.infiniteScrollViewports = this.mutationInfiniteScrollViewports.concat();\n\n      this.mutationResizableColumns = [];\n      this.mutationResizableGrips = [];\n      this.mutationReorderGrips = [];\n      this.mutationReorderableColumns = [];\n      this.mutationColumnsWithDataClasses = [];\n      this.mutationRows = [];\n      this.mutationInfiniteScrollViewports = [];\n    }\n\n    const allElementsWithDataResizable: any = this.columnsWithDataClasses;\n    const el = allElementsWithDataResizable[0];\n    const resizeClasses: string[] = this.getResizableClasses(el);\n    const resizeCls = resizeClasses[0];\n    const firstEl: HTMLElement = this.elementRef.nativeElement.getElementsByClassName(resizeCls)[0];\n\n    this.initialWidthSettingsSubscription$ = this.gridService.containsInitialWidthSettings.subscribe(hasWidths => {\n      this.initialWidthsAreSet = hasWidths;\n    });\n    if (!this.hiddenColumnChangesSubscription$) {\n\n      this.hiddenColumnChangesSubscription$ = this.hiddenColumnChanges.subscribe(\n        (change: IColumnHideChange | null) => {\n\n          if (change) {\n            const relatedHeader: Element | any = this.getRelatedHeader(change.hierarchyColumn.element);\n            relatedHeader.hideColumn = change.hidden;\n            \n\n            if (change.wasTriggeredByThisColumn) {\n              this.updateHiddenColumnIndices();\n              const hideColumnIf: HideColumnIfDirective = (change.hierarchyColumn.element as any).hideColumnIf;\n              hideColumnIf.updateHeadersThatCanHide();\n              \n            }\n\n            if (!change.hidden) {\n              if (change.wasTriggeredByThisColumn) {\n                this.currentClassesToResize = this.getResizableClasses(relatedHeader);\n                const avgWidthPerColumn: number = this.getAverageColumnWidth();\n                this.setMinimumWidths();\n                const totalTableWidth: number = this.viewport!.clientWidth;\n                let newWidth: number = avgWidthPerColumn * this.currentClassesToResize.length;\n                this.currentClassesToResize.forEach(className => {\n                  const classIndex: number = this.gridTemplateClasses.indexOf(className);\n                  if (this.resizeColumnWidthByPercent) {\n                    this.classWidths[classIndex] = (avgWidthPerColumn / totalTableWidth * 100).toString() + '%';\n                    // average all percentages\n                  } else {\n                    this.classWidths[classIndex] = Math.max(avgWidthPerColumn, this.minWidths[classIndex]);\n                  }\n                })\n                \n                if (this.resizeColumnWidthByPercent) {\n                  this.fitWidthsToOneHundredPercent();\n                }\n                \n                this.updateWidths(newWidth);\n              }\n            }        \n            this.setGridOrder(); \n          }   \n      });\n    }\n    if (this.parentGroups.length === 0) {\n      this.setParentGroups(allElementsWithDataResizable);\n    }\n    const maxColumnsPerRow: number = this.parentGroups[this.parentGroups.length - 1].length;\n\n    if (firstEl === undefined || firstEl === null) {\n      window.requestAnimationFrame((tmstamp) => {\n        ths.onEnterFrame(ths, tmstamp);\n      });\n    } else {\n      const keys: any[] = Object.keys(this.initialWidths);\n      if (this.initialWidthsAreSet === true && keys.length < maxColumnsPerRow) {\n        window.requestAnimationFrame((tmstamp) => {\n          ths.awaitWidths(ths, tmstamp);\n        });\n      } else {\n        this.checkForGridInitReady();\n      }\n    }\n  }\n\n  public canHideColumn(column: Element): boolean {\n    return (column as any).hideColumnIf.canHide;\n  }\n\n  public getFlattenedHierarchy(): IColumnHierarchy[] {\n    const hierarchy: any = this.getColumnHierarchy();\n    return hierarchy.columnGroups.reduce((prev: any, curr: any) => {\n      let arr: any[] = [curr];\n      if (curr.subColumns) {\n        arr = arr.concat(this.getSubColumns(curr));\n      }\n      return prev.concat(arr);\n    }, []);\n  }\n\n  private getSubColumns(item: any): any[] {\n    if (item.subColumns.length === 0) {\n      return [];\n    }\n    let arr: any[] = [];\n    for (let i = 0; i < item.subColumns.length; i++) {\n      const subItem: any = item.subColumns[i];\n      arr = arr.concat(subItem);\n      if (subItem.subColumns.length > 0) {\n        arr = arr.concat(this.getSubColumns(subItem));\n      }\n    }\n    \n    return arr;\n  }\n\n  public getColumnHierarchy(): any {\n    const hierarchy: any = {\n      columnGroups: []\n    };\n    const highestLevelGroup: IColumnData[] = this.colDataGroups[0];\n    const hierarchyGroup: IColumnHierarchy[] = highestLevelGroup.map((item: IColumnData) => {\n      let levelCount: number = 0;\n      return {\n        level: levelCount,\n        element: item.child,\n        parent: item.parent,\n        parentColumn: null,\n        subColumns: this.getHierarchySubColumns(item, levelCount)\n      };\n    });\n    hierarchy.columnGroups = hierarchyGroup;\n    return hierarchy;\n  }\n\n  getHierarchySubColumns(item: IColumnData, levelCount: number): IColumnHierarchy[] {\n    levelCount++;\n    if (!item.subGroups || item.subGroups.length === 0) {\n      return [];\n    }\n    const subColumns: IColumnHierarchy[] = item.subGroups.map((subItem: IColumnData) => {\n      return {\n        level: levelCount,\n        element: subItem.child,\n        parent: subItem.parent,\n        parentColumn: item.child,\n        subColumns: this.getHierarchySubColumns(subItem, levelCount)\n      }\n    });\n\n    return subColumns;\n\n  }\n\n  public checkForGridInitReady(): void {\n    const allElementsWithDataResizable: any = this.columnsWithDataClasses;\n    const el = allElementsWithDataResizable[0];\n    const resizeClasses: string[] = this.getResizableClasses(el);\n    const resizeCls: any = resizeClasses[0];\n    const keys: any[] = Object.keys(this.initialWidths);\n    const maxColumnsPerRow: number = this.parentGroups[this.parentGroups.length - 1].length;\n\n    if (this.initialWidthsAreSet === true && (keys.length < maxColumnsPerRow || !this.initialWidths[resizeCls])) {\n      window.requestAnimationFrame((tmstamp) => {\n        this.awaitWidths(this, tmstamp);\n      });\n    } else if (this.initialWidthsAreSet === undefined) {\n      window.requestAnimationFrame((tmstamp) => {\n        this.awaitWidths(this, tmstamp);\n      });\n    } else {\n      if (!this.linkClass) {\n        this.initGrid();\n      } else {\n        window.requestAnimationFrame((tmstamp) => {\n          this.awaitSingleFrame(this, tmstamp);\n        });\n      }\n    }\n  }\n\n  private awaitWidths(ths: any, timestamp: any) {\n    this.checkForGridInitReady();\n  }\n\n  private awaitSingleFrame(ths: any, timestamp: any) {\n    this.initGrid();\n  }\n\n  private onPointerDown(event: any) {\n    \n    this.addPointerListeners();\n\n    if (!this.getResizeGripUnderPoint(event)) {\n      return;\n    }\n    // only drag on left mouse button\n    if (event.button !== 0) { return; }\n    \n    // disables unwanted drag and drop functionality for selected text in browsers\n    this.clearSelection();\n\n    const el: HTMLElement = this.elementRef.nativeElement;\n    let resizeHandles: HTMLElement[];\n\n    if (this.elementRef.nativeElement.reordering) {\n      return;\n    }\n\n    const reorderHandlesUnderPoint: Element[] = this.getReorderHandlesUnderPoint(event);\n    const colsUnderPoint: Element[] = this.getReorderColsUnderPoint(event);\n\n    if (reorderHandlesUnderPoint.length > 0 && colsUnderPoint.length > 0) {\n      this.elementRef.nativeElement.reordering = true;\n      this.draggingColumn = colsUnderPoint[0] as HTMLElement;\n\n      this.columnReorderStart.emit({\n        pointerEvent: event,\n        columnDragged: this.draggingColumn,\n        columnHovered: this.draggingColumn\n      });\n      const customReorderStartEvent = new CustomEvent(ColumnReorderEvent.ON_REORDER_START, {\n        detail: {\n          pointerEvent: event,\n          columnDragged: this.draggingColumn,\n          columnHovered: this.draggingColumn\n        }\n      });\n      this.elementRef.nativeElement.parentElement.dispatchEvent(customReorderStartEvent);\n      const elRect: any = this.draggingColumn.getBoundingClientRect();\n      this.dragOffsetX = (event.pageX - elRect.left) - window.scrollX;\n      this.dragOffsetY = (event.pageY - elRect.top) - window.scrollY;\n\n      this.removeDragAndDropComponent();\n      this.createDragAndDropComponent();\n\n      const dragNDropX = event.pageX - this.dragOffsetX;\n      const dragNDropY = event.pageY - this.dragOffsetY;\n      this.setDragAndDropPosition(dragNDropX, dragNDropY);\n\n      this.attachReorderGhost(this.draggingColumn);\n      this.setReorderHighlightHeight(this.draggingColumn);\n\n      this.lastDraggedOverElement = this.draggingColumn;\n\n      this.parentGroups.forEach((arr, index) => {\n        if (arr.indexOf(this.lastDraggedOverElement) !== -1) {\n          this.lastDraggedGroupIndex = index;\n        }\n      });\n      this.reorderHandleColOffset = (reorderHandlesUnderPoint[0] as HTMLElement).getBoundingClientRect().left - this.draggingColumn.getBoundingClientRect().left;\n      this.lastDraggedGroupBoundingRects = this.parentGroups[this.lastDraggedGroupIndex].map(item => {\n        const boundingRect = item.getBoundingClientRect();\n        const rect: any = {\n          left: (item as HTMLElement).getBoundingClientRect().left + this.getContainerScrollCount(item as HTMLElement),\n          right: boundingRect.right + window.scrollX,\n          top: boundingRect.top,\n          bottom: boundingRect.bottom,\n          width: boundingRect.width,\n          height: boundingRect.height\n        };\n        rect.x = rect.left;\n        rect.y = rect.top;\n        rect.toJSON = {};\n        return rect;\n      });\n    }\n\n    resizeHandles = this.resizableGrips;\n\n    if (resizeHandles.length === 0) {\n      return;\n    }\n\n    // if no handle exists, allow whole row to be resizable\n    if (resizeHandles.length > 0) {\n      const resizableElements: Element[] = document.elementsFromPoint(event.clientX, event.clientY);\n\n      const els: Element[] = resizableElements.filter(item => {\n        let handleItem: Element | null = null;\n        resizeHandles.forEach(resizeHandle => {\n          if (item === resizeHandle) {\n            handleItem = resizeHandle;\n          }\n        });\n        return handleItem !== null;\n      });\n      if (els.length === 0) {\n        return;\n      }\n    }\n\n    this.dragging = true;\n    const elements: Element[] = this.getResizableElements(event);\n    if (elements.length === 0) {\n      return;\n    }\n\n    this.totalComputedMinWidth = 0;\n    this.totalComputedWidth = 0;\n    this.minWidths = [];\n    this.startingWidths = [];\n    this.currentClassesToResize = this.getResizableClasses(elements[0]);\n\n    // disallow resizing the rightmost column with percent sizing\n    if (this.resizeColumnWidthByPercent) {\n      const lastColumnClass: string = this.getLastVisibleColumnClass();\n      if (this.currentClassesToResize.indexOf(lastColumnClass) !== -1) {\n        this.dragging = false;\n      }\n    }    \n\n    this.currentClassesToResize.forEach((className: string) => {\n      const wdth: number = this.getClassWidthInPixels(className);\n      if (!this.columnIsHiddenWithClass(className)) {\n        this.totalComputedWidth += wdth;\n      }\n      this.startingWidths.push(wdth);\n    });\n\n    this.setMinimumWidths();\n\n    this.startX = event.clientX;\n    this.startY = event.clientY;\n\n    this.columnResizeStart.emit({\n      pointerEvent: event,\n      columnWidth: this.totalComputedWidth,\n      columnMinWidth: this.totalComputedMinWidth,\n      classesBeingResized: this.currentClassesToResize\n    });\n    const customResizeStartEvent = new CustomEvent(ColumnResizeEvent.ON_RESIZE_START, {\n      detail: {\n        pointerEvent: event,\n        columnWidth: this.totalComputedWidth,\n        columnMinWidth: this.totalComputedMinWidth,\n        classesBeingResized: this.currentClassesToResize\n      }\n    });\n    this.elementRef.nativeElement.parentElement.dispatchEvent(customResizeStartEvent);\n    // stop interference with reordering columns\n    event.preventDefault();\n    event.stopImmediatePropagation();\n  }\n\n  private getClassWidthInPixels(className: string): number {\n    const classIndex: number = this.gridTemplateClasses.indexOf(className);\n    let wdth: string = this.classWidths[classIndex];\n    if (this.resizeColumnWidthByPercent) {\n      wdth = wdth.replace('%', ''); // remove px\n      let totalTableWidth: number = this.viewport!.clientWidth;\n      wdth = (Number(wdth) / 100 * totalTableWidth).toString();\n    }\n    return Number(wdth);\n  }\n\n  private setMinimumWidths(): void {\n    this.gridTemplateClasses.forEach(className => {\n      const firstEl: Element = this.elementRef.nativeElement.querySelector('.' + className);\n      const minWidth: string = window.getComputedStyle(firstEl).getPropertyValue('min-width');\n      let wdth: number = Number(minWidth.substring(0, minWidth.length - 2)); // remove px\n      wdth = Number(wdth) < this.defaultTableMinWidth ? this.defaultTableMinWidth : wdth; // account for minimum TD size in tables\n      if (this.currentClassesToResize.indexOf(className) !== -1 && !this.columnIsHiddenWithClass(className)) {\n        this.totalComputedMinWidth += wdth;\n      }\n      this.minWidths.push(wdth);\n    });\n  }\n\n  private attachReorderGhost(column: HTMLElement): void {\n    this.dragAndDropGhostComponent?.updateView((column as any).reorderGhost, (column as any).reorderGhostContext)\n  }\n\n  private getContainerScrollCount(el: HTMLElement | null): number {\n\n    if (!el) {\n      return 0;\n    }\n    let scrollXCount: number = el.scrollLeft;\n    while (el !== document.body) {\n      el = el!.parentElement;\n      scrollXCount += el!.scrollLeft;\n    }\n\n    // include scrolling on tablejs-grid component\n    scrollXCount += el!.parentElement!.scrollLeft;\n\n    return scrollXCount;\n  }\n\n  private onPointerMove(event: any) {\n    const ths: GridDirective = document['currentGridDirective'];\n\n    if (ths.elementRef.nativeElement.reordering) {\n\n      ths.clearSelection();\n      const dragNDropX = event.pageX - ths.dragOffsetX;\n      const dragNDropY = event.pageY - ths.dragOffsetY;\n      ths.setDragAndDropPosition(dragNDropX, dragNDropY);\n\n      const trueMouseX: number = event.pageX - ths.reorderHandleColOffset + ths.getContainerScrollCount(ths.draggingColumn);\n\n      if (!ths.lastDraggedOverElement) {\n        return;\n      }\n      ths.columnReorder.emit({\n        pointerEvent: event,\n        columnDragged: ths.draggingColumn,\n        columnHovered: ths.lastDraggedOverElement\n      });\n      const customReorderEvent = new CustomEvent(ColumnReorderEvent.ON_REORDER, {\n        detail: {\n          pointerEvent: event,\n          columnDragged: ths.draggingColumn,\n          columnHovered: ths.lastDraggedOverElement\n        }\n      });\n      ths.elementRef.nativeElement.parentElement.dispatchEvent(customReorderEvent);\n\n      let moveDirection: number = 0;\n      let currentRect: ClientRect;\n      let currentColIndex: number | undefined;\n\n      for (const rect of ths.lastDraggedGroupBoundingRects!) {\n\n        if (trueMouseX > rect.left && trueMouseX < rect.left + rect.width) {\n          const elX: number = rect.left;\n          const elW: number = rect.width;\n\n          if ((trueMouseX - elX) >= elW / 2) {\n            moveDirection = 1;\n          } else {\n            moveDirection = 0;\n          }\n          currentRect = rect;\n          currentColIndex = ths.lastDraggedGroupBoundingRects!.indexOf(rect);\n          break;\n        }\n      }\n\n      if (currentColIndex === undefined) {\n        return;\n      }\n      if (ths.lastDraggedOverRect === currentRect! && ths.lastMoveDirection === moveDirection) {\n        return;\n      }\n      ths.lastMoveDirection = moveDirection;\n      ths.lastDraggedOverRect = currentRect!;\n\n      ths.removeElementHighlight(ths.lastDraggedOverElement);\n      ths.removeHighlights(ths.lastDraggedOverElement, moveDirection);\n\n      const draggableInColumn: Element = ths.parentGroups[ths.lastDraggedGroupIndex][currentColIndex];\n\n      ths.lastDraggedOverElement = draggableInColumn;\n\n      let colRangeDraggedParentInd: number = -1;\n      let colRangeDraggedChildInd: number = -1;\n      let colRangeDroppedParentInd: number = -1;\n      let colRangeDroppedChildInd: number = -1;\n      let draggedInd: number = -1;\n      let droppedInd: number = -1;\n      let draggedGroup: IColumnData[] | Element[] | null = null;\n\n      const pGroup: any = ths.colDataGroups.forEach((group: IColumnData[], groupInd: number) =>\n        group.forEach((columnData: IColumnData, index: number) => {\n            const item: Element | null = columnData.child;\n            if (item === ths.getRelatedHeader(ths.draggingColumn as HTMLElement)) {\n              colRangeDraggedParentInd = groupInd;\n              colRangeDraggedChildInd = ths.getRangePosition(columnData); // index;\n              draggedInd = index;\n              draggedGroup = group;\n            }\n            if (item === ths.getRelatedHeader(ths.lastDraggedOverElement as HTMLElement)) {\n              colRangeDroppedParentInd = groupInd;\n              colRangeDroppedChildInd = ths.getRangePosition(columnData); // index;\n              droppedInd = index;\n            }\n        })\n      );\n\n      if (ths.draggingColumn === ths.lastDraggedOverElement) {\n        return;\n      }\n      let parentRanges: number[][] | null = null;\n      const tempRanges: number[][][] = ths.colRangeGroups.concat();\n      let parentRangeIndex: number = -1;\n      tempRanges.sort((a, b) => b.length - a.length);\n      tempRanges.forEach((item, index) => {\n        if (!parentRanges && item.length < draggedGroup!.length) {\n          parentRanges = item;\n          parentRangeIndex = ths.colRangeGroups.indexOf(item);\n        }\n      });\n      const fromOrder: number = (colRangeDraggedChildInd + 1);\n      const toOrder: number = (colRangeDroppedChildInd + 1);\n\n      // if has to stay within ranges, get ranges and swap\n      if (parentRanges !== null) {\n        ths.colRangeGroups[parentRangeIndex].forEach(\n          range => {\n            const lowRange: number = range[0];\n            const highRange: number = range[1];\n            if (fromOrder >= lowRange && fromOrder < highRange && toOrder >= lowRange && toOrder < highRange) {\n              if (colRangeDraggedParentInd === colRangeDroppedParentInd) {\n                if (moveDirection === 1) {\n                  ths.lastDraggedOverElement.classList.add('highlight-right');\n                } else {\n                  ths.lastDraggedOverElement.classList.add('highlight-left');\n                }\n                ths.elementsWithHighlight.push({ el: ths.lastDraggedOverElement, moveDirection });\n              }\n            }\n          }\n        );\n      } else {\n        if (colRangeDraggedParentInd === colRangeDroppedParentInd) {\n          if (moveDirection === 1) {\n            ths.lastDraggedOverElement.classList.add('highlight-right');\n          } else {\n            ths.lastDraggedOverElement.classList.add('highlight-left');\n          }\n          ths.elementsWithHighlight.push({ el: ths.lastDraggedOverElement, moveDirection });\n        }\n      }\n    }\n    \n    if (!ths.dragging) {\n      return;\n    }\n    let mouseOffset: number = Math.round(event.clientX) - Math.round(ths.startX);\n    const widthsNeedUpdating: boolean = Math.round(event.clientX) !== ths.startX;\n    ths.startX = Math.round(event.clientX); // reset starting X\n    let newWidth: number = ths.totalComputedWidth + mouseOffset;\n    const allowableWidthChange: number = newWidth - ths.totalComputedMinWidth;\n\n    if (allowableWidthChange <= 0) {\n      return;\n    }\n\n    if (widthsNeedUpdating) {\n      ths.updateWidths(newWidth);\n    }\n    ths.columnResize.emit({\n      pointerEvent: event,\n      columnWidth: ths.totalComputedWidth,\n      columnMinWidth: ths.totalComputedMinWidth\n    });\n    const customResizeEvent = new CustomEvent(ColumnResizeEvent.ON_RESIZE, {\n      detail: {\n        pointerEvent: event,\n        columnWidth: ths.totalComputedWidth,\n        columnMinWidth: ths.totalComputedMinWidth\n      }\n    });\n    ths.elementRef.nativeElement.parentElement.dispatchEvent(customResizeEvent);\n  }\n\n  private getLastVisibleColumnClass(): string {\n    let highestOrderIndex: number = 0;\n    let lastVisibleColumnClass: string = '';\n\n    this.gridTemplateClasses.forEach(className => {\n      const classNameIndex: number = this.gridTemplateClasses.indexOf(className);\n      const gridOrderIndex: number = this.gridOrder.indexOf(classNameIndex + 1);\n      if (this.hiddenColumnIndices.indexOf(gridOrderIndex + 1) === -1) {\n        if (gridOrderIndex > highestOrderIndex) {\n          highestOrderIndex = gridOrderIndex;\n          lastVisibleColumnClass = className;\n        }\n      }\n    });\n    return lastVisibleColumnClass;\n  }\n\n  private getRangePosition(columnData: IColumnData): number {\n    let subGroups: IColumnData[] = columnData.subGroups;\n    let child: IColumnData = columnData;\n    while (subGroups.length > 0) {\n      child = subGroups[0];\n      subGroups = child.subGroups;\n    }\n    return child.nthChild - 1;\n  }\n\n  private columnIsHiddenWithClass(className: string): boolean {\n    const classNameIndex: number = this.gridTemplateClasses.indexOf(className);\n    const gridOrderIndex: number = this.gridOrder.indexOf(classNameIndex + 1);\n    return this.hiddenColumnIndices.indexOf(gridOrderIndex + 1) !== -1;\n  }\n\n  private getTotalGroupedColumnsVisible(sortableWidths: ISortableWidthItem[]): number {\n    const len: number = sortableWidths.length;\n    let totalGroupedColumnsVisible: number = 0;\n    for (let i = 0; i < len; i++) {\n      const item: any = sortableWidths[i];\n      if (!this.columnIsHiddenWithClass(item.className)) {\n        totalGroupedColumnsVisible++;\n      }\n    }\n    return totalGroupedColumnsVisible;\n  }\n\n  private getFirstGridOrderIndexAfterColumnGroup(sortableWidthGroup: ISortableWidthItem[]): number {\n    let maxIndex: number = -1;\n    sortableWidthGroup.forEach(classItem => {\n      const columnIndx = this.gridTemplateClasses.indexOf(classItem.className);\n      const gridOrderIndex = this.gridOrder.indexOf(columnIndx + 1);\n      if (maxIndex < gridOrderIndex) {\n        maxIndex = gridOrderIndex;\n      }\n    });\n    return maxIndex + 1;\n  }\n\n  // returns a number in percent moved two decimal places over (10.245 is equal to 10.245%)\n  private getPostColumnWidthTotal(startingIndex: number): number {\n    let count: number = 0;\n    for (let i = startingIndex; i < this.gridOrder.length; i++) {\n      const clsIndex = this.gridOrder[i] - 1;\n      let perc: number = Number(this.classWidths[clsIndex].toString().replace('%', ''));\n      if (this.hiddenColumnIndices.indexOf(i + 1) === -1) {\n        count += perc;\n      }\n    }\n    return count;\n  }\n\n  // returns a number in percent moved two decimal places over (10.245 is equal to 10.245%)\n  private getPostColumnMinimumWidthTotal(startingIndex: number): number {\n    let count: number = 0;\n    for (let i = startingIndex; i < this.gridOrder.length; i++) {\n      const clsIndex = this.gridOrder[i] - 1;\n      let perc: number = Number(this.minWidths[clsIndex].toString().replace('%', ''));\n      if (this.hiddenColumnIndices.indexOf(i + 1) === -1) {\n        count += perc;\n      }\n    }\n    return count;\n  }\n\n  // returns a number in percent moved two decimal places over (10.245 is equal to 10.245%)\n  private getPreviousColumnWidthTotal(sortableWidthGroup: ISortableWidthItem[]): number {\n    let count: number = 0;\n    let minIndex = Infinity;\n    sortableWidthGroup.forEach(classItem => {\n      const columnIndx = this.gridTemplateClasses.indexOf(classItem.className);\n      const gridOrderIndex = this.gridOrder.indexOf(columnIndx + 1);\n      if (minIndex > gridOrderIndex) {\n        minIndex = gridOrderIndex;\n      }\n    });\n    for (let i = 0; i < minIndex; i++) {\n      const classIndx: number = this.gridOrder[i] - 1;\n      const wdth: number = Number(this.classWidths[classIndx].toString().replace('%', ''));\n      count += wdth;\n    }\n    return count;\n  }\n\n  private updateWidthsInPercent(newWidth: number, sortableWidths: ISortableWidthItem[], totalGroupedColumnsVisible: number, sortableWidthGroup: ISortableWidthItem[]): void {\n\n    let totalTableWidth: number = this.viewport!.clientWidth;\n    let newWidthInPercent: number = newWidth / totalTableWidth * 100;\n    \n    const classMinWidths: number[] = sortableWidths.map((item: ISortableWidthItem) => item.minWidth);\n    const groupMinWidthCalc: number = classMinWidths.reduce((prev: number, curr: number) => prev + curr);\n    \n    const firstGridOrderIndexAfterColumnGroup: number = this.getFirstGridOrderIndexAfterColumnGroup(sortableWidthGroup);\n    const colsPastMinWidthCalc: number = this.getPostColumnMinimumWidthTotal(firstGridOrderIndexAfterColumnGroup);\n    const colsPastMinWidthInPercent: number = colsPastMinWidthCalc / totalTableWidth * 100;\n    const colsPastWidthPerc: number = this.getPostColumnWidthTotal(firstGridOrderIndexAfterColumnGroup);\n\n    let prevColPercentTotal: number = 0;\n    prevColPercentTotal = this.getPreviousColumnWidthTotal(sortableWidthGroup);\n    const percentMoved: number = (prevColPercentTotal + newWidthInPercent + colsPastWidthPerc) - 100;\n\n    if (prevColPercentTotal + newWidthInPercent + colsPastMinWidthInPercent > 100) {\n      const actualPerCanMove: number = 100 - (prevColPercentTotal + colsPastMinWidthInPercent);\n      newWidthInPercent = actualPerCanMove;\n    }\n    if (newWidth < groupMinWidthCalc) {\n      newWidthInPercent = groupMinWidthCalc / totalTableWidth * 100;\n    }\n\n    sortableWidths.sort((item1: any, item2: any) => {\n      const wdth1: number = item1.width;\n      const wdth2: number = item2.width;\n      if (wdth1 === wdth2) {\n        return 0;\n      }\n      return wdth1 < wdth2 ? -1 : 1;\n    });\n    \n    const mappedGroupWidthsInPixels: number[] = sortableWidths.map(item => item.width);\n    const totalPrevGroupWidths: number = mappedGroupWidthsInPixels.reduce((prev: number, curr: number) => prev + curr);\n    const dispersedPercs: number[] = sortableWidths.map(item => item.width / totalPrevGroupWidths);\n    const totalPercMoved: number = newWidthInPercent - (totalPrevGroupWidths / totalTableWidth * 100);\n\n\n    let additionalPercentFromColumnsToSmall: number = 0;\n    const sortableWidthsLen: number = sortableWidths.length;\n    sortableWidths.forEach((item: ISortableWidthItem, index: number) => {\n      const classIndex: number = this.gridTemplateClasses.indexOf(item.className);\n      const minWidthInPercent: number = this.minWidths[classIndex] / totalTableWidth * 100;\n    \n      let calculatedPercent: number = dispersedPercs[index] * newWidthInPercent;\n      if (calculatedPercent < minWidthInPercent) {\n        additionalPercentFromColumnsToSmall += minWidthInPercent - calculatedPercent;\n        calculatedPercent = minWidthInPercent;\n      } else {\n        const itemsRemaining: number = sortableWidthsLen - index - 1;\n        if (itemsRemaining !== 0) {\n          const extraAmtToRemove: number = additionalPercentFromColumnsToSmall / itemsRemaining;\n          calculatedPercent -= extraAmtToRemove;\n          additionalPercentFromColumnsToSmall -= extraAmtToRemove;\n        }\n      }\n      const colWidthInPercent: string = calculatedPercent.toString() + '%';\n      this.classWidths[classIndex] = colWidthInPercent;\n    });\n\n    let remainingPercToDisperse: number = totalPercMoved + additionalPercentFromColumnsToSmall;\n    const maxPercsCanMovePerCol: any[] = [];\n    for (let i = firstGridOrderIndexAfterColumnGroup; i < this.gridOrder.length; i++) {\n      const clsIndex = this.gridOrder[i] - 1;\n      let perc: number = Number(this.classWidths[clsIndex].toString().replace('%', ''));\n      let minWidthPerc: number =  (this.minWidths[clsIndex] / totalTableWidth * 100);\n      if (this.hiddenColumnIndices.indexOf(i + 1) === -1) {\n        maxPercsCanMovePerCol.push({ \n          moveAmt: percentMoved > 0 ? perc - minWidthPerc : perc,\n          classIndex: clsIndex\n        });\n      }\n    }\n\n    const totalPercsCanMove: number = maxPercsCanMovePerCol.reduce((prev: number, curr: any) => prev + curr.moveAmt, 0.0000001);\n    maxPercsCanMovePerCol.forEach((item: any) => {\n      const percOfTotalMovementAllowed: number = item.moveAmt / totalPercsCanMove;\n      const percOfRemainingDispersement: number = percOfTotalMovementAllowed * remainingPercToDisperse;\n      const perc: number = Number(this.classWidths[item.classIndex].toString().replace('%', ''));\n      const dispersedWidth: number = perc - percOfRemainingDispersement;\n      this.classWidths[item.classIndex] = dispersedWidth + '%';\n    });\n\n    newWidth = newWidthInPercent / 100 * totalTableWidth;\n    let amountMoved: number = newWidth - totalPrevGroupWidths;\n    amountMoved = Math.round(amountMoved * 100) / 100; // round to 2 decimal points\n    this.totalComputedWidth += amountMoved;\n\n    const gridTemplateColumns: string = this.constructGridTemplateColumns();\n    this.gridTemplateTypes.forEach(styleObj => {      \n      styleObj.style.innerHTML = this.id + ' .' + this.reorderableClass + ' { display: grid; grid-template-columns:' + gridTemplateColumns + '; }';\n      this.setStyleContent();\n    });\n   \n  }\n\n  private updateWidthsInPixels(newWidth: number, sortableWidths: ISortableWidthItem[], totalGroupedColumnsVisible: number): void {\n\n    let remainingWidth: number = this.totalComputedWidth - newWidth;\n    \n    sortableWidths.forEach((item: ISortableWidthItem) => {\n      const maxPercOfRemaining: number = 1 / totalGroupedColumnsVisible;\n      let amountMoved: number = 0;\n      const resizeID: string = this.id + ' .' + item.className;\n\n      if (item.width - item.minWidth < maxPercOfRemaining * remainingWidth) {\n        amountMoved = item.width - item.minWidth;\n      } else {\n        amountMoved = maxPercOfRemaining * remainingWidth;\n      }\n      \n      amountMoved = Math.round(amountMoved * 100) / 100; // round to 2 decimal points\n\n      const classIndex: number = this.gridTemplateClasses.indexOf(item.className);\n      this.classWidths[classIndex] = (item.width - amountMoved);\n      \n      const markupItem: any = this.stylesByClass.filter(style => style.id === resizeID)[0];\n      let markup = resizeID + ' { width: ' + (item.width - amountMoved) + 'px }';\n      markupItem.markup = markup;\n      markupItem.width = (item.width - amountMoved).toString();\n\n      this.totalComputedWidth -= amountMoved;\n    });\n\n    const gridTemplateColumns: string = this.constructGridTemplateColumns();\n\n    this.gridTemplateTypes.forEach(styleObj => {\n      styleObj.style.innerHTML = this.id + ' .' + this.reorderableClass + ' { display: grid; grid-template-columns:' + gridTemplateColumns + '; }';\n      this.setStyleContent();\n    });\n  }\n\n  private fitWidthsToOneHundredPercent(): void {\n    const numericalWidths: number[] = this.classWidths.map((wdth: string, index: number) => Number(wdth.replace('%', '')));\n    const widthTotal: number = numericalWidths.reduce((prev: number, wdth: number) => {\n      return prev + wdth;\n    }, 0);\n\n    const scaledWidths: { width: number, index: number }[] = numericalWidths.map((wdth: number, index: number) => {\n      return {\n        width: wdth / widthTotal * 100,\n        index: index\n      }\n    });\n\n    scaledWidths.forEach((item: { width: number, index: number }, index: number) => {\n      this.classWidths[item.index] = scaledWidths[item.index].width.toString() + '%';\n    })\n  }\n\n  private updateWidths(newWidth: number) {\n    const currentWidths: number[] = this.currentClassesToResize.map((resizeClass: string) => {\n      return this.getClassWidthInPixels(resizeClass);\n    });\n\n    const sortableWidths: ISortableWidthItem[] = currentWidths.map((w, index) => {\n      return {\n        minWidth: this.minWidths[index],\n        width: w,\n        className: this.currentClassesToResize[index]\n      }\n    });\n\n    const visibleSortableWidths: ISortableWidthItem[] = sortableWidths.filter(item => {\n      return !this.columnIsHiddenWithClass(item.className);\n    })\n\n    const totalGroupedColumnsVisible: number = this.getTotalGroupedColumnsVisible(visibleSortableWidths);\n\n    if (this.resizeColumnWidthByPercent) {\n      this.updateWidthsInPercent(newWidth, visibleSortableWidths, totalGroupedColumnsVisible, sortableWidths);\n    } else {\n      this.updateWidthsInPixels(newWidth, visibleSortableWidths, totalGroupedColumnsVisible);\n    }\n\n    this.generateWidthStyle();\n  }\n\n  private generateWidthStyle() {\n    let innerHTML = '';\n    this.stylesByClass.forEach(item => {\n      innerHTML += item.markup;\n    });\n    this.widthStyle!.innerHTML = innerHTML;\n    this.setStyleContent();\n  }\n\n  private getResizableClasses(el: Element | any): string[] {\n    return el ? el['dataClasses'] : null;\n  }\n\n  private setResizableStyles() {\n\n    const allElementsWithDataResizable: any = this.columnsWithDataClasses;\n    let el: Element;\n    const classesUsed: string[] = [];\n\n    let fragment: DocumentFragment;\n    let style: HTMLStyleElement;\n    let styleText = '';\n\n    if (this.linkClass === undefined || this.gridService.linkedDirectiveObjs[this.linkClass] === undefined) {\n      fragment = document.createDocumentFragment();\n      style = document.createElement('style');\n      style.type = 'text/css';\n    } else {\n      fragment = this.gridService.linkedDirectiveObjs[this.linkClass].widthStyleFragment;\n      style = this.gridService.linkedDirectiveObjs[this.linkClass].widthStyle;\n    }\n    let markup: string;\n\n    if (this.linkClass === undefined || this.gridService.linkedDirectiveObjs[this.linkClass] === undefined) {\n      for (let i = 0; i < allElementsWithDataResizable.length; i++) {\n        el = allElementsWithDataResizable[i];\n        const resizeClasses: string[] = this.getResizableClasses(el);\n\n        resizeClasses.forEach((resizeCls: any) => {\n          if (classesUsed.indexOf(resizeCls) === -1) {\n            const firstEl: HTMLElement = this.elementRef.nativeElement.getElementsByClassName(resizeCls)[0];\n            const startingWidth = !!this.initialWidths[resizeCls] ? this.initialWidths[resizeCls] : firstEl.offsetWidth;\n            // Override percentage if we have widthPercent enabled\n            const startingWidthPercent = this.initialWidths[resizeCls];\n            const resizeID: string = this.id + ' .' + resizeCls;\n            if (this.resizeColumnWidthByPercent || startingWidth.toString().includes('%')) {\n              markup = resizeID + ' { width: ' + 100 + '%}';\n              this.resizeColumnWidthByPercent = true;\n            } else {\n              markup = resizeID + ' { width: ' + startingWidth + 'px }';\n            }\n            styleText += markup;\n            this.stylesByClass.push({ style, id: resizeID, resizeClass: resizeCls, markup, width: startingWidth });\n            classesUsed.push(resizeCls);\n          }\n        });\n      }\n    } else {\n      this.stylesByClass = this.gridService.linkedDirectiveObjs[this.linkClass].stylesByClass;\n    }\n\n    if (this.linkClass === undefined || this.gridService.linkedDirectiveObjs[this.linkClass] === undefined) {\n      style.innerHTML = styleText;\n    }\n    fragment.appendChild(style);\n    this.widthStyle = style;\n    this.widthStyleFragment = fragment;\n\n    this.addStyle(style, false);\n\n    if (this.linkClass) {\n      if (this.gridService.linkedDirectiveObjs[this.linkClass] === undefined) {\n        this.gridService.linkedDirectiveObjs[this.linkClass] = {};\n        this.gridService.linkedDirectiveObjs[this.linkClass].gridDirective = this;\n        this.gridService.linkedDirectiveObjs[this.linkClass].stylesByClass = this.stylesByClass;\n      }\n      this.gridService.linkedDirectiveObjs[this.linkClass].widthStyleFragment = fragment;\n      this.gridService.linkedDirectiveObjs[this.linkClass].widthStyle = style;\n    }\n  }\n\n  private addStyle(style: HTMLStyleElement, addToContent: boolean = true): void {\n    if (this.styleList.indexOf(style) === -1) {\n      this.styleList.push(style);\n    }\n\n    if (addToContent) {\n      this.setStyleContent();\n    }\n  }\n\n  private setStyleContent(): void {\n    this.styleContent = '';\n    this.styleList.forEach(style => {\n      this.styleContent += style.innerHTML;\n    });\n    this.headStyle!.innerHTML = this.styleContent;\n  }\n\n  public moveStyleContentToProminent(): void {\n    this.headTag.appendChild(this.headStyle!);\n  }\n\n  private setReorderStyles() {\n    if (this.linkClass === undefined || (this.gridService.linkedDirectiveObjs[this.linkClass] && this.gridService.linkedDirectiveObjs[this.linkClass].reorderHighlightStyle === undefined)) {\n      const fragment: DocumentFragment = document.createDocumentFragment();\n      const style = document.createElement('style');\n      style.type = 'text/css';\n      style.innerHTML = this.id + ' .highlight-left div:after, ' + this.id + ' .highlight-right div:after { height: 200px !important }';\n      fragment.appendChild(style);\n      this.reorderHighlightStyle = style;\n      this.reorderHighlightStyleFragment = fragment;\n\n      this.addStyle(style, false);\n\n      if (this.linkClass) {\n        this.gridService.linkedDirectiveObjs[this.linkClass].reorderHighlightStyle = this.reorderHighlightStyle;\n        this.gridService.linkedDirectiveObjs[this.linkClass].reorderHighlightStyleFragment = this.reorderHighlightStyleFragment;\n      }\n    } else {\n      this.reorderHighlightStyle = this.gridService.linkedDirectiveObjs[this.linkClass].reorderHighlightStyle;\n      this.reorderHighlightStyleFragment = this.gridService.linkedDirectiveObjs[this.linkClass].reorderHighlightStyleFragment;\n    }\n  }\n\n  private getColSpan(element: Element): number {\n    const colSpan: string | null = element.getAttribute('colspan');\n    return colSpan === null ? 1 : Number(colSpan);\n  }\n\n  private validateColumnSpansAreTheSame(colSpans: number[]) {\n\n    if (colSpans.length === 0) {\n      throw Error('No columns appear to exist.');\n    }\n    const colLength: number = colSpans[0];\n    const invalidColLengths: number[] = colSpans.filter(item => item !== colLength);\n    if (invalidColLengths.length > 0) {\n      throw Error('Grid column lengths do not match.  Please check your colspans.');\n    }\n  }\n\n  private onPointerUp(event: any) {\n\n    const ths: GridDirective = document['currentGridDirective'];\n    ths.removePointerListeners();\n    if (ths.elementRef.nativeElement.reordering) {\n\n      ths.elementRef.nativeElement.reordering = false;\n      ths.removeDragAndDropComponent();\n      if (!ths.lastDraggedOverElement) {\n        return;\n      }\n      ths.removeElementHighlight(ths.lastDraggedOverElement);\n      ths.removeHighlights();\n\n      if (ths.reorderGrips.length !== 0) {\n        ths.reorderColumns(event);\n      }\n\n      ths.columnReorderEnd.emit({\n        pointerEvent: event,\n        columnDragged: ths.draggingColumn,\n        columnHovered: ths.lastDraggedOverElement\n      });\n      const customReorderEndEvent = new CustomEvent(ColumnReorderEvent.ON_REORDER_END, {\n        detail: {\n          pointerEvent: event,\n          columnDragged: ths.draggingColumn,\n          columnHovered: ths.lastDraggedOverElement\n        }\n      });\n      ths.elementRef.nativeElement.parentElement.dispatchEvent(customReorderEndEvent);\n      ths.lastDraggedOverElement = null;\n      ths.lastMoveDirection = -1;\n      ths.draggingColumn!.classList.remove('dragging');\n      ths.draggingColumn = null;\n    }\n    if (!ths.dragging) {\n      return;\n    }\n    ths.columnResizeEnd.emit({\n      pointerEvent: event,\n      columnWidth: ths.totalComputedWidth,\n      columnMinWidth: ths.totalComputedMinWidth,\n      classesBeingResized: ths.currentClassesToResize\n    });\n    const customResizeEndEvent = new CustomEvent(ColumnResizeEvent.ON_RESIZE_END, {\n      detail: {\n        pointerEvent: event,\n        columnWidth: ths.totalComputedWidth,\n        columnMinWidth: ths.totalComputedMinWidth,\n        classesBeingResized: ths.currentClassesToResize\n      }\n    });\n    ths.elementRef.nativeElement.parentElement.dispatchEvent(customResizeEndEvent);\n    ths.endDrag(event);\n  }\n\n  private addPointerListeners() {\n    this.document['currentGridDirective'] = this;\n    this.document.addEventListener('pointermove', this.onPointerMove);\n    this.document.addEventListener('pointerup', this.onPointerUp);\n  }\n  private removePointerListeners() {\n    this.document['currentGridDirective'] = null;\n    this.document.removeEventListener('pointermove', this.onPointerMove);\n    this.document.removeEventListener('pointerup', this.onPointerUp);\n  }\n\n  private endDrag(event: any): void {\n    if (!this.dragging) {\n      return;\n    }\n    event.stopPropagation();\n    event.preventDefault();\n    event.stopImmediatePropagation();\n\n    this.totalComputedMinWidth = 0;\n    this.totalComputedWidth = 0;\n    this.currentClassesToResize = [];\n    this.minWidths = [];\n    this.startingWidths = [];\n    this.dragging = false;\n  }\n\n  private initGrid() {\n    \n    if (this.linkClass === undefined || this.gridService.linkedDirectiveObjs[this.linkClass] === undefined) {\n      this.headStyle = document.createElement('style');\n      this.headStyle.type = 'text/css';\n      this.headTag.appendChild(this.headStyle);\n    } else {\n      this.headStyle = this.gridService.linkedDirectiveObjs[this.linkClass].headStyle;\n    }\n\n    this.generateContainerID();\n    this.generateViewportID();\n    this.attachContentResizeSensor();\n    this.setResizableStyles();\n    this.setReorderStyles();\n    this.generateColumnGroups();\n\n    this.setGridTemplateClasses();\n    \n\n    if (this.linkClass !== undefined && this.gridService.linkedDirectiveObjs[this.linkClass].stylesByClass) {\n      this.stylesByClass = this.gridService.linkedDirectiveObjs[this.linkClass].stylesByClass;\n      this.classWidths = this.gridService.linkedDirectiveObjs[this.linkClass].classWidths;\n    }\n    if (this.linkClass !== undefined && this.gridService.linkedDirectiveObjs[this.linkClass].classWidths) {\n      this.classWidths = this.gridService.linkedDirectiveObjs[this.linkClass].classWidths;\n    } else {\n      this.classWidths = this.calculateWidthsFromStyles();\n      if (this.linkClass) {\n        this.gridService.linkedDirectiveObjs[this.linkClass].classWidths = this.classWidths;\n      }\n    }\n\n    this.setGridOrder();\n    this.emitGridInitialization();\n  }\n\n  private setGridTemplateClasses(): void {\n    let ind: number = -1;\n    let highestLen: number = 0;\n    \n    let group: any;\n\n    for (let index = 0; index < this.parentGroups.length; index++) {\n      group = this.parentGroups[index];\n      if (group.length > highestLen) {\n        highestLen = group.length;\n        ind = index;\n      }\n    }\n    \n\n    if (this.parentGroups.length !== 0) {\n      this.parentGroups[ind].forEach((item2, index) => {\n        this.gridTemplateClasses.push(this.getResizableClasses(item2)[0]);\n      });\n    }\n    \n    if (this.linkClass) {\n      if (!this.gridService.linkedDirectiveObjs[this.linkClass].gridTemplateClasses) {\n        this.gridService.linkedDirectiveObjs[this.linkClass].gridTemplateClasses = this.gridTemplateClasses;\n      } else {\n        \n        this.verifyLinkedTemplateClassesMatch();\n      }\n      \n    }\n  }\n\n  private verifyLinkedTemplateClassesMatch(): void {\n    let columnsAreTheSame: boolean = true;\n    this.gridService.linkedDirectiveObjs[this.linkClass!].gridTemplateClasses.forEach((item, index) => {\n      if (item !== this.gridTemplateClasses[index]) {\n        columnsAreTheSame = false;\n      }\n    });\n    if (!columnsAreTheSame) {\n      throw Error(`Column classes must match for linked tables:\\n\\n ${this.gridService.linkedDirectiveObjs[this.linkClass!].gridTemplateClasses}\\n   does not match\\n ${this.gridTemplateClasses}\\n`);\n    }\n  }\n\n  private calculateWidthsFromStyles(): any[] {\n    if (!this.stylesByClass[0].width.toString().includes('%') && this.classWidths.length === 0 && this.resizeColumnWidthByPercent) {\n      return this.stylesByClass.map((styleObj, index) => {\n        return (Math.round((1 / this.stylesByClass.length) * 10000) / 100).toString() + '%';\n      });\n    } else {\n      return this.stylesByClass.map((styleObj, index) => {\n        if (styleObj.width.toString().includes('%')) {\n          return styleObj.width;\n        } else {\n          return Number(styleObj.width);\n        }\n      });\n    }\n  }\n\n  private emitGridInitialization() {\n    const emitterObj = {\n      gridComponent: this,\n      gridElement: this.elementRef.nativeElement\n    };\n    this.preGridInitialize.emit(emitterObj);\n    this.gridInitialize.emit(emitterObj);\n\n    const customGridInitializedEvent = new CustomEvent(GridEvent.ON_INITIALIZED, {\n      detail: {\n        gridComponent: emitterObj.gridComponent,\n        gridElement: emitterObj.gridComponent,\n        type: GridEvent.ON_INITIALIZED\n      }\n    });\n    this.elementRef.nativeElement.parentElement.dispatchEvent(customGridInitializedEvent);\n  }\n\n  private createDragAndDropComponent() {\n    const componentRef: ComponentRef<any> = this.openModal(DragAndDropGhostComponent, this.DRAG_AND_DROP_GHOST_OVERLAY_DATA, {});\n    this.dragAndDropGhostComponent = componentRef.instance;\n  }\n\n  openModal(\n    componentType: ComponentType<unknown>,\n    token: InjectionToken<any>,\n    data: any, positionStrategy: PositionStrategy | null = null,\n    overlayConfig: OverlayConfig | null = null\n  ): ComponentRef<unknown> {\n\n    if (!positionStrategy) {\n      positionStrategy = this.overlay\n      .position()\n      .global()\n      .centerHorizontally()\n      .centerVertically();\n    }\n   \n    if (!overlayConfig) {\n      overlayConfig = new OverlayConfig({\n        hasBackdrop: true,\n        backdropClass: 'modal-bg',\n        panelClass: 'modal-container',\n        scrollStrategy: this.overlay.scrollStrategies.block(),\n        positionStrategy\n      });\n    }\n\n    this.overlayRef = this.overlay.create(overlayConfig);\n\n    this.injector = this.createInjector(data, token);\n\n    const containerPortal: ComponentPortal<unknown> = new ComponentPortal(componentType, null, this.injector);\n    const containerRef: ComponentRef<unknown> = this.overlayRef.attach(containerPortal);\n\n    return containerRef;\n  }\n\n  private createInjector(dataToPass, token: any): Injector {\n    return Injector.create({\n      parent: this.injector,\n      providers: [\n        { provide: token, useValue: dataToPass }\n      ]\n    })\n  }\n\n  private setDragAndDropPosition(x: number, y: number) {\n    this.dragAndDropGhostComponent!.left = x;\n    this.dragAndDropGhostComponent!.top = y;\n  }\n\n  private removeDragAndDropComponent() {\n    if (this.overlayRef) {\n      this.overlayRef.detach();\n    }\n  }\n\n  private setParentGroups(allElementsWithDataResizable: any[]): void {\n    const colSpans: number[] = [];\n    let currSpanCount: number = 0;\n    let lastParent: Element | null = null;\n    let children!: Element[];\n    let columnStart: number = 1;\n    let colRanges: number[][] = [];\n\n    this.colRangeGroups.push(colRanges);\n\n    let item: any;\n    for (let index = 0; index < allElementsWithDataResizable.length; index++) {\n      const item: Element = allElementsWithDataResizable[index];\n      const span: number = this.getColSpan(item);\n      \n      if (item.parentElement !== lastParent) {\n        if (index !== 0) {\n          colSpans.push(currSpanCount);\n          columnStart = 1;\n          colRanges = [];\n          this.colRangeGroups.push(colRanges);\n        }\n        currSpanCount = 0;\n        lastParent = item.parentElement;\n        children = [];\n        this.parentGroups.push(children);\n      }\n      colRanges.push([columnStart, (span + columnStart)]);\n      currSpanCount += span;\n      columnStart += span;\n      children.push(item);\n    }\n\n    colSpans.push(currSpanCount);\n\n    this.validateColumnSpansAreTheSame(colSpans);\n  }\n\n  private generateColumnGroups() {\n    const allElementsWithDataResizable: any = this.columnsWithDataClasses;\n    const arr: Element[] = allElementsWithDataResizable;\n    let colOrder: number = 1;\n    let lastParent: Element | null = null;\n    let lastGroup: IColumnData[] | null = null;\n    let lastOrder: number = 0;\n    let lastIndex: number = 0;\n    let spanCount: number = 0;\n    let colDataGroup: any[] = [];\n\n    this.colDataGroups.push(colDataGroup);\n\n    for (let index = 0; index < arr.length; index++) {\n      const item: Element | null = arr[index];\n\n      if (item.parentElement !== lastParent) {\n        if (index !== 0) {\n          colOrder = 1;\n          lastGroup = colDataGroup;\n          lastOrder = index;\n          lastIndex = 0;\n          colDataGroup = [];\n          this.colDataGroups.push(colDataGroup);\n        }\n        lastParent = item.parentElement;\n      }\n      colOrder = index + 1 - lastOrder;\n\n      if (lastGroup !== null) {\n        if (lastGroup[lastIndex].span < (colOrder - spanCount)) {\n          spanCount += lastGroup[lastIndex].span;\n          lastIndex++;\n        }\n\n      }\n      \n      this.colData = {\n        order: colOrder,\n        lastDataSpan: (colOrder - spanCount),\n        nthChild: colOrder,\n        span: this.getColSpan(item),\n        subGroups: [],\n        parent: item.parentElement as Element,\n        child: item,\n        linkedChildren: [],\n        subColumnLength: 0\n      };\n      colDataGroup.push(this.colData);\n    }\n    \n    let groupsWereSet: boolean = false;\n    if (this.linkClass && this.gridService.linkedDirectiveObjs[this.linkClass].colDataGroups) {\n      this.verifyLinkedGroupStructuresMatch(this.colDataGroups, this.gridService.linkedDirectiveObjs[this.linkClass].colDataGroups);\n      groupsWereSet = true;\n      this.colDataGroups = this.gridService.linkedDirectiveObjs[this.linkClass].colDataGroups;\n      this.colDataGroups = this.gridService.linkedDirectiveObjs[this.linkClass].colDataGroups;\n    }\n\n    \n\n    if (this.linkClass) {\n      this.gridService.linkedDirectiveObjs[this.linkClass].colDataGroups = this.colDataGroups;\n    }\n\n    if (!groupsWereSet) {\n      let columnGroup: any;\n      for (let index = 0, len = this.colDataGroups.length; index < len; index++) {\n        columnGroup = this.colDataGroups[index];\n        if (index < this.colDataGroups.length - 1) {\n          this.generateSubGroup(columnGroup, this.colDataGroups[index + 1]);\n        }\n        if (index === len - 1) {\n          this.orderSubGroups(columnGroup);\n        }\n      }\n    } else {\n      \n      this.setLinkedHeaderContainerClasses();\n      this.setLinkedChildren();\n\n      if (this.gridService.linkedDirectiveObjs[this.linkClass!].subGroupStyleObjs) {\n        this.gridTemplateTypes = this.gridService.linkedDirectiveObjs[this.linkClass!].gridTemplateTypes;\n        this.styleList =  this.gridService.linkedDirectiveObjs[this.linkClass!].styleList;\n        this.subGroupStyleObjs = this.gridService.linkedDirectiveObjs[this.linkClass!].subGroupStyleObjs;\n        this.subGroupStyles = this.gridService.linkedDirectiveObjs[this.linkClass!].subGroupStyles;\n        this.subGroupFragments = this.gridService.linkedDirectiveObjs[this.linkClass!].subGroupFragments;\n        this.gridOrder = this.gridService.linkedDirectiveObjs[this.linkClass!].gridOrder;\n      }\n    }\n  }\n\n  private verifyLinkedGroupStructuresMatch(colDataGroups1: IColumnData[][], colDataGroups2: IColumnData[][]): void {\n    let columnGroupsAreTheSame: boolean = true;\n    if (colDataGroups1.length !== colDataGroups2.length) {\n      columnGroupsAreTheSame = false;\n    }\n    for (let i = 0; i < colDataGroups1.length; i++) {\n      const colDataGroup1: IColumnData[] = colDataGroups1[i];\n      const colDataGroup2: IColumnData[] = colDataGroups2[i];\n      if (colDataGroup1.length !== colDataGroup2.length) {\n        columnGroupsAreTheSame = false;\n      }\n    }\n    if (!columnGroupsAreTheSame) {\n      throw Error(`The header structure for linked tables does not match.\\nPlease check your column spans.`);\n    }\n  }\n\n  private setHiddenClassForAllLinkedParentHeaders(): HTMLElement[] {\n\n    const flattenedHierarchy: IColumnHierarchy[] = this.getFlattenedHierarchy();\n    const flattenedHeirarchyLenMin1: number = flattenedHierarchy.length - 1;\n\n    // start at the end to get the deepest child possible\n    for (let i = flattenedHeirarchyLenMin1; i >= 0; i--) {\n      const columnHierarchy: IColumnHierarchy = flattenedHierarchy[i];\n    }\n\n    const elementsReshown: HTMLElement[] = [];\n    const startIndex: number = this.colDataGroups.length - 2;\n    for (let i = startIndex; i >= 0; i--) {\n      const colDataGroup: IColumnData[] = this.colDataGroups[i];\n      for (let j = 0; j < colDataGroup.length; j++) {\n        const columnData: IColumnData = colDataGroup[j];\n        const parentElement: any = columnData.child as any;\n        const parentWasHidden: boolean = parentElement.hideColumn;\n        let hiddenChildCount: number = 0;\n        for (let k = 0; k < columnData.subGroups.length; k++) {\n          const subGroup: IColumnData = columnData.subGroups[k];\n          if ((subGroup.child as any).hideColumn) {\n            hiddenChildCount++;\n          }\n        }\n        if (columnData.subGroups.length !== 0) {\n          if (!parentWasHidden && hiddenChildCount === columnData.subGroups.length) {\n            parentElement.hideColumn = true;\n            this.setHiddenClassForColumnGroup(columnData.child, colDataGroup[j]);\n          } else if (parentWasHidden && hiddenChildCount < columnData.subGroups.length) {\n            parentElement.hideColumn = false;\n            elementsReshown.push(parentElement);\n          }\n        }\n      }\n    }\n    return elementsReshown;\n  }\n\n  private setHiddenClassForAllLinkedHeaders(element: HTMLElement | any): void {\n    for (let i = 0; i < this.colDataGroups.length; i++) {\n      const colDataGroup: IColumnData[] = this.colDataGroups[i];\n      for (let j = 0; j < colDataGroup.length; j++) {\n        this.setHiddenClassForColumnGroup(element, colDataGroup[j]);\n        \n      }\n    }\n  }\n\n  private setHiddenClassForColumnGroup(element: Element | any, columnGroup: IColumnData): void {\n    const columnData: IColumnData = columnGroup;\n    if (columnData.child === element) {\n      element.classList.remove(this.HIDDEN_COLUMN_CLASS);\n      const hideColumn: boolean = element.hideColumn;\n      if (hideColumn) {\n        element.classList.add(this.HIDDEN_COLUMN_CLASS);\n      }\n      columnData.linkedChildren.forEach((header: Element | any) => {\n        header.hideColumn = hideColumn;\n        header.classList.remove(this.HIDDEN_COLUMN_CLASS);\n        if (hideColumn) {\n          header.classList.add(this.HIDDEN_COLUMN_CLASS);\n        }\n      });\n\n      for (let i = 0; i < columnData.subGroups.length ; i++) {\n        const subGroup: IColumnData = columnData.subGroups[i];\n        (subGroup.child as any).hideColumn = hideColumn;\n        this.setHiddenClassForColumnGroup(subGroup.child, subGroup);\n      }\n    }\n  }\n\n  public getRelatedHeaders(element: Element): (Element | any)[] {\n    if ((element as any).relatedElements) {\n      return (element as any).relatedElements;\n    }\n    let relatedElements: (HTMLElement | any)[] = [];\n    for (let i = 0; i < this.colDataGroups.length; i++) {\n      const colDataGroup: IColumnData[] = this.colDataGroups[i];\n      for (let j = 0; j < colDataGroup.length; j++) {\n        const columnData: IColumnData = colDataGroup[j];\n        if (element === columnData.child || this.getRelatedHeader(element) === columnData.child) {\n          relatedElements.push(columnData.child);\n          columnData.linkedChildren.forEach(child => {\n            relatedElements.push(child);\n          });\n        }      \n      }\n    }\n    return relatedElements;\n  }\n\n  public getRelatedHeader(element: Element):Element | any {\n    if ((element as any).relatedElement) {\n      return (element as any).relatedElement;\n    }\n    let relatedElement: HTMLElement | any = null;\n    for (let i = 0; i < this.colDataGroups.length; i++) {\n      const colDataGroup: IColumnData[] = this.colDataGroups[i];\n      for (let j = 0; j < colDataGroup.length; j++) {\n        const columnData: IColumnData = colDataGroup[j];\n        const filteredChildren: Element[] = columnData.linkedChildren.filter(child => child === element);\n        if (filteredChildren.length > 0) {\n          relatedElement = columnData.child;\n        }\n      }\n    }\n    (element as any).relatedElement = relatedElement ? relatedElement : element;\n    return (element as any).relatedElement;\n  }\n\n  private setLinkedChildren(): void {\n    let dataIndex: number = 0;\n    for (let i = 0; i < this.colDataGroups.length; i++) {\n      const colDataGroup: IColumnData[] = this.colDataGroups[i];\n      for (let j = 0; j < colDataGroup.length; j++) {\n        const columnData: IColumnData = colDataGroup[j];\n        const column: HTMLElement = this.columnsWithDataClasses[dataIndex + j];\n        columnData.linkedChildren.push(column);\n      }\n      dataIndex += colDataGroup.length;\n    }\n  }\n  private setLinkedHeaderContainerClasses(): void {\n    let dataIndex: number = 0;\n    for (let i = 0; i < this.colDataGroups.length; i++) {\n      const colDataGroup: IColumnData[] = this.colDataGroups[i];\n      const column: HTMLElement = this.columnsWithDataClasses[dataIndex];\n      dataIndex += colDataGroup.length;\n      const containerClass = 'column-container-' + i;\n      this.addClassToLinkedHeader(column.parentElement!, containerClass);\n    }\n  }\n\n  private addClassToLinkedHeader(element: Element, cls: string): void {\n    if (!element.classList.contains(cls)) {\n      element.classList.add(cls);\n    }\n  }\n\n  private generateSubGroup(currentGroup: any, subGroup: any): void {\n\n    let indexCount: number = 0;\n    currentGroup.forEach(\n      (group: IColumnData, index: number) => {\n        const classLen: number = (group.child as any).dataClasses.length;\n        let subClassCount: number = 0;\n        let numOfSubColumns: number = 0;\n        while (subClassCount < classLen) {\n          subClassCount += (subGroup[indexCount].child as any).dataClasses.length;\n          group.subGroups.push(subGroup[indexCount]);\n          indexCount++;\n          numOfSubColumns++;\n        }\n        currentGroup[index].subColumnLength = numOfSubColumns;\n      }\n    );\n  }\n\n  private orderSubGroups(columnGroup: IColumnData[], columnPlacement: number = 1, placementStart: number = 0, order: number = 1) {\n    let style: HTMLStyleElement;\n    let containerID: string;\n    let fragment: DocumentFragment;\n    let selector: string;\n\n    if (this.linkClass) {\n      if (this.gridService.linkedDirectiveObjs[this.linkClass].subGroupStyleObjs) {\n        this.headStyle = this.gridService.linkedDirectiveObjs[this.linkClass].headStyle;\n        this.gridTemplateTypes = this.gridService.linkedDirectiveObjs[this.linkClass!].gridTemplateTypes;\n        this.styleList =  this.gridService.linkedDirectiveObjs[this.linkClass].styleList;\n        this.subGroupStyleObjs = this.gridService.linkedDirectiveObjs[this.linkClass].subGroupStyleObjs;\n        this.subGroupStyles = this.gridService.linkedDirectiveObjs[this.linkClass].subGroupStyles;\n        this.subGroupFragments = this.gridService.linkedDirectiveObjs[this.linkClass].subGroupFragments;\n        this.gridOrder = this.gridService.linkedDirectiveObjs[this.linkClass].gridOrder;\n      } else {\n        this.gridService.linkedDirectiveObjs[this.linkClass].headStyle = this.headStyle;\n        this.gridService.linkedDirectiveObjs[this.linkClass!].gridTemplateTypes = this.gridTemplateTypes;\n        this.gridService.linkedDirectiveObjs[this.linkClass].styleList = this.styleList;\n        this.gridService.linkedDirectiveObjs[this.linkClass].subGroupStyleObjs = this.subGroupStyleObjs;\n        this.gridService.linkedDirectiveObjs[this.linkClass].subGroupStyles = this.subGroupStyles;\n        this.gridService.linkedDirectiveObjs[this.linkClass].subGroupFragments = this.subGroupFragments;\n        this.gridService.linkedDirectiveObjs[this.linkClass].gridOrder = this.gridOrder;\n      }\n    }\n\n    placementStart = columnPlacement - 1;\n    columnGroup.sort((columnData1: IColumnData, columnData2: IColumnData) => {\n      return columnData1.order - columnData2.order;\n    });\n\n    columnGroup.forEach((columnData: IColumnData) => {\n      columnData.order = columnPlacement;\n\n      const tagName: string = columnData.child.tagName.toLowerCase();\n\n      containerID = 'column-container-' + Array.from(columnData!.parent!.parentElement!.children).indexOf(columnData.parent);\n      const parentIndex = Array.from(columnData!.parent!.parentElement!.children).indexOf(columnData.parent);\n      \n      this.addClassToLinkedHeader(columnData.parent, containerID);\n      \n      selector = this.id + ' .' + containerID + ' ' + tagName + ':nth-child(' + (columnData.nthChild).toString() + ')';\n      fragment = document.createDocumentFragment();\n\n      if (this.subGroupStyleObjs[selector]) {\n        style = this.subGroupStyleObjs[selector];\n      } else {\n        style = document.createElement('style');\n        style.type = 'text/css';\n        this.subGroupStyles.push(style);\n        this.subGroupFragments.push(fragment);\n      }\n\n      this.setColumnStyle(style, fragment, selector, columnPlacement, columnPlacement + columnData.span, columnData.order);\n      \n      if (this.parentGroups[parentIndex]) {\n        if ((this.parentGroups[parentIndex].length) === (columnData.order)) {\n          this.lastColumns[parentIndex] = columnData;\n        }\n      }\n\n      if (columnData.subGroups.length > 0) {\n        this.orderSubGroups(columnData.subGroups, columnPlacement, placementStart, order++);\n      } else {\n        selector = this.id + ' ' + tagName + ':nth-child(' + (columnData.nthChild).toString() + ')';\n        fragment = document.createDocumentFragment();\n        if (this.subGroupStyleObjs[selector]) {\n          style = this.subGroupStyleObjs[selector];\n        } else {\n          style = document.createElement('style');\n          style.type = 'text/css';\n          this.subGroupStyles.push(style);\n          this.subGroupFragments.push(fragment);\n        }\n\n        this.setColumnStyle(style, fragment, selector, columnPlacement, columnPlacement + columnData.span, columnData.order);\n        \n        this.gridOrder[columnPlacement - 1] = columnData.nthChild;\n\n        const hasSisterTag: boolean = tagName === 'th' || tagName === 'td';\n        let sisterTag: string | null = null;\n        if (hasSisterTag) {\n          sisterTag = tagName === 'th' ? 'td' : 'th';\n\n          selector = this.id + ' ' + sisterTag + ':nth-child(' + (columnData.nthChild).toString() + ')';\n          fragment = document.createDocumentFragment();\n          if (this.subGroupStyleObjs[selector]) {\n            style = this.subGroupStyleObjs[selector];\n          } else {\n            style = document.createElement('style');\n            style.type = 'text/css';\n            this.subGroupStyles.push(style);\n            this.subGroupFragments.push(fragment);\n          }\n          this.setColumnStyle(style, fragment, selector, columnPlacement, columnPlacement + columnData.span, columnData.order);\n        }\n      }\n      columnPlacement += columnData.span;\n    });\n  }\n\n  private setColumnStyle(style: HTMLStyleElement, fragment: DocumentFragment, selector: string, gridStart: number, gridEnd: number, order: number): void {\n    style.innerHTML = selector + ' { grid-column-start: ' + (gridStart).toString() + '; grid-column-end: ' + (gridEnd).toString() + '; order: ' + (order).toString() + '; }';\n    fragment.appendChild(style);\n    this.addStyle(style);\n    this.subGroupStyleObjs[selector] = style;\n  }\n\n  private setGridOrder(): void {\n    const gridTemplateColumns: string = this.constructGridTemplateColumns();\n\n    if (this.colDataGroups[0].length === 0) {\n      return;\n    }\n\n    const reqiresNewStyleObjects: boolean = this.linkClass === undefined || this.gridService.linkedDirectiveObjs[this.linkClass].gridOrderStyles === undefined;\n\n    this.colDataGroups.forEach((columnGroup: IColumnData[], index) => {\n      let style: HTMLStyleElement;\n      let fragment: DocumentFragment;\n\n      const selector: string = this.id + ' .' + this.reorderableClass;\n      let styleAlreadyExisted: boolean = false;      \n\n      if (this.subGroupStyleObjs[selector]) {\n        style = this.subGroupStyleObjs[selector];\n        styleAlreadyExisted = true;\n      } else if (reqiresNewStyleObjects) {\n        fragment = document.createDocumentFragment();\n        style = document.createElement('style');\n        style.type = 'text/css';\n        fragment.appendChild(style);\n      } else {\n        fragment = this.gridService.linkedDirectiveObjs[this.linkClass!].gridOrderFragments[index];\n        style = this.gridService.linkedDirectiveObjs[this.linkClass!].gridOrderStyles[index];\n        fragment.appendChild(style);\n      }\n      style.innerHTML = selector + ' { display: grid; grid-template-columns: ' + gridTemplateColumns + '; }';\n\n      \n      if (!this.subGroupStyleObjs[selector] && reqiresNewStyleObjects) {\n        this.gridOrderStyles.push(style);\n        this.gridOrderFragments.push(fragment!);\n      }\n\n      this.subGroupStyleObjs[selector] = style;\n      \n      this.addStyle(style);\n      if (!styleAlreadyExisted) {\n        this.moveStyleContentToProminent();\n        this.gridTemplateTypes.push({ style });\n      }\n\n      if (index === 0) {\n        this.orderSubGroups(columnGroup);\n      }\n    });\n\n    if (this.linkClass && this.gridService.linkedDirectiveObjs[this.linkClass].gridOrderStyles === undefined) {\n      this.gridService.linkedDirectiveObjs[this.linkClass].gridOrderFragments = this.gridOrderFragments;\n      this.gridService.linkedDirectiveObjs[this.linkClass].gridOrderStyles = this.gridOrderStyles;\n    }\n  }\n\n  private getOffset(el: HTMLElement) {\n    const rect = el.getBoundingClientRect();\n    return {\n      left: rect.left + window.scrollX,\n      top: rect.top + window.scrollY\n    };\n  }\n\n  private getParentTablejsGridDirective(el: HTMLElement | null): HTMLElement | null {\n    while (el !== null && el.getAttribute('tablejsGrid') === null) {\n      el = el.parentElement;\n    }\n    return el;\n  }\n\n  private elementRefUnderPoint(event: any): boolean {\n    const elements: Element[] = document.elementsFromPoint(event.clientX, event.clientY);\n    return elements.filter(item => item === this.elementRef.nativeElement).length > 0;\n  }\n\n  private getResizeGripUnderPoint(event: any): Element[] {\n    const resizableElements: Element[] = document.elementsFromPoint(event.clientX, event.clientY);\n    const elements: Element[] = resizableElements.filter(item => {\n      return item.getAttribute('resizableGrip') !== null;\n    });\n    return elements;\n  }\n\n  private getReorderColsUnderPoint(event: any): Element[] {\n    const reorderColElements: Element[] = document.elementsFromPoint(event.clientX, event.clientY);\n    const elements: Element[] = reorderColElements.filter(item => {\n      return item.getAttribute('reorderCol') !== null;\n    });\n    return elements;\n  }\n\n  private getReorderHandlesUnderPoint(event: any): Element[] {\n    const reorderGripElements: Element[] = document.elementsFromPoint(event.clientX, event.clientY);\n    const elements: Element[] = reorderGripElements.filter(item => {\n      return item.getAttribute('reorderGrip') !== null;\n    });\n    return elements;\n  }\n\n  private getResizableElements(event: any): Element[] {\n    const resizableElements = document.elementsFromPoint(event.clientX, event.clientY);\n    let elements: Element[] = resizableElements.filter(item => {\n      return item.getAttribute('tablejsDataColClasses') !== null;\n    });\n\n    const noElementsFound: boolean = elements.length === 0;\n    const iterationLen: number = noElementsFound ? 1 : elements.length;\n\n    for (let i: number = 0; i < iterationLen; i++) {\n      const item = resizableElements[0];\n      let parentElement: Element | null = item.parentElement;\n      while(parentElement !== null) {\n        const foundGripParent: boolean = !noElementsFound && parentElement === elements[i];\n        const foundParentWithColClasses: boolean = noElementsFound && parentElement.getAttribute('tablejsDataColClasses') !== null;\n        if (foundGripParent || foundParentWithColClasses) {\n          elements = [parentElement];\n          parentElement = null;\n        } else {\n          parentElement = parentElement!.parentElement;\n        }\n      }\n    }\n    return elements;\n  }\n\n  public removeHighlights(elToExclude: HTMLElement | null = null, moveDirection: number = -2): void {\n    this.elementsWithHighlight.forEach(item => {\n      if (item.el !== elToExclude || item.moveDirection !== moveDirection) {\n        this.removeElementHighlight(item.el);\n      }\n    });\n  }\n\n  public removeElementHighlight(el: HTMLElement) {\n    el.classList.remove('highlight-left');\n    el.classList.remove('highlight-right');\n  }\n\n  private reorderColumns(event: any) {\n    const draggableElement: HTMLElement = this.lastDraggedOverElement;\n    const elRect: any = draggableElement.getBoundingClientRect();\n    const elX: number = elRect.left;\n    const elW: number = elRect.width;\n\n    this.removeElementHighlight(draggableElement);\n    if (this.draggingColumn === draggableElement) {\n      return;\n    }\n    let moveDirection: number = 0;\n    if ((event.clientX - elX) >= elW / 2) {\n      moveDirection = 1;\n    } else {\n      moveDirection = 0;\n    }\n\n    let colRangeDraggedParentInd: number = -1;\n    let colRangeDraggedChildInd: number = -1;\n    let colRangeDroppedParentInd: number = -1;\n    let colRangeDroppedChildInd: number = -1;\n    let draggedInd: number = -1;\n    let droppedInd: number = -1;\n    let draggedGroup: Element[] | null = null;\n\n    const pGroup: any = this.parentGroups.forEach((group, groupInd) =>\n      group.forEach(\n        (item, index) => {\n          if (item === this.draggingColumn) {\n            colRangeDraggedParentInd = groupInd;\n            colRangeDraggedChildInd = index;\n            draggedInd = index;\n            draggedGroup = group;\n          }\n          if (item === draggableElement) {\n            colRangeDroppedParentInd = groupInd;\n            colRangeDroppedChildInd = index;\n            droppedInd = index;\n          }\n        }\n      )\n    );\n\n    let parentRanges: number[][] | null = null;\n    const tempRanges: number[][][] = this.colRangeGroups.concat();\n    let parentRangeIndex: number = -1;\n    tempRanges.sort((a, b) => b.length - a.length);\n    tempRanges.forEach((item, index) => {\n      if (!parentRanges && item.length < draggedGroup!.length) {\n        parentRanges = item;\n        parentRangeIndex = this.colRangeGroups.indexOf(item);\n      }\n    });\n    const fromOrder: number = (colRangeDraggedChildInd + 1);\n    const toOrder: number = (colRangeDroppedChildInd + 1);\n\n    // if has to stay within ranges, get ranges and swap\n    if (parentRangeIndex === this.colRangeGroups.length - 1) {\n      this.colRangeGroups[parentRangeIndex].forEach(\n        range => {\n          const lowRange: number = range[0];\n          const highRange: number = range[1];\n          if (fromOrder >= lowRange && fromOrder < highRange && toOrder >= lowRange && toOrder < highRange) {\n            const data1: IColumnData = this.colDataGroups[colRangeDraggedParentInd].filter(item => item.nthChild === fromOrder)[0];\n            const data2: IColumnData = this.colDataGroups[colRangeDraggedParentInd].filter(item => item.nthChild === toOrder)[0];\n            const rangeGroup: IColumnData[] = this.colDataGroups[colRangeDraggedParentInd].slice(range[0] - 1, range[1] - 1);\n            rangeGroup.sort((item1: IColumnData, item2: IColumnData) => {\n              return item1.order - item2.order;\n            });\n            rangeGroup.splice(rangeGroup.indexOf(data1), 1);\n            rangeGroup.splice(rangeGroup.indexOf(data2) + moveDirection, 0, data1);\n            rangeGroup.forEach((item, index) => {\n              item.order = index + 1;\n            });\n          }\n        }\n      );\n    } else {\n      const data1: IColumnData = this.colDataGroups[colRangeDraggedParentInd].filter(item => item.nthChild === fromOrder)[0];\n      const data2: IColumnData = this.colDataGroups[colRangeDraggedParentInd].filter(item => item.nthChild === toOrder)[0];\n      const rangeGroup: IColumnData[] = this.colDataGroups[colRangeDraggedParentInd].concat();\n      rangeGroup.sort((item1: IColumnData, item2: IColumnData) => {\n        return item1.order - item2.order;\n      });\n      rangeGroup.splice(rangeGroup.indexOf(data1), 1);\n      rangeGroup.splice(rangeGroup.indexOf(data2) + moveDirection, 0, data1);\n      rangeGroup.forEach((item, index) => {\n        item.order = index + 1;\n      });\n    }\n    \n    this.setGridOrder();\n\n    // need to set a class to resize - default to first so column widths are updated\n    const firstItemWidth: number = this.getFirstVisibleItemWidth();\n    this.setMinimumWidths();\n\n    // update widths by first item\n    this.totalComputedWidth = firstItemWidth;\n    this.updateWidths(firstItemWidth);\n  }\n\n  private getAverageColumnWidth(): number {\n    let totalTableWidth: number = this.viewport!.clientWidth;\n    return totalTableWidth / this.classWidths.length;\n  }\n\n  private getFirstVisibleItemWidth(): number {\n    let firstVisibleItemIndex: number = 0;\n    for (let i = 0; i < this.gridOrder.length; i++) {\n      const classIndex = this.gridOrder[i] - 1;\n      if (!this.columnIsHiddenWithClass(this.gridTemplateClasses[classIndex])) {\n        firstVisibleItemIndex = i;\n        break;\n      }\n    }\n    this.currentClassesToResize = [this.stylesByClass[this.gridOrder[firstVisibleItemIndex] - 1].resizeClass];\n    return this.currentClassesToResize.map((resizeClass: string) => {\n      return this.getClassWidthInPixels(resizeClass);\n    })[0];\n  }\n\n  private setLinkedColumnIndicesFromMaster(): void {\n    if (this.linkClass) {\n      this.hiddenColumnIndices = this.gridService.linkedDirectiveObjs[this.linkClass].gridDirective.hiddenColumnIndices;\n    }\n  }\n\n  private updateMasterColumnIndices(): void {\n    if (this.linkClass) {\n      this.gridService.linkedDirectiveObjs[this.linkClass].gridDirective.hiddenColumnIndices = this.hiddenColumnIndices;\n    }\n  }\n\n  private updateHiddenColumnIndices(): void {\n    this.setLinkedColumnIndicesFromMaster();\n    this.hiddenColumnIndices = this.getHiddenColumnIndices();\n    this.updateMasterColumnIndices();\n  }\n\n  private constructGridTemplateColumns(): string {\n    this.updateHiddenColumnIndices();\n\n    this.resizeMakeUpPercent = 0;\n    this.resizeMakeUpPerColPercent = 0;\n    let remainingCols: number = this.gridOrder.length - this.hiddenColumnIndices.length;\n    this.hiddenColumnIndices.forEach((index) => {\n      const classWidthIndex: number = this.gridOrder[index - 1];\n      const amt: string = this.classWidths[classWidthIndex - 1].toString();\n      if (amt.includes('%')) {\n        this.resizeMakeUpPercent += Number(amt.replace('%', ''));\n      }\n      \n    });\n    if (this.resizeMakeUpPercent !== 0) {\n      this.resizeMakeUpPerColPercent =this.resizeMakeUpPercent / remainingCols;\n    }\n\n    let str: string = '';\n    this.gridOrder.forEach((order, index) => {\n      let wdth: number = Number(this.classWidths[order - 1].toString().replace('%', ''));\n      wdth = wdth < 0 ? 0 : wdth;\n      if (this.classWidths[order - 1].toString().includes('%')) {\n        if (this.hiddenColumnIndices.indexOf(index + 1) !== -1) {\n          str += ' 0%';\n          this.classWidths[order - 1] = '0%';\n        } else {\n          str += ' ' + (wdth + this.resizeMakeUpPerColPercent).toString() + '%';\n          this.classWidths[order - 1] = (wdth + this.resizeMakeUpPerColPercent).toString() + '%';\n        }    \n      } else {\n        if (this.hiddenColumnIndices.indexOf(index + 1) !== -1) {\n          str += ' 0px';\n        } else {\n          str += ' ' + wdth.toString() + 'px';\n        }\n      }\n\n    });\n    return str;\n\n  }\n\n  private getHiddenColumnIndices(): number[] {\n    const hiddenColumnIndices: number[] = [];\n    this.colDataGroups.forEach((columnGroup: IColumnData[], index) => {\n      if (index === 0) {\n        this.orderSubCols(hiddenColumnIndices, columnGroup);\n      }\n    });\n\n    return hiddenColumnIndices;\n  }\n\n  private orderSubCols(arr: number[], columnGroup: IColumnData[], columnPlacement: number = 1, placementStart: number = 0, parentIsHidden: boolean = false) {\n    placementStart = columnPlacement - 1;\n\n    columnGroup.sort((columnData1: IColumnData, columnData2: IColumnData) => {\n      return columnData1.order - columnData2.order;\n    });\n\n    columnGroup.forEach(columnData => {\n\n      const startIndex: number = columnPlacement;\n      const columnElement: Element | any = this.getRelatedHeader(columnData.child);\n      const hasSubGroups: boolean = columnData.subGroups.length > 0;\n\n      if ((columnElement.hideColumn || parentIsHidden) && !hasSubGroups && arr.indexOf(startIndex) === -1) {\n        arr.push(startIndex);\n      }\n\n      if (hasSubGroups) {\n        this.orderSubCols(arr, columnData.subGroups, columnPlacement, placementStart, columnElement.hideColumn);\n      }\n      columnPlacement += columnData.span;\n    });\n  }\n\n  private setReorderHighlightHeight(draggableElement: HTMLElement) {\n    const draggableTop: number = this.getOffset(draggableElement).top;\n    const containerTop: number = this.getOffset(this.elementRef.nativeElement).top;\n    const containerHeightStr: string = window.getComputedStyle(this.elementRef.nativeElement).getPropertyValue('height');\n    const containerHeight: number = Number(containerHeightStr.substr(0, containerHeightStr.length - 2));\n    const highlightHeight: number = containerHeight - (draggableTop - containerTop) - 1;\n\n    this.reorderHighlightStyle!.innerHTML = this.id + ' .highlight-left div:after, ' + this.id + ' .highlight-right div:after { height: ' + highlightHeight + 'px !important }';\n    this.setStyleContent();\n  }\n\n  private retrieveOrCreateElementID(el: HTMLElement, hasLinkClass: boolean = false): string {\n    let id: string | undefined | null = document.body.getAttribute('id');\n    if (id === undefined || id === null) {\n      id = 'tablejs-body-id';\n    }\n    document.body.setAttribute('id', id);\n    const someID: string = hasLinkClass ? '' : this.generateGridID(el);\n    return '#' + id + someID;\n  }\n\n  private generateGridID(el: HTMLElement) {\n      let gridID: string | null = el.getAttribute('id');\n      if (gridID === null) {\n        let i: number = 0;\n        while (document.getElementById('grid-id-' + i.toString()) !== null) {\n          i++;\n        }\n        gridID = 'grid-id-' + i.toString();\n        el.classList.add(gridID);\n        el.setAttribute('id', gridID);\n      }\n\n      return ' .' + gridID; // ' #' + gridID;\n  }\n\n  private generateContainerID() {\n    TablejsGridProxy.GRID_COUNT++;\n    const hasLinkClass: boolean = this.linkClass !== undefined;\n    if (!hasLinkClass) {\n      this.id = this.retrieveOrCreateElementID(this.elementRef.nativeElement);\n    } else {\n      this.id = '.' + this.linkClass;\n    }\n    const parentGridID: HTMLElement | null = this.getParentTablejsGridDirective(this.elementRef.nativeElement.parentElement);\n\n    if (parentGridID !== null) {\n      this.id = this.retrieveOrCreateElementID(parentGridID, hasLinkClass) + ' ' + this.id;\n    }\n  }\n\n  private generateViewportID() {\n    const viewports: HTMLElement[] = this.infiniteScrollViewports;\n    if (viewports.length > 0) {\n      this.viewport = viewports[0];\n      this.viewportID = this.viewport.getAttribute('id');\n      let i: number = 0;\n      while (document.getElementById('scroll-viewport-id-' + i.toString()) !== null) {\n        i++;\n      }\n      this.viewportID = 'scroll-viewport-id-' + i.toString();\n      this.viewport.setAttribute('id', this.viewportID);\n    }\n  }\n\n  private attachContentResizeSensor(): void {\n    if (this.resizeColumnWidthByPercent) {\n      if (this.viewport === undefined || this.viewport === null) {\n        throw Error('A viewport has not be declared.  Try adding the tablejsViewport directive to your tbody tag.');\n      }\n      this.contentResizeSensor = new ResizeSensor(this.viewport.firstElementChild!, () => {\n        this.setScrollbarAdjustmentStyle();\n      });\n      this.scrollbarAdjustmentFragment = document.createDocumentFragment();\n      this.scrollbarAdjustmentStyle = document.createElement('style');\n      this.setScrollbarAdjustmentStyle();\n      this.scrollbarAdjustmentFragment.appendChild(this.scrollbarAdjustmentStyle);\n\n      this.addStyle(this.scrollbarAdjustmentStyle, false);\n\n    }\n  }\n  \n  private setScrollbarAdjustmentStyle(): void {\n    this.scrollbarWidth = this.viewport!.offsetWidth - this.viewport!.clientWidth;\n    this.scrollbarAdjustmentStyle!.innerHTML = '#' + this.viewportID + ' .reorderable-table-row { margin-right: -' + this.scrollbarWidth + 'px; }';\n    this.setStyleContent();\n  }\n\n  private clearSelection() {\n    if (window.getSelection) {\n      const selection: Selection | null = window.getSelection();\n      if (selection) {\n        selection.removeAllRanges();\n      }\n    } else if (this.document['selection']) {\n      this.document['selection'].empty();\n    }\n  }\n\n  private addResizableGrip(el: HTMLElement, fromMutation: boolean = false) {\n    if (fromMutation && !this.isCustomElement) {\n      this.mutationResizableGrips.push(el);\n    } else {\n      this.resizableGrips.push(el);\n    }\n  }\n\n  private addResizableColumn(el: HTMLElement, fromMutation: boolean = false) {\n    if (fromMutation && !this.isCustomElement) {\n      this.mutationResizableColumns.push(el);\n    } else {\n      this.resizableColumns.push(el);\n    }\n  }\n\n  private addReorderGrip(el: HTMLElement, fromMutation: boolean = false) {\n    if (fromMutation && !this.isCustomElement) {\n      this.mutationReorderGrips.push(el);\n    } else {\n      this.reorderGrips.push(el);\n    }\n  }\n\n  private addReorderableColumn(el: HTMLElement, fromMutation: boolean = false) {\n    if (fromMutation && !this.isCustomElement) {\n      this.mutationReorderableColumns.push(el);\n    } else {\n      this.reorderableColumns.push(el);\n    }\n  }\n\n  private addColumnsWithDataClasses(el: HTMLElement, fromMutation: boolean = false) {\n    if (fromMutation && !this.isCustomElement) {\n      this.mutationColumnsWithDataClasses.push(el);\n    } else {\n      this.columnsWithDataClasses.push(el);\n    }\n  }\n\n  private addRow(el: HTMLElement, fromMutation: boolean = false) {\n    if (fromMutation && !this.isCustomElement) {\n      this.mutationRows.push(el);\n    } else {\n      this.rows.push(el);\n    }\n  }\n\n  private addInfiniteScrollViewport(el: HTMLElement, fromMutation: boolean = false) {\n    if (fromMutation && !this.isCustomElement) {\n      this.mutationInfiniteScrollViewports.push(el);\n    } else {\n      this.infiniteScrollViewports.push(el);\n    }\n  }\n\n  private removeStylesFromHead() {\n    if (this.headTag.contains(this.headStyle)) {\n      this.headTag.removeChild(this.headStyle!);\n    }\n    if (this.headTag.contains(this.widthStyle)) {\n      this.headTag.removeChild(this.widthStyle!);\n      this.widthStyleFragment = null;\n    }\n    if (this.headTag.contains(this.reorderHighlightStyle)) {\n      this.headTag.removeChild(this.reorderHighlightStyle!);\n      this.reorderHighlightStyleFragment = null;\n    }\n    for (let i = 0, len = this.subGroupFragments.length; i < len; i++) {\n      if (this.headTag.contains(this.subGroupStyles[i])) {\n        this.headTag.removeChild(this.subGroupStyles[i]);\n        this.subGroupFragments[i] = null;\n      }\n    }\n    for (let i = 0, len = this.gridOrderFragments.length; i < len; i++) {\n      if (this.headTag.contains(this.gridOrderStyles[i])) {\n        this.headTag.removeChild(this.gridOrderStyles[i]);\n        this.gridOrderFragments[i] = null;\n      }\n    }\n  }\n\n  public ngOnDestroy() {\n    this.document['hasPointerDownListener'] = false;\n    this.observer!.disconnect();\n    if (this.linkClass === undefined) {\n      this.removeStylesFromHead();\n    }\n    if (this.initialWidthSettingsSubscription$) {\n      this.initialWidthSettingsSubscription$.unsubscribe();\n    }\n    if (this.hiddenColumnChangesSubscription$) {\n      this.hiddenColumnChangesSubscription$.unsubscribe();\n    }\n  }\n\n}\n\nexport interface ISortableWidthItem {\n  minWidth: number;\n  width: number;\n  className: string;\n}\n","import { AfterViewInit, Directive, ElementRef } from '@angular/core';\nimport { GridService } from './../../services/grid/grid.service';\n\n@Directive({\n  selector: '[tablejsGridRow], [tablejsgridrow], [tablejs-grid-row]',\n  host: { class: 'reorderable-table-row' }\n})\n\nexport class GridRowDirective implements AfterViewInit {\n\n  constructor(public elementRef: ElementRef, public gridService: GridService) {\n  }\n\n  ngAfterViewInit() {\n    this.registerRowsOnGridDirective();\n  }\n\n  registerRowsOnGridDirective() {\n    const el: HTMLElement | any | null = this.gridService.getParentTablejsGridDirective(this.elementRef.nativeElement);\n    if (el !== null) {\n      el['gridDirective'].addRow(this.elementRef.nativeElement);\n    }\n  }\n\n}\n","import { AfterViewInit, Directive, ElementRef } from '@angular/core';\nimport { GridService } from './../../services/grid/grid.service';\n\n@Directive({\n  selector: '[tablejsResizableGrip], [resizableGrip], [resizablegrip]'\n})\nexport class ResizableGripDirective implements AfterViewInit {\n\n  constructor(public elementRef: ElementRef, public gridService: GridService) {\n  }\n\n  ngAfterViewInit() {\n    this.registerGripOnGridDirective();\n  }\n\n  registerGripOnGridDirective() {\n    const el: HTMLElement | any | null = this.gridService.getParentTablejsGridDirective(this.elementRef.nativeElement);\n    if (el !== null) {\n      el['gridDirective'].addResizableGrip(this.elementRef.nativeElement);\n    }\n  }\n\n}\n","import { AfterViewInit, Directive, ElementRef } from '@angular/core';\nimport { GridService } from './../../services/grid/grid.service';\n\n@Directive({\n  selector: `[tablejsInfiniteScroll], [tablejsinfinitescroll], [tablejs-infinite-scroll],\n  [tablejsViewport], [tablejsviewport], [tablejs-viewport]`,\n  host: { class: 'tablejs-infinite-scroll-viewport tablejs-table-width' }\n})\nexport class InfiniteScrollDirective implements AfterViewInit {\n\n  constructor(public elementRef: ElementRef, public gridService: GridService) {\n  }\n\n  ngAfterViewInit() {\n    this.registerColumnOnGridDirective();\n  }\n\n  registerColumnOnGridDirective() {\n    const el: HTMLElement | any | null = this.gridService.getParentTablejsGridDirective(this.elementRef.nativeElement);\n    if (el !== null) {\n      el['gridDirective'].addInfiniteScrollViewport(this.elementRef.nativeElement);\n    }\n  }\n\n}\n","import { Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewEncapsulation } from '@angular/core';\nimport { GridDirective } from './../../directives/grid/grid.directive';\nimport { ColumnReorderEvent } from './../../shared/classes/events/column-reorder-event';\nimport { ColumnResizeEvent } from './../../shared/classes/events/column-resize-event';\nimport { GridEvent } from './../../shared/classes/events/grid-event';\n\n@Component({\n  selector: 'tablejs-grid',\n  templateUrl: './grid.component.html',\n  styleUrls: ['./grid.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class GridComponent implements OnInit {\n\n  @Input() linkClass: string | undefined = undefined;\n  @Input() resizeColumnWidthByPercent: boolean = false;\n\n  @Output() columnResizeStart: EventEmitter<any> = new EventEmitter<any>();\n  @Output() columnResize: EventEmitter<any> = new EventEmitter<any>();\n  @Output() columnResizeEnd: EventEmitter<any> = new EventEmitter<any>();\n  @Output() columnReorder: EventEmitter<any> = new EventEmitter<any>();\n  @Output() columnReorderStart: EventEmitter<any> = new EventEmitter<any>();\n  @Output() columnReorderEnd: EventEmitter<any> = new EventEmitter<any>();\n  @Output() gridInitialize: EventEmitter<any> = new EventEmitter<any>();\n\n  public get gridDirective(): GridDirective {\n    return this.elementRef.nativeElement.gridDirective;\n  }\n\n  constructor(public elementRef: ElementRef) { }\n\n  ngOnInit() {\n    if (this.linkClass !== undefined) {\n      this.elementRef.nativeElement.classList.add(this.linkClass);\n    }\n  }\n\n  columnResizeStarted(e: ColumnResizeEvent): void {\n    e.type = ColumnResizeEvent.ON_RESIZE_START;\n    this.columnResizeStart.emit(e);\n  }\n  columnResized(e: ColumnResizeEvent): void {\n    e.type = ColumnResizeEvent.ON_RESIZE;\n    this.columnResize.emit(e);\n  }\n  columnResizeEnded(e: ColumnResizeEvent): void {\n    e.type = ColumnResizeEvent.ON_RESIZE_END;\n    this.columnResizeEnd.emit(e);\n  }\n\n  columnReorderStarted(e: ColumnReorderEvent): void {\n    e.type = ColumnReorderEvent.ON_REORDER_START;\n    this.columnReorderStart.emit(e);\n  }\n  columnReordered(e: ColumnReorderEvent): void {\n    e.type = ColumnReorderEvent.ON_REORDER;\n    this.columnReorder.emit(e);\n  }\n  columnReorderEnded(e: ColumnReorderEvent): void {\n    e.type = ColumnReorderEvent.ON_REORDER_END;\n    this.columnReorderEnd.emit(e);\n  }\n\n  gridInitialized(e: GridEvent): void {\n    e.type = GridEvent.ON_INITIALIZED;\n    this.gridInitialize.emit(e);\n  }\n\n}\n","import { AfterViewInit, Directive, ElementRef, EventEmitter, HostListener, Input, OnInit, Output } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { AbstractControl, NG_VALUE_ACCESSOR, NG_VALIDATORS } from '@angular/forms';\n\n@Directive({\n  selector: '[tablejsEditableCell], [tablejseditablecell], [tablejs-editable-cell]',\n  host: { class: 'tablejs-editable-cell' }\n})\nexport class EditableCellDirective implements AfterViewInit, OnInit {\n\n  @Input('tablejsEditableCell') initialData: any; // initial data is an object\n  @Input() validator: Function | null = null;\n  @Input() validatorParams: any[] = [];\n  @Input() regExp: string | null = null;\n  @Input() regExpFlags: string = 'gi';\n  @Input() list: string[] = [];\n  @Output() cellInput: EventEmitter<any> = new EventEmitter<any>();\n  @Output() cellFocusOut: EventEmitter<any> = new EventEmitter<any>();\n  @Output() cellValidation: EventEmitter<boolean> = new EventEmitter<boolean>();\n  containerDiv: HTMLDivElement;\n  input: HTMLInputElement;\n  dataList: HTMLDataListElement;\n  option: HTMLOptionElement | null = null;\n  lastText: string | null = null;\n  originalText: string | null = null;\n  lastValidInput: string | null = null;\n  onFocusOut: any;\n\n  constructor(private elementRef: ElementRef) {\n    this.containerDiv = document.createElement('div');\n    this.input = document.createElement('input'); // Create an <input> node\n    this.input.type = 'text';\n\n    this.dataList = document.createElement('datalist');\n  }\n\n  @HostListener('document:keydown.enter', ['$event']) onKeyDownHandler(event: KeyboardEvent) {\n    if (document.activeElement === this.input) {\n      this.input.blur();\n      this.input.removeEventListener('focusout', this.onFocusOut);\n    }\n  }\n\n  @HostListener('click', ['$event']) onClick(event: MouseEvent) {\n    let hasInput: boolean = false;\n    if (this.elementRef.nativeElement.children) {\n      for (let i = 0; i < this.elementRef.nativeElement.children.length; i++) {\n        if (this.elementRef.nativeElement.children[i] === this.containerDiv) {\n          hasInput = true;\n        }\n      }\n    }\n    if (!hasInput) {\n      this.input.value = this.elementRef.nativeElement.innerText;\n      this.lastText = this.input.value;\n      this.originalText = this.elementRef.nativeElement.innerText;\n      this.elementRef.nativeElement.appendChild(this.containerDiv);\n      this.containerDiv.appendChild(this.input);\n\n      if (this.list.length > 0) {\n        this.createDataList();\n      }\n\n      this.validateInput();\n      this.input.focus();\n      this.onFocusOut = () => {\n        if (this.elementRef.nativeElement.contains(this.containerDiv)) {\n          this.elementRef.nativeElement.removeChild(this.containerDiv);\n        }\n        this.cellInput.emit(this.getCellObject());\n        this.cellFocusOut.emit(this.getCellObject());\n        this.input.removeEventListener('focusout', this.onFocusOut);\n      };\n      this.input.addEventListener('focusout', this.onFocusOut);\n    }\n    this.cellInput.emit(this.getCellObject());\n  }\n\n  createDataList() {\n    let count: number = 0;\n    let id: string = 'data-list-' + count.toString();\n    while (document.getElementById(id) !== null && document.getElementById(id) !== undefined) {\n      count++;\n      id = 'data-list-' + count.toString();\n    }\n    this.dataList.setAttribute('id', id);\n    this.elementRef.nativeElement.appendChild(this.containerDiv);\n    this.containerDiv.appendChild(this.dataList);\n    this.list.forEach(value => {\n      const filteredDataList: any[] = Array.from(this.dataList.options).filter(option => option.value === value);\n      if (filteredDataList.length === 0) {\n        this.option = document.createElement('option');\n        this.dataList.appendChild(this.option);\n        this.option.value = value;\n      }\n    });\n    this.input.setAttribute('list', id);\n  }\n\n  ngOnInit() {\n    this.input.value = this.elementRef.nativeElement.innerText;\n  }\n\n  ngAfterViewInit() {\n    this.input.value = this.elementRef.nativeElement.innerText;\n    this.lastText = this.input.value;\n    this.input.addEventListener('input', () => { \n      if (this.regExp) {\n        const regEx: RegExp = new RegExp(this.regExp, this.regExpFlags);\n        if (regEx.test(this.input.value)) {\n          this.validateInput();\n          this.lastText = this.input.value;\n          this.cellInput.emit(this.getCellObject());\n        } else {\n          this.input.value = this.lastText!;\n        }\n      } else {\n        this.validateInput();\n        this.cellInput.emit(this.getCellObject());\n      }\n    });\n  }\n\n  getCellObject(): any {\n    return {\n      currentValue: this.input.value,\n      lastValidInput: this.lastValidInput,\n      originalValue: this.originalText,\n      inputHasFocus: document.activeElement === this.input\n    };\n  }\n\n  validateInput() {\n    const validationOk: boolean = this.validator ? this.validator.apply(null, [this.input.value].concat(this.validatorParams)) : true;\n    if (validationOk) {\n      this.input.classList.remove('error');\n      this.lastValidInput = this.input.value;\n    } else {\n      this.input.classList.add('error');\n    }\n    this.cellValidation.emit(validationOk);\n  }\n\n}\n","import { AfterViewInit, Directive, ElementRef } from '@angular/core';\nimport { GridService } from './../../services/grid/grid.service';\n\n@Directive({\n  selector: '[reorderGrip]'\n})\nexport class ReorderGripDirective implements AfterViewInit {\n\n  constructor(public elementRef: ElementRef, public gridService: GridService) { }\n\n  ngAfterViewInit() {\n    this.registerGripOnGridDirective();\n  }\n\n  registerGripOnGridDirective() {\n    const el: HTMLElement | any | null = this.gridService.getParentTablejsGridDirective(this.elementRef.nativeElement);\n    if (el !== null) {\n      el['gridDirective'].addReorderGrip(this.elementRef.nativeElement);\n    }\n  }\n\n}\n","import { AfterViewInit, Directive, ElementRef, Input, TemplateRef } from '@angular/core';\nimport { GridService } from './../../services/grid/grid.service';\n\n@Directive({\n  selector: '[reorderCol], [reordercol]'\n})\nexport class ReorderColDirective implements AfterViewInit {\n\n  @Input() public reorderGhost: TemplateRef<any>;\n  @Input() public reorderGhostContext: Object|null = null;\n\n  constructor(public elementRef: ElementRef, public gridService: GridService) {\n  }\n\n  ngAfterViewInit() {\n    this.registerColumnOnGridDirective();\n  }\n\n  registerColumnOnGridDirective() {\n    const el: HTMLElement | any | null = this.gridService.getParentTablejsGridDirective(this.elementRef.nativeElement);\n    if (el !== null) {\n      this.elementRef.nativeElement.reorderGhost = this.reorderGhost;\n      this.elementRef.nativeElement.reorderGhostContext = this.reorderGhostContext;\n      el['gridDirective'].addReorderableColumn(this.elementRef.nativeElement);\n    }\n  }\n\n}\n","import { AfterViewInit, Directive, ElementRef, Input } from '@angular/core';\nimport { GridService } from './../../services/grid/grid.service';\n\n@Directive({\n  selector: '[tablejsDataColClasses], [tablejsdatacolclasses], [tablejs-data-col-classes]'\n})\nexport class DataColClassesDirective implements AfterViewInit {\n\n  @Input() tablejsDataColClasses: string = '';\n\n  constructor(public elementRef: ElementRef, public gridService: GridService) { }\n\n  ngAfterViewInit() {\n    this.cacheClassesOnElement();\n    this.registerColumnsWithDataClassesOnGridDirective();\n  }\n\n  cacheClassesOnElement() {\n    if (this.tablejsDataColClasses) {\n      this.elementRef.nativeElement.setAttribute(\n        'tablejsDataColClasses',\n        this.tablejsDataColClasses\n      );\n    }\n    this.elementRef.nativeElement.dataClasses = this.elementRef.nativeElement.getAttribute('tablejsDataColClasses').replace(new RegExp(' ', 'g'), '').split(',');\n  }\n\n  registerColumnsWithDataClassesOnGridDirective() {\n    const el: HTMLElement | any | null = this.gridService.getParentTablejsGridDirective(this.elementRef.nativeElement);\n    if (el !== null) {\n      el['gridDirective'].addColumnsWithDataClasses(this.elementRef.nativeElement);\n    }\n  }\n\n}\n","import { AfterViewInit, Directive, ElementRef, Input } from '@angular/core';\nimport { GridService } from './../../services/grid/grid.service';\n\n@Directive({\n  selector: '[tablejsDataColClass], [tablejsdatacolclass], [tablejs-data-col-class]'\n})\nexport class DataColClassDirective implements AfterViewInit {\n\n  @Input() tablejsDataColClass: string | undefined | null = '';\n  @Input() initialWidth: string | undefined | null;\n\n  constructor(public elementRef: ElementRef, public gridService: GridService) { }\n\n  ngAfterViewInit() {\n    if (this.tablejsDataColClass !== '') {\n      this.elementRef.nativeElement.classList.add(this.tablejsDataColClass);\n      this.elementRef.nativeElement.setAttribute(\n        'tablejsDataColClass',\n        this.tablejsDataColClass\n      );\n      if (this.initialWidth) {\n        this.elementRef.nativeElement.setAttribute(\n          'initialWidth',\n          this.initialWidth\n        );\n      }\n    } else {\n      throw Error('A class name must be supplied to the tablejsDataColClass directive.');\n    }\n    setTimeout(() => {\n      this.registerInitialColumnWidthOnGridDirective();\n    }, 1);\n  }\n\n  registerInitialColumnWidthOnGridDirective() {\n    if (this.initialWidth === undefined) {\n      this.gridService.triggerHasInitialWidths(false);\n      console.log('[Performance Alert] Add an initialWidth value on the tablejsDataColClass directive for a significant performance boost.');\n      return;\n    }\n\n    this.gridService.triggerHasInitialWidths(true);\n    const el: HTMLElement | any | null = this.gridService.getParentTablejsGridDirective(this.elementRef.nativeElement);\n    if (el !== null) {\n      el['gridDirective'].initialWidths[this.tablejsDataColClass!] = this.initialWidth;\n    }\n  }\n}\n","import { Directive, ElementRef, Input } from '@angular/core';\nimport { IColumnHierarchy } from '../../shared/interfaces/i-column-hierarchy';\nimport { GridService } from './../../services/grid/grid.service';\nimport { GridDirective } from './../grid/grid.directive';\n\n@Directive({\n  selector: '[tablejsHideColumnIf], [tablejshidecolumnif], [tablejs-hide-column-if]'\n})\nexport class HideColumnIfDirective {\n\n  private _hideColumn: boolean | undefined | null = false;\n  private gridDirective: GridDirective | undefined;\n  public HIDDEN_COLUMN_CLASS: string = 'column-is-hidden';\n  public showOffspringLimited: boolean = false;\n  public changeTriggeredBy: IColumnHierarchy | null = null;\n  public canHide: boolean = true;\n\n  @Input() public set tablejsHideColumnIf(hide: boolean | undefined | null) {\n    \n    const wasLimited: boolean = this.showOffspringLimited;\n    const wasTriggeredBy: IColumnHierarchy | null = this.changeTriggeredBy;\n\n    this.showOffspringLimited = false;\n    this.changeTriggeredBy = null;\n    \n    const el: HTMLElement | any | null = this.gridService.getParentTablejsGridDirective(this.elementRef.nativeElement);\n    if (el !== null) {\n      this.gridDirective = el['gridDirective'];\n\n      const columnVisibilityChanged: boolean = this._hideColumn !== hide;\n      if (!columnVisibilityChanged) {\n        this.gridDirective!.hiddenColumnChanges.next(null);\n        return;\n      }\n\n      this._hideColumn = hide;\n\n      const flattenedColumnHierarchy = this.gridDirective!.getFlattenedHierarchy();\n      const currentColumnHierarchy: IColumnHierarchy = flattenedColumnHierarchy.filter((hierarchy: IColumnHierarchy) => {\n        return hierarchy.element === this.gridDirective!.getRelatedHeader(this.elementRef.nativeElement);\n      })[0];\n\n      if (!wasTriggeredBy) {\n        this.changeTriggeredBy = currentColumnHierarchy;\n      }\n\n      if (hide) {\n        \n        const lowestLevelColHierarchiesVisible: IColumnHierarchy[] = this.getLowestLevelColumnHierarchiesVisible(flattenedColumnHierarchy);\n\n        const allLowestLevelColumnsHidden: boolean = lowestLevelColHierarchiesVisible.length === 0;\n        if (allLowestLevelColumnsHidden || this.allColumnsShareTheSameAncestor(currentColumnHierarchy, lowestLevelColHierarchiesVisible, flattenedColumnHierarchy)) {\n          this._hideColumn = false;\n          this.gridDirective!.hiddenColumnChanges.next(null);\n          return;\n        }\n        \n        this.gridDirective!.getRelatedHeaders(this.elementRef.nativeElement).forEach((element: HTMLElement) => {\n          element.classList.add(this.HIDDEN_COLUMN_CLASS);\n        });\n        \n        this.hideAllOffspring(currentColumnHierarchy);\n        if (this.allSiblingsAreHidden(currentColumnHierarchy, flattenedColumnHierarchy)) {\n          this.setAllAncestors(currentColumnHierarchy, flattenedColumnHierarchy, true);\n        }\n      } else {\n        this.gridDirective!.getRelatedHeaders(this.elementRef.nativeElement).forEach((element: HTMLElement) => {\n          element.classList.remove(this.HIDDEN_COLUMN_CLASS);\n        });\n\n        this.setAllAncestors(currentColumnHierarchy, flattenedColumnHierarchy, false);\n        if (!wasLimited) {\n          this.showAllOffspring(currentColumnHierarchy);\n        }\n      }\n\n     \n      const triggerHierarchy: IColumnHierarchy | null = !wasTriggeredBy ? currentColumnHierarchy : null;\n      this.changeTriggeredBy = null;\n      this.gridDirective!.hiddenColumnChanges.next({ hierarchyColumn: currentColumnHierarchy, wasTriggeredByThisColumn: triggerHierarchy !== null, hidden: this._hideColumn === true });\n    }\n  }\n  public get tablejsHideColumnIf(): boolean | undefined | null {\n    return this._hideColumn;\n  }\n\n  getVisibleSiblingsByColumn(hierarchyList: IColumnHierarchy[], level: number): IColumnHierarchy[] {\n    const visibleSiblings: IColumnHierarchy[] = hierarchyList.filter((hierarchy: IColumnHierarchy) => {\n      return hierarchy.level === level && (hierarchy.element as any).hideColumnIf.tablejsHideColumnIf === false;\n    });\n    return visibleSiblings;\n  }\n\n  public updateHeadersThatCanHide(): void {\n    const flattenedColumnHierarchy: IColumnHierarchy[] = this.gridDirective!.getFlattenedHierarchy();\n    for (let i = 0; i < flattenedColumnHierarchy.length; i++) {\n      const columnHierarchy: IColumnHierarchy = flattenedColumnHierarchy[i];\n      const element: any = columnHierarchy.element as any;\n      const hideColumnIf: HideColumnIfDirective = element.hideColumnIf;\n      hideColumnIf.canHide = true;\n    }\n    let visibleSiblings: IColumnHierarchy[] = this.getVisibleSiblingsByColumn(flattenedColumnHierarchy, 0);\n\n    if (visibleSiblings.length === 1) {\n      let solitarySibling: IColumnHierarchy | null = visibleSiblings[0];\n      (solitarySibling.element as any).hideColumnIf.canHide = false;\n      let subColumns: IColumnHierarchy[] =  solitarySibling.subColumns;\n      let count: number = 0;\n      while (solitarySibling && subColumns.length !== 0) {\n          visibleSiblings = this.getVisibleSiblingsByColumn(subColumns, ++count);\n          solitarySibling = visibleSiblings.length === 1 ? visibleSiblings[0] : null;\n          if (solitarySibling) {\n            (solitarySibling.element as any).hideColumnIf.canHide = false;\n            subColumns = solitarySibling.subColumns;\n          }\n      }\n    }\n  }\n\n  public getLowestLevelColumnHierarchiesVisible(flattenedColumnHierarchy: IColumnHierarchy[]): IColumnHierarchy[] {\n\n    const lowestLevelColHierarchiesVisible: IColumnHierarchy[] = [];\n    const sortedByLevelColumnHierarchy: IColumnHierarchy[] = flattenedColumnHierarchy.concat().sort((colHier1: IColumnHierarchy, colHier2: IColumnHierarchy) => {\n      return colHier2.level - colHier1.level;\n    });\n\n    const baseLevel: number = sortedByLevelColumnHierarchy[0].level;\n    \n    for (let i = 0; i < sortedByLevelColumnHierarchy.length; i++) {\n      const hierarchy: IColumnHierarchy = sortedByLevelColumnHierarchy[i];\n      if (hierarchy.level !== baseLevel) {\n        break;\n      }\n      if (!(hierarchy.element as any).hideColumnIf.tablejsHideColumnIf) {\n        lowestLevelColHierarchiesVisible.push(hierarchy);\n      }\n    }\n\n    return lowestLevelColHierarchiesVisible;\n  }\n\n  public allColumnsShareTheSameAncestor(commonAncestor: IColumnHierarchy, columnHierarchies: IColumnHierarchy[], flattenedColumnHierarchy: IColumnHierarchy[]): boolean {\n\n    const hierarchiesWithCommonAncestor: IColumnHierarchy[] = [];\n    for (let i = 0; i < columnHierarchies.length; i++) {\n      const currentColumnHierarchy: IColumnHierarchy = columnHierarchies[i];\n      let parentColumnHierarchy: IColumnHierarchy | null = flattenedColumnHierarchy.filter((hierarchy: IColumnHierarchy) => {\n        return hierarchy.element === currentColumnHierarchy.parentColumn;\n      })[0];\n\n      while (parentColumnHierarchy) {\n        if (parentColumnHierarchy === commonAncestor) {\n          hierarchiesWithCommonAncestor.push(currentColumnHierarchy);\n          break;\n        }\n\n        const columnHierarchy: IColumnHierarchy = flattenedColumnHierarchy.filter((hierarchy: IColumnHierarchy) => {\n          return hierarchy.element === parentColumnHierarchy!.element;\n        })[0];\n        \n        parentColumnHierarchy = flattenedColumnHierarchy.filter((hierarchy: IColumnHierarchy) => {\n          return hierarchy.element === columnHierarchy.parentColumn;\n        })[0];\n      }\n    }\n    return columnHierarchies.length === hierarchiesWithCommonAncestor.length;\n  }\n\n  public hideAllOffspring(columnHierarchy: IColumnHierarchy): void {\n    for (let i = 0; i < columnHierarchy.subColumns.length; i++) {\n      const child: any = this.gridDirective!.getRelatedHeader(columnHierarchy.subColumns[i].element);\n      child.hideColumnIf.changeTriggeredBy = columnHierarchy;\n      child.hideColumnIf.tablejsHideColumnIf = true;\n    }\n  }\n\n  public showAllOffspring(columnHierarchy: IColumnHierarchy): void {\n    for (let i = 0; i < columnHierarchy.subColumns.length; i++) {\n      const child: any = this.gridDirective!.getRelatedHeader(columnHierarchy.subColumns[i].element);\n      child.hideColumnIf.changeTriggeredBy = columnHierarchy;\n      child.hideColumnIf.tablejsHideColumnIf = false;\n      child.hideColumnIf.canHide = true;\n    }\n  }\n\n  public allSiblingsAreHidden(columnHierarchy: IColumnHierarchy, flattenedColumnHierarchy: IColumnHierarchy[]): boolean {\n    let parentColumnHierarchy: IColumnHierarchy | null = flattenedColumnHierarchy.filter((hierarchy: IColumnHierarchy) => {\n      return hierarchy.element === columnHierarchy.parentColumn;\n    })[0];\n\n    let hiddenSiblingCount: number = 0;\n    let totalSiblings: number;\n\n    if (parentColumnHierarchy) {\n      totalSiblings = parentColumnHierarchy.subColumns.length;\n      parentColumnHierarchy.subColumns.forEach((subColumn: IColumnHierarchy) => {\n        if (this.gridDirective!.getRelatedHeader(subColumn.element).hideColumnIf.tablejsHideColumnIf) {\n          hiddenSiblingCount++;\n        }\n      });\n    } else {\n      const topLevelSiblings: IColumnHierarchy[] = flattenedColumnHierarchy.filter((hierarchy: IColumnHierarchy) => {\n        return hierarchy.level === 0;\n      });\n      totalSiblings = topLevelSiblings.length;\n      for (let i = 0; i < topLevelSiblings.length; i++) {\n        const topLevelSibling: IColumnHierarchy = topLevelSiblings[i];\n        if (this.gridDirective!.getRelatedHeader(topLevelSibling.element).hideColumnIf.tablejsHideColumnIf) {\n          hiddenSiblingCount++;\n        }\n      }\n    }\n    return hiddenSiblingCount === totalSiblings;\n  }\n\n  public setAllAncestors(currentColumnHierarchy: IColumnHierarchy, flattenedColumnHierarchy: IColumnHierarchy[], hidden: boolean): void {\n    let parentColumnHierarchy: IColumnHierarchy | null = flattenedColumnHierarchy.filter((hierarchy: IColumnHierarchy) => {\n      return hierarchy.element === currentColumnHierarchy.parentColumn;\n    })[0];\n\n    const allSiblingsHidden: boolean = this.allSiblingsAreHidden(currentColumnHierarchy, flattenedColumnHierarchy);\n    let parentSiblingsAreAllHidden: boolean = hidden ? allSiblingsHidden : true;\n\n    while (parentColumnHierarchy && parentSiblingsAreAllHidden) {\n      const parentElement: any = parentColumnHierarchy.element as any;\n\n      parentElement.hideColumnIf.changeTriggeredBy = currentColumnHierarchy;\n      parentElement.hideColumnIf.showOffspringLimited = true;\n      parentElement.hideColumnIf.tablejsHideColumnIf = hidden;\n      parentElement.hideColumnIf.canHide = true;\n      \n\n      const columnHierarchy: IColumnHierarchy = flattenedColumnHierarchy.filter((hierarchy: IColumnHierarchy) => {\n        return hierarchy.element === parentColumnHierarchy!.element;\n      })[0];\n      \n      parentColumnHierarchy = flattenedColumnHierarchy.filter((hierarchy: IColumnHierarchy) => {\n        return hierarchy.element === columnHierarchy.parentColumn;\n      })[0];    \n    }\n  }\n\n  constructor(public elementRef: ElementRef, public gridService: GridService) { \n   this.elementRef.nativeElement.hideColumnIf = this;\n  }\n\n}\n","import { ElementRef, NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { HorizResizeGripComponent } from './components/horiz-resize-grip/horiz-resize-grip.component';\nimport { ReorderGripComponent } from './components/reorder-grip/reorder-grip.component';\nimport { GridDirective } from './directives/grid/grid.directive';\nimport { GridRowDirective } from './directives/grid-row/grid-row.directive';\nimport { ResizableGripDirective } from './directives/resizable-grip/resizable-grip.directive';\nimport { InfiniteScrollDirective } from './directives/infinite-scroll/infinite-scroll.directive';\nimport { GridComponent } from './components/grid/grid.component';\nimport { EditableCellDirective } from './directives/editable-cell/editable-cell.directive';\nimport { DragAndDropGhostComponent } from './components/drag-and-drop-ghost/drag-and-drop-ghost.component';\nimport { ScrollPrevSpacerComponent } from './components/scroll-prev-spacer/scroll-prev-spacer.component';\n\nimport { GridService } from './services/grid/grid.service';\nimport { OperatingSystemService } from './services/operating-system/operating-system.service';\nimport { DirectiveRegistrationService } from './services/directive-registration/directive-registration.service';\nimport { ScrollDispatcherService } from './services/scroll-dispatcher/scroll-dispatcher.service';\n\nimport { ReorderGripDirective } from './directives/reorder-grip/reorder-grip.directive';\nimport { ReorderColDirective } from './directives/reorder-col/reorder-col.directive';\nimport { DataColClassesDirective } from './directives/data-col-classes/data-col-classes.directive';\nimport { DataColClassDirective } from './directives/data-col-class/data-col-class.directive';\nimport { VirtualForDirective } from './directives/virtual-for/virtual-for.directive';\nimport { ScrollViewportDirective } from './directives/scroll-viewport/scroll-viewport.directive';\nimport { HideColumnIfDirective } from './directives/hide-column-if/hide-column-if.directive';\n\n@NgModule({\n  entryComponents: [\n    DragAndDropGhostComponent,\n    ScrollPrevSpacerComponent\n  ],\n  declarations: [\n    GridDirective,\n    GridRowDirective,\n    ResizableGripDirective,\n    InfiniteScrollDirective,\n    HorizResizeGripComponent,\n    ReorderGripComponent,\n    GridComponent,\n    EditableCellDirective,\n    DragAndDropGhostComponent,\n    ReorderGripDirective,\n    ReorderColDirective,\n    DataColClassesDirective,\n    DataColClassDirective,\n    VirtualForDirective,\n    ScrollViewportDirective,\n    ScrollPrevSpacerComponent,\n    HideColumnIfDirective\n  ],\n  imports: [\n    CommonModule\n  ],\n  providers: [\n    GridService,\n    OperatingSystemService,\n    DirectiveRegistrationService,\n    ScrollDispatcherService\n  ],\n  exports: [\n    GridDirective,\n    GridRowDirective,\n    ResizableGripDirective,\n    InfiniteScrollDirective,\n    HorizResizeGripComponent,\n    ReorderGripComponent,\n    GridComponent,\n    EditableCellDirective,\n    DragAndDropGhostComponent,\n    ReorderGripDirective,\n    ReorderColDirective,\n    DataColClassesDirective,\n    DataColClassDirective,\n    VirtualForDirective,\n    ScrollViewportDirective,\n    HideColumnIfDirective\n  ],\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ]\n})\nexport class TablejsModule { }\n","import { FilterSortService } from './../services/filter-sort.service';\nimport { IFilterOptions } from './../options/i-filter-options';\nimport { ISortOptions } from './../options/i-sort-options';\n\nexport class Comparator {\n  public static filterSortService: FilterSortService | null = null;\n\n  public static getCurrentSortOptions(): ISortOptions | null {\n    return Comparator.filterSortService?.currentSortOptions;\n  }\n\n  public static getCurrentFilterOptions(): IFilterOptions | null {\n    return Comparator.filterSortService?.currentFilterOptions;\n  }\n\n  public static isString(val: any): boolean {\n    return typeof val === 'string' || val instanceof String;\n  }\n}\n","export namespace SortDirection {\n  export type DESCENDING = -1;\n  export const DESCENDING: number | DESCENDING = -1;\n\n  export type NONE = 0;\n  export const NONE: number | NONE = 0;\n\n  export type ASCENDING = 1;\n  export const ASCENDING: number | ASCENDING = 1;\n}\n","import { Injectable } from '@angular/core';\nimport { ISortOptions } from './../options/i-sort-options';\nimport { SortOptions } from './../options/sort-options';\nimport { Comparator } from './../comparators/comparator';\nimport { IFilterOptions } from './../options/i-filter-options';\nimport { FilterOptions } from './../options/filter-options';\nimport { SortDirection } from '../options/sort-direction';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class FilterSortService {\n  public autoDefineUnsetProperties: boolean = false;\n  public filterSplits: any[];\n  private filterSplitsLen: number;\n  private splits: any[];\n  private splitsLen: number;\n  public sortDirection: number;\n  public ignoreCase: boolean;\n  private vName: string;\n  private varNames: string[];\n  private _items: any[];\n\n  private _currentFilterOptions: IFilterOptions | FilterOptions | null;\n  private _currentSortOptions: ISortOptions | SortOptions | null;\n\n  public get currentFilterOptions(): IFilterOptions | FilterOptions | null {\n    return this._currentFilterOptions;\n  }\n  public get currentSortOptions(): ISortOptions | SortOptions | null {\n    return this._currentSortOptions;\n  }\n  public get itemsBeingFilteredAndSorted(): any[] {\n    return this._items;\n  }\n\n  constructor() {\n    Comparator.filterSortService = this;\n  }\n\n  filterAndSortItems(\n    items: any[],\n    filterOptions:\n      | IFilterOptions\n      | (IFilterOptions | null)[]\n      | FilterOptions\n      | (FilterOptions | null)[]\n      | null,\n    sortOptions: ISortOptions | (ISortOptions | null)[] | SortOptions | (SortOptions | null)[] | null\n  ): any[] {\n    let filteredItems: any[];\n\n    this._items = items;\n    filteredItems = items;\n\n    if (filterOptions) {\n      if (Array.isArray(filterOptions)) {\n        const filterOptionsLen: number = filterOptions.length;\n        for (let i = 0; i < filterOptionsLen; i++) {\n          const options: IFilterOptions | FilterOptions | null = filterOptions[i];\n          this._currentFilterOptions = options;\n          filteredItems = this.filterItemsByVarNames(filteredItems, options);\n        }\n      } else {\n        filteredItems = this.filterItemsByVarNames(\n          filteredItems,\n          filterOptions\n        );\n      }\n    }\n\n    if (sortOptions) {\n      if (Array.isArray(sortOptions)) {\n        filteredItems = this.multiSortItemsByVarName(\n          filteredItems,\n          sortOptions\n        );\n      } else {\n        filteredItems = this.sortItemsByVarName(filteredItems, sortOptions);\n      }\n    }\n\n    return filteredItems;\n  }\n\n  isString(val: any): boolean {\n    return typeof val === 'string' || val instanceof String;\n  }\n\n  filterItemsByVarNames(items: any[], filterOptions: IFilterOptions | FilterOptions | null): any[] {\n    this._currentFilterOptions = filterOptions;\n    if (!filterOptions) {\n      throw Error(\n        'A FilterOptions object is not defined. Please supply filter options to sort items by.'\n      );\n    }\n    const varNames: string | (string | null | undefined)[] | undefined | null = this.isString(\n      filterOptions.variableIdentifiers\n    )\n      ? ([filterOptions.variableIdentifiers] as string[])\n      : filterOptions.variableIdentifiers;\n\n    this.ignoreCase = filterOptions.ignoreCase;\n\n    if (items === null || items === undefined) {\n      throw Error(\n        'Item array is not defined. Please supply a defined array to filter.'\n      );\n    }\n\n    if (items.length === 0) {\n      return items;\n    }\n\n    this.filterSplits = [];\n\n    const numOfVarNames: number = varNames && varNames.length > 0 ? varNames.length : 0;\n\n    for (let i = 0; i < numOfVarNames; i++) {\n      this.splitVariablesFromIdentifier(varNames![i]);\n      this.filterSplits.push(this.splits);\n    }\n\n    this.filterSplitsLen = this.filterSplits.length;\n\n    items = items.concat();\n\n    items = items.filter(filterOptions.comparator);\n\n    return items;\n  }\n\n  splitVariablesFromIdentifier(varName: string | null | undefined): void {\n    if (varName === null || varName === undefined || varName === '') {\n      this.splits = [];\n      this.splitsLen = this.splits.length;\n      return;\n    }\n    const containsBrackets: boolean = varName.includes('[');\n    this.splits = varName.split('.');\n    this.splitsLen = this.splits.length;\n\n    if (containsBrackets) {\n      const bracketSplits: string[] = [];\n      for (let i = 0; i < this.splitsLen; i++) {\n        let split: string = this.splits[i];\n        let startBracketIndex: number = split.indexOf('[');\n\n        if (startBracketIndex !== -1) {\n          while (split !== '') {\n            const endBracketIndex: number = split.indexOf(']') + 1;\n            const preBracketVar: string = split.substring(0, startBracketIndex);\n            const brackets: string = split.substring(\n              startBracketIndex + 1,\n              endBracketIndex - 1\n            );\n            const postBracketVar: string = split.substring(\n              endBracketIndex,\n              split.length\n            );\n            split = postBracketVar;\n            startBracketIndex = split.indexOf('[');\n\n            if (preBracketVar !== '') {\n              bracketSplits.push(preBracketVar);\n            }\n            bracketSplits.push(brackets);\n          }\n        } else {\n          bracketSplits.push(split);\n        }\n      }\n      this.splits = bracketSplits;\n    }\n\n    this.splitsLen = this.splits.length;\n    let varStr: string = '(array item)';\n    this.varNames = [varStr];\n\n    for (let i = 0; i < this.splitsLen; i++) {\n      this.vName = this.splits[i];\n      if (isNaN(Number(this.vName))) {\n        varStr += '.' + this.vName;\n      } else {\n        varStr += '[' + this.vName + ']';\n      }\n      this.varNames.push(varStr);\n    }\n  }\n\n  sortItemsByVarName(items: any[], sortOptions: ISortOptions | null): any[] {\n    this._currentSortOptions = sortOptions;\n\n    if (!sortOptions) {\n      throw Error(\n        'A SortOptions object is not defined. Please supply filter options to sort items by.'\n      );\n    }\n\n    const varName: string = sortOptions.variableIdentifier as string;\n    this.sortDirection = sortOptions.sortDirection;\n    this.ignoreCase = sortOptions.ignoreCase;\n\n    if (items === null || items === undefined) {\n      throw Error(\n        'Item array is not defined. Please supply a defined array to sort.'\n      );\n    }\n    if (items.length === 0) {\n      return items;\n    }\n\n    this.splitVariablesFromIdentifier(varName);\n\n    items = items.concat();\n\n    if (this.sortDirection !== SortDirection.NONE) {\n      items.sort(sortOptions.comparator);\n    }\n\n    return items;\n  }\n\n  multiSortItemsByVarName(\n    items: any[],\n    sortOptionsGroup: (ISortOptions | null)[] | (SortOptions | null)[]\n  ): any[] {\n    sortOptionsGroup.sort(\n      (sortOptionsA: ISortOptions | null, sortOptionsB: ISortOptions | null) => {\n        if (!sortOptionsA || !sortOptionsB) {\n          return 0;\n        }\n        const orderA = sortOptionsA.sortOrder;\n        const orderB = sortOptionsB.sortOrder;\n        if (orderA === orderB) {\n          return 0;\n        }\n        return orderA > orderB ? 1 : -1;\n      }\n    );\n\n    sortOptionsGroup.forEach((sortOptions) => {\n      items = this.sortItemsByVarName(items, sortOptions);\n    });\n    return items;\n  }\n\n  getFilterValuesFromPropertyIndentifiers(value: any): any[] {\n    this.filterSplitsLen = this.filterSplits.length;\n    const vals: any[] = this.filterSplitsLen === 0 ? [value] : [];\n\n    for (let j = 0; j < this.filterSplitsLen; j++) {\n      let varA = value;\n      const splits: any[] = this.filterSplits[j];\n      const splitsLen: number = splits.length;\n\n      for (let i = 0; i < splitsLen; i++) {\n        this.vName = splits[i];\n\n        if (!varA.hasOwnProperty(this.vName)) {\n          if (!this.autoDefineUnsetProperties) {\n            throw Error(\n              `Property ${this.vName} not found on ${this.varNames[i]}`\n            );\n          }\n          this.defineProperty(varA, this.vName);\n        } else {\n          varA = varA[this.vName];\n        }\n      }\n      vals.push(varA);\n    }\n\n    return vals;\n  }\n\n  private defineProperty(obj: any, propName: string, value: any = undefined, writable: boolean = true): void {\n    Object.defineProperty(obj, propName, {\n      value: value,\n      writable: writable\n    });\n  }\n\n  getSortValuesFromPropertyIdentifiers(valueA: any, valueB: any): any[] {\n    let varA = valueA;\n    let varB = valueB;\n\n    for (let i = 0; i < this.splitsLen; i++) {\n      this.vName = this.splits[i];\n      if (\n        !varA.hasOwnProperty(this.vName) ||\n        !varB.hasOwnProperty(this.vName)\n      ) {\n        throw Error(`Property ${this.vName} not found on ${this.varNames[i]}`);\n      }\n      varA = varA[this.vName];\n      varB = varB[this.vName];\n    }\n\n    return [varA, varB];\n  }\n}\n","import { ISortOptions } from './i-sort-options';\nimport { SortDirection } from './sort-direction';\n\nexport class SortOptions implements ISortOptions {\n  public id: string;\n  variableIdentifier: string | null | undefined;\n  initialSortDirection:\n    | number\n    | SortDirection.DESCENDING\n    | SortDirection.NONE\n    | SortDirection.ASCENDING;\n  ignoreCase: boolean;\n  ignoreTimeOfDay: boolean = true;\n  sortOrder: number;\n  comparator: (valueA: any, valueB: any) => number;\n  variableMapper?: Function | null;\n  useLocaleCompare: boolean;\n  localeCompareOptions: [string | string[]] | [string | string[], Intl.CollatorOptions] | null;\n  _directionOrder: (\n    | number\n    | SortDirection.ASCENDING\n    | SortDirection.DESCENDING\n    | SortDirection.NONE\n  )[] = [SortDirection.ASCENDING, SortDirection.DESCENDING, SortDirection.NONE];\n\n  get directionOrder(): (\n    | number\n    | SortDirection.ASCENDING\n    | SortDirection.DESCENDING\n    | SortDirection.NONE\n  )[] {\n    return this._directionOrder;\n  }\n\n  set directionOrder(\n    order: (\n      | number\n      | SortDirection.ASCENDING\n      | SortDirection.DESCENDING\n      | SortDirection.NONE\n    )[]\n  ) {\n    this._sortDirectionIndex = -1;\n    this._directionOrder = order;\n  }\n\n  private _sortDirectionIndex: number = -1;\n\n  get sortDirection(): number| SortDirection.ASCENDING | SortDirection.DESCENDING | SortDirection.NONE {\n    return this._sortDirectionIndex === -1\n      ? SortDirection.NONE\n      : this._directionOrder[this._sortDirectionIndex];\n  }\n\n  set sortDirection(\n    direction:\n      | number\n      | SortDirection.ASCENDING\n      | SortDirection.DESCENDING\n      | SortDirection.NONE\n  ) {\n    this._sortDirectionIndex = this._directionOrder.indexOf(direction);\n  }\n\n  constructor(\n    variableIdentifier: string,\n    comparator: (valueA: any, valueB: any) => number,\n    initialSortDirection:\n      | number\n      | SortDirection.DESCENDING\n      | SortDirection.NONE\n      | SortDirection.ASCENDING = SortDirection.NONE,\n    ignoreCase: boolean = true,\n    sortOrder: number = 0,\n    useLocalCompare: boolean = false,\n    localeCompareOptions: [string | string[]] | [string | string[], Intl.CollatorOptions] | null = null\n  ) {\n    this.variableIdentifier = variableIdentifier;\n    this.comparator = comparator;\n    this.initialSortDirection = initialSortDirection;\n    this.ignoreCase = ignoreCase;\n    this.sortOrder = sortOrder;\n    this.useLocaleCompare = useLocalCompare;\n    this.localeCompareOptions = localeCompareOptions;\n\n    this.sortDirection = this.initialSortDirection;\n  }\n\n  public nextSortDirection(): void {\n    this._sortDirectionIndex++;\n\n    if (this._sortDirectionIndex >= this._directionOrder.length) {\n      this._sortDirectionIndex = 0;\n    }\n  }\n}\n","export namespace MatchType {\n  export type ALL = 'all';\n  export const ALL: string | ALL = 'all';\n\n  export type ANY = 'any';\n  export const ANY: string | ANY = 'any';\n}\n","import { IFilterOptions } from './i-filter-options';\nimport { MatchType } from './../comparators/match-type';\n\nexport class FilterOptions implements IFilterOptions {\n  public id: string;\n  variableIdentifiers: string | (string | null | undefined)[] | null | undefined;\n  ignoreCase: boolean;\n  ignoreTimeOfDay: boolean = true;\n  comparator: (element: any, index: number, array: any[]) => boolean;\n  variableMappers?: Function | (Function | null)[] | null;\n  filterValue: any;\n  matchType: string | MatchType.ALL | MatchType.ANY;\n\n  constructor(\n    variableIdentifiers: string | string[],\n    comparator: (element: any, index: number, array: any[]) => boolean,\n    filterValue: any = null,\n    matchType: string | MatchType.ALL | MatchType.ANY = MatchType.ANY,\n    ignoreCase: boolean = true\n  ) {\n    this.variableIdentifiers = variableIdentifiers;\n    this.comparator = comparator;\n    this.ignoreCase = ignoreCase;\n    this.filterValue = filterValue;\n    this.matchType = matchType;\n  }\n}\n","import { Comparator } from './comparator';\nimport { ISortOptions } from './../filter-and-sort.module';\n\nexport class SortComparator extends Comparator {\n  static DATE(valueA: any, valueB: any): number {\n    const values: any[] =\n      Comparator.filterSortService!.getSortValuesFromPropertyIdentifiers(\n        valueA,\n        valueB\n      );\n    let varA = values[0];\n    let varB = values[1];\n\n    const currentSortOptions: ISortOptions | null = Comparator.getCurrentSortOptions();\n    if (!currentSortOptions) {\n      this.triggerNoSortOptionsError();\n    }\n\n    if (currentSortOptions!.ignoreTimeOfDay) {\n      varA = new Date(varA);\n      varB = new Date(varB);\n      varA.setHours(0, 0, 0, 0);\n      varB.setHours(0, 0, 0, 0);\n    }\n\n    const modifier: Function | null = currentSortOptions!.variableMapper!;\n    if (modifier !== null && modifier !== undefined) {\n      varA = modifier.apply(null, [varA]);\n      varB = modifier.apply(null, [varB]);\n    }\n\n    if (varA === varB) {\n      return 0;\n    }\n    return Comparator.filterSortService!.sortDirection === 1\n      ? varA - varB\n      : varB - varA;\n  }\n\n  static NUMERIC(valueA: any, valueB: any): number {\n    const values: any[] =\n      Comparator.filterSortService!.getSortValuesFromPropertyIdentifiers(\n        valueA,\n        valueB\n      );\n    let varA = values[0];\n    let varB = values[1];\n\n    const currentSortOptions: ISortOptions | null = Comparator.getCurrentSortOptions();\n    if (!currentSortOptions) {\n      this.triggerNoSortOptionsError();\n    }\n\n    const modifier: Function | null = currentSortOptions!.variableMapper!;\n    if (modifier !== null && modifier !== undefined) {\n      varA = modifier.apply(null, [varA]);\n      varB = modifier.apply(null, [varB]);\n    }\n\n    if (varA === varB) {\n      return 0;\n    }\n    return varA > varB\n      ? 1 * Comparator.filterSortService!.sortDirection\n      : -1 * Comparator.filterSortService!.sortDirection;\n  }\n\n  static BOOLEAN(valueA: any, valueB: any): number {\n    const values: any[] =\n      Comparator.filterSortService!.getSortValuesFromPropertyIdentifiers(\n        valueA,\n        valueB\n      );\n    let varA = values[0];\n    let varB = values[1];\n\n    const currentSortOptions: ISortOptions | null = Comparator.getCurrentSortOptions();\n    if (!currentSortOptions) {\n      this.triggerNoSortOptionsError();\n    }\n\n    const modifier: Function | null = currentSortOptions!.variableMapper!;\n    if (modifier !== null && modifier !== undefined) {\n      varA = modifier.apply(null, [varA]);\n      varB = modifier.apply(null, [varB]);\n    }\n\n    if (varA === varB) {\n      return 0;\n    }\n    return Comparator.filterSortService!.sortDirection === 1\n      ? varA - varB\n      : varB - varA;\n  }\n\n  static TRUTHY(valueA: any, valueB: any): number {\n    const values: any[] =\n      Comparator.filterSortService!.getSortValuesFromPropertyIdentifiers(\n        valueA,\n        valueB\n      );\n    let varA = values[0];\n    let varB = values[1];\n\n    const currentSortOptions: ISortOptions | null = Comparator.getCurrentSortOptions();\n    if (!currentSortOptions) {\n      this.triggerNoSortOptionsError();\n    }\n\n    const modifier: Function | null = currentSortOptions!.variableMapper!;\n    if (modifier !== null && modifier !== undefined) {\n      varA = modifier.apply(null, [varA]);\n      varB = modifier.apply(null, [varB]);\n    }\n\n    const varAIsFalsy: number = varA ? 1 : 0;\n    const varBIsFalsy: number = varB ? 1 : 0;\n\n    if (varAIsFalsy === varBIsFalsy) {\n      return 0;\n    }\n    return Comparator.filterSortService!.sortDirection === 1\n      ? varAIsFalsy - varBIsFalsy\n      : varBIsFalsy - varAIsFalsy;\n  }\n\n  static ALPHABETICAL(valueA: any, valueB: any): number {\n    const values: any[] =\n      Comparator.filterSortService!.getSortValuesFromPropertyIdentifiers(\n        valueA,\n        valueB\n      );\n    let varA = values[0];\n    let varB = values[1];\n\n    const currentSortOptions: ISortOptions | null = Comparator.getCurrentSortOptions();\n    if (!currentSortOptions) {\n      this.triggerNoSortOptionsError();\n    }\n\n    const modifier: Function | null = currentSortOptions!.variableMapper!;\n    if (modifier !== null && modifier !== undefined) {\n      varA = modifier.apply(null, [varA]);\n      varB = modifier.apply(null, [varB]);\n    }\n\n    if (Comparator.filterSortService!.ignoreCase) {\n      if (\n        (typeof varA === 'string' || varA instanceof String) &&\n        (typeof varB === 'string' || varB instanceof String)\n      ) {\n        varA = varA.toLowerCase();\n        varB = varB.toLowerCase();\n      }\n    }\n\n    varA = varA.toString();\n    varB = varB.toString();\n\n    if (varA == varB || !Comparator.filterSortService!.currentSortOptions) {\n      return 0;\n    }\n    if (Comparator.filterSortService!.currentSortOptions.useLocaleCompare) {\n      if (\n        Comparator.filterSortService!.currentSortOptions.localeCompareOptions\n      ) {\n        const locales: string | string[] =\n          Comparator.filterSortService!.currentSortOptions\n            .localeCompareOptions[0];\n        const options: Intl.CollatorOptions | null = Comparator.filterSortService!.currentSortOptions.localeCompareOptions.length > 1 ? Comparator.filterSortService!.currentSortOptions.localeCompareOptions[1] as Intl.CollatorOptions : null;\n        if (options) {\n          return (\n            varA.localeCompare(varB, locales, options) *\n            Comparator.filterSortService!.sortDirection\n          );\n        } else {\n          return varA.localeCompare(varB, locales) *\n            Comparator.filterSortService!.sortDirection;\n        }\n      } else {\n        return (\n          varA.localeCompare(varB) * Comparator.filterSortService!.sortDirection\n        );\n      }\n    } else {\n      return varA > varB\n        ? Comparator.filterSortService!.sortDirection * 1\n        : Comparator.filterSortService!.sortDirection * -1;\n    }\n  }\n\n  static triggerNoSortOptionsError() {\n    throw Error(`Please supply a SortOptions object to sort your array by.`);\n  }\n}\n","import { Comparator } from './comparator';\nimport { MatchType } from './match-type';\nimport { IFilterOptions } from './../filter-and-sort.module';\n\nexport class FilterComparator extends Comparator {\n  private static getRequiredMatches(numOfValues: number): number {\n    if (!Comparator.filterSortService!.currentFilterOptions) {\n      return 1;\n    } else {\n      return Comparator.filterSortService!.currentFilterOptions.matchType ===\n      MatchType.ANY\n      ? 1\n      : numOfValues;\n    }\n  }\n\n  private static escapeRegExp(str: string): string {\n    const regExp = /[.*+?^${}()|[\\]\\\\]/g;\n    return str.replace(regExp, '\\\\$&'); // $& means the whole matched string\n  }\n\n  public static getModifiedValue(\n    value: any,\n    variableMappers: Function | (Function | null)[] | null,\n    index: number\n  ): any {\n    if (Array.isArray(variableMappers)) {\n      if (index > variableMappers.length - 1) {\n        throw Error(`${value} does not have a variable mapper assigned to it.`);\n      }\n    }\n    let modifier: Function | null;\n    modifier = Array.isArray(variableMappers)\n      ? variableMappers[index]\n      : variableMappers;\n    if (modifier !== null && modifier !== undefined) {\n      return modifier.apply(null, [value]);\n    }\n    return value;\n  }\n\n  static CONTAINS_STRING(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let containsString: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: string =  currentFilterOptions!.filterValue;\n    const ignoreCase: boolean =  currentFilterOptions!.ignoreCase;\n\n    filterValue = ignoreCase ? filterValue.toLowerCase() : filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n         currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      val = ignoreCase ? val.toString().toLowerCase() : val.toString();\n\n      if (val.includes(filterValue)) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          containsString = true;\n        }\n      }\n    }\n\n    return containsString;\n  }\n\n  static DOES_NOT_CONTAIN_STRING(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      ); \n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues); \n    let matchCount: number = 0;\n    let doesNotContainString: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: string =  currentFilterOptions!.filterValue;\n    const ignoreCase: boolean =  currentFilterOptions!.ignoreCase;\n\n    filterValue = ignoreCase ? filterValue.toLowerCase() : filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n         currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      val = ignoreCase ? val.toString().toLowerCase() : val.toString();\n\n      if (!val.includes(filterValue)) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          doesNotContainString = true;\n        }\n      }\n    }\n\n    return doesNotContainString;\n  }\n\n  static CONTAINS_WORD(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let startsWithString: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: string = currentFilterOptions!.filterValue;\n    const ignoreCase: boolean = currentFilterOptions!.ignoreCase;\n    const regExFlags: string = currentFilterOptions!.ignoreCase\n      ? 'mi'\n      : 'm';\n\n    const punctuation: string = ',|:|;|\\\\[|\\\\]|\\\\{|\\\\}|\\\\(|\\\\)|\\'|\"|(\\\\.\\\\.\\\\.)|(\\\\.\\\\.\\\\.\\\\.)|(…)|(\\\\?)|!|\\\\.|-|—|@|#|\\\\$|%|\\\\^|&|\\\\*|_|\\\\+|=|/|>|<|`|~|('\n    + FilterComparator.escapeRegExp('\\\\') + ')|(' + FilterComparator.escapeRegExp('|') + ')';\n    const startsWithOrSpace: string = '(?:^|\\\\s|' + punctuation + ')';\n    const escapedValue: string = FilterComparator.escapeRegExp(filterValue);\n\n    const regex = new RegExp(\n      startsWithOrSpace +\n      '(' +\n      escapedValue +\n      '$|' +\n      escapedValue +\n      '(\\\\s|' +\n      punctuation +\n      '))',\n      regExFlags\n    );\n\n    filterValue = ignoreCase ? filterValue.toLowerCase() : filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      const found = regex.test(val);\n\n      if (found) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          startsWithString = true;\n        }\n      }\n    }\n\n    return startsWithString;\n  }\n\n  static DOES_NOT_CONTAIN_WORD(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let doesNotContainWord: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: string = currentFilterOptions!.filterValue;\n    const ignoreCase: boolean = currentFilterOptions!.ignoreCase;\n    const regExFlags: string = currentFilterOptions!.ignoreCase\n      ? 'mi'\n      : 'm';\n\n    const punctuation: string = ',|:|;|\\\\[|\\\\]|\\\\{|\\\\}|\\\\(|\\\\)|\\'|\"|(\\\\.\\\\.\\\\.)|(\\\\.\\\\.\\\\.\\\\.)|(…)|(\\\\?)|!|\\\\.|-|—|@|#|\\\\$|%|\\\\^|&|\\\\*|_|\\\\+|=|/|>|<|`|~|('\n    + FilterComparator.escapeRegExp('\\\\') + ')|(' + FilterComparator.escapeRegExp('|') + ')';\n    const startsWithOrSpace: string = '(?:^|\\\\s|' + punctuation + ')';\n    const escapedValue: string = FilterComparator.escapeRegExp(filterValue);\n\n    const regex = new RegExp(\n      startsWithOrSpace +\n      '(' +\n      escapedValue +\n      '$|' +\n      escapedValue +\n      '(\\\\s|' +\n      punctuation +\n      '))',\n      regExFlags\n    );\n\n    filterValue = ignoreCase ? filterValue.toLowerCase() : filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      const found = regex.test(val);\n\n      if (!found) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          doesNotContainWord = true;\n        }\n      }\n    }\n\n    return doesNotContainWord;\n  }\n\n  static STARTS_WITH(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let startsWithString: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: string = currentFilterOptions!.filterValue;\n    const ignoreCase: boolean = currentFilterOptions!.ignoreCase;\n\n    filterValue = ignoreCase ? filterValue.toLowerCase() : filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      val = ignoreCase ? val.toLowerCase() : val;\n\n      if (val.toString().substring(0, filterValue.length) === filterValue) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          startsWithString = true;\n        }\n      }\n    }\n\n    return startsWithString;\n  }\n\n  static DOES_NOT_START_WITH(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let doesNotStartWithString: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: string = currentFilterOptions!.filterValue;\n    const ignoreCase: boolean = currentFilterOptions!.ignoreCase;\n\n    filterValue = ignoreCase ? filterValue.toLowerCase() : filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      val = ignoreCase ? val.toLowerCase() : val;\n\n      if (val.toString().substring(0, filterValue.length) !== filterValue) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          doesNotStartWithString = true;\n        }\n      }\n    }\n\n    return doesNotStartWithString;\n  }\n\n  static ENDS_WITH(value: any, index?: number, array?: any[]): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let endsWithString: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: string = currentFilterOptions!.filterValue;\n    const ignoreCase: boolean = currentFilterOptions!.ignoreCase;\n\n    filterValue = ignoreCase ? filterValue.toLowerCase() : filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      val = ignoreCase ? val.toLowerCase() : val;\n\n      if (\n        val\n          .toString()\n          .substr(val.length - filterValue.length, filterValue.length) ===\n        filterValue\n      ) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          endsWithString = true;\n        }\n      }\n    }\n\n    return endsWithString;\n  }\n\n  static DOES_NOT_END_WITH(value: any, index?: number, array?: any[]): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let doesNotEndWithString: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: string = currentFilterOptions!.filterValue;\n    const ignoreCase: boolean = currentFilterOptions!.ignoreCase;\n\n    filterValue = ignoreCase ? filterValue.toLowerCase() : filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      val = ignoreCase ? val.toLowerCase() : val;\n\n      if (\n        val\n          .toString()\n          .substr(val.length - filterValue.length, filterValue.length) !==\n        filterValue\n      ) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          doesNotEndWithString = true;\n        }\n      }\n    }\n\n    return doesNotEndWithString;\n  }\n\n  static WORD_STARTS_WITH(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let startsWithString: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: string = currentFilterOptions!.filterValue;\n    const ignoreCase: boolean = currentFilterOptions!.ignoreCase;\n    const regExFlags: string = currentFilterOptions!.ignoreCase\n      ? 'mi'\n      : 'm';\n    const escapedValue: string = FilterComparator.escapeRegExp(filterValue);\n    const punctuation: string = ',|:|;|\\\\[|\\\\]|\\\\{|\\\\}|\\\\(|\\\\)|\\'|\"|(\\\\.\\\\.\\\\.)|(\\\\.\\\\.\\\\.\\\\.)|(…)|(\\\\?)|!|\\\\.|-|—|@|#|\\\\$|%|\\\\^|&|\\\\*|_|\\\\+|=|/|>|<|`|~|('\n    + FilterComparator.escapeRegExp('\\\\') + ')|(' + FilterComparator.escapeRegExp('|') + ')';\n    const startsWithOrSpace: string = '(?:^|\\\\s|' + punctuation + ')';\n    const regex = new RegExp(startsWithOrSpace + escapedValue, regExFlags);\n\n    filterValue = ignoreCase ? filterValue.toLowerCase() : filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      const found = regex.test(val);\n\n      if (found) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          startsWithString = true;\n        }\n      }\n    }\n\n    return startsWithString;\n  }\n\n  static WORD_DOES_NOT_START_WITH(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let doesNotStartsWithString: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: string = currentFilterOptions!.filterValue;\n    const ignoreCase: boolean = currentFilterOptions!.ignoreCase;\n    const regExFlags: string = currentFilterOptions!.ignoreCase\n      ? 'mi'\n      : 'm';\n    const escapedValue: string = FilterComparator.escapeRegExp(filterValue);\n    const punctuation: string = ',|:|;|\\\\[|\\\\]|\\\\{|\\\\}|\\\\(|\\\\)|\\'|\"|(\\\\.\\\\.\\\\.)|(\\\\.\\\\.\\\\.\\\\.)|(…)|(\\\\?)|!|\\\\.|-|—|@|#|\\\\$|%|\\\\^|&|\\\\*|_|\\\\+|=|/|>|<|`|~|('\n    + FilterComparator.escapeRegExp('\\\\') + ')|(' + FilterComparator.escapeRegExp('|') + ')';\n    const startsWithOrSpace: string = '(?:^|\\\\s|' + punctuation + ')';\n    const regex = new RegExp(startsWithOrSpace + escapedValue, regExFlags);\n\n    filterValue = ignoreCase ? filterValue.toLowerCase() : filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      const found = regex.test(val);\n\n      if (!found) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          doesNotStartsWithString = true;\n        }\n      }\n    }\n\n    return doesNotStartsWithString;\n  }\n\n  static WORD_ENDS_WITH(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let endsWithString: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: string = currentFilterOptions!.filterValue;\n    const ignoreCase: boolean = currentFilterOptions!.ignoreCase;\n    const regExFlags: string = currentFilterOptions!.ignoreCase\n      ? 'mi'\n      : 'm';\n    const escapedValue: string = FilterComparator.escapeRegExp(filterValue);\n    const punctuation: string = ',|:|;|\\\\[|\\\\]|\\\\{|\\\\}|\\\\(|\\\\)|\\'|\"|(\\\\.\\\\.\\\\.)|(\\\\.\\\\.\\\\.\\\\.)|(…)|(\\\\?)|!|\\\\.|-|—|@|#|\\\\$|%|\\\\^|&|\\\\*|_|\\\\+|=|/|>|<|`|~|('\n    + FilterComparator.escapeRegExp('\\\\') + ')|(' + FilterComparator.escapeRegExp('|') + ')';\n    const regex = new RegExp(\n      '(' + escapedValue + '$)|(' + escapedValue + '(\\\\s|' + punctuation + '))',\n      regExFlags\n    );\n\n    filterValue = ignoreCase ? filterValue.toLowerCase() : filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      const found = regex.test(val);\n\n      if (found) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          endsWithString = true;\n        }\n      }\n    }\n\n    return endsWithString;\n  }\n\n  static WORD_DOES_NOT_END_WITH(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let doesNotEndWithString: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: string = currentFilterOptions!.filterValue;\n    const ignoreCase: boolean = currentFilterOptions!.ignoreCase;\n    const regExFlags: string = currentFilterOptions!.ignoreCase\n      ? 'mi'\n      : 'm';\n    const escapedValue: string = FilterComparator.escapeRegExp(filterValue);\n    const punctuation: string = ',|:|;|\\\\[|\\\\]|\\\\{|\\\\}|\\\\(|\\\\)|\\'|\"|(\\\\.\\\\.\\\\.)|(\\\\.\\\\.\\\\.\\\\.)|(…)|(\\\\?)|!|\\\\.|-|—|@|#|\\\\$|%|\\\\^|&|\\\\*|_|\\\\+|=|/|>|<|`|~|('\n    + FilterComparator.escapeRegExp('\\\\') + ')|(' + FilterComparator.escapeRegExp('|') + ')';\n    const regex = new RegExp(\n      '(' + escapedValue + '$)|(' + escapedValue + '(\\\\s|' + punctuation + '))',\n      regExFlags\n    );\n\n    filterValue = ignoreCase ? filterValue.toLowerCase() : filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      const found = regex.test(val);\n\n      if (!found) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          doesNotEndWithString = true;\n        }\n      }\n    }\n\n    return doesNotEndWithString;\n  }\n\n  static EQUALS(value: any, index?: number, array?: any[]): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let equals: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: string = currentFilterOptions!.filterValue;\n    const ignoreCase: boolean = currentFilterOptions!.ignoreCase;\n\n    filterValue =\n      Comparator.isString(filterValue) && ignoreCase\n        ? filterValue.toLowerCase()\n        : filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      val =\n        Comparator.isString(val) && ignoreCase\n          ? val.toString().toLowerCase()\n          : val;\n\n      if (val == filterValue) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          equals = true;\n        }\n      }\n    }\n\n    return equals;\n  }\n\n  static NOT_EQUAL(value: any, index?: number, array?: any[]): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      ); \n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues); \n    let matchCount: number = 0;\n    let notEquals: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: string = currentFilterOptions!.filterValue;\n    const ignoreCase: boolean = currentFilterOptions!.ignoreCase;\n\n    filterValue =\n      Comparator.isString(filterValue) && ignoreCase \n        ? filterValue.toLowerCase() \n        : filterValue; \n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string = vals[i];\n      val = FilterComparator.getModifiedValue( \n        val,\n        currentFilterOptions!.variableMappers!, \n        i\n      );\n\n      val =\n        Comparator.isString(val) && ignoreCase\n          ? val.toString().toLowerCase()\n          : val;\n\n        \n      if (val != filterValue) {\n        matchCount++;\n         if (matchCount === requiredMatches) {\n          notEquals = true;\n        }\n      }\n    }\n\n    return notEquals;\n  }\n\n  static STRICT_EQUALS(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let equals: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: string = currentFilterOptions!.filterValue;\n    const ignoreCase: boolean = currentFilterOptions!.ignoreCase;\n\n    filterValue =\n      Comparator.isString(filterValue) && ignoreCase\n        ? filterValue.toLowerCase()\n        : filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      val =\n        Comparator.isString(val) && ignoreCase\n          ? val.toString().toLowerCase()\n          : val;\n\n      if (val === filterValue) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          equals = true;\n        }\n      }\n    }\n\n    return equals;\n  }\n\n  static NOT_STRICT_EQUALS(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let notStrictEquals: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: string = currentFilterOptions!.filterValue;\n    const ignoreCase: boolean = currentFilterOptions!.ignoreCase;\n\n    filterValue =\n      Comparator.isString(filterValue) && ignoreCase\n        ? filterValue.toLowerCase()\n        : filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      val =\n        Comparator.isString(val) && ignoreCase\n          ? val.toString().toLowerCase()\n          : val;\n\n      if (val !== filterValue) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          notStrictEquals = true;\n        }\n      }\n    }\n\n    return notStrictEquals;\n  }\n\n  static LESS_THAN(value: any, index?: number, array?: any[]): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let lessThan: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    const filterValue: string = currentFilterOptions!.filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string | number = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      val = Number(val);\n\n      if (val < Number(filterValue)) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          lessThan = true;\n        }\n      }\n    }\n\n    return lessThan;\n  }\n\n  static GREATER_THAN(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let greaterThan: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    const filterValue: string = currentFilterOptions!.filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string | number = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      val = Number(val);\n\n      if (val > Number(filterValue)) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          greaterThan = true;\n        }\n      }\n    }\n\n    return greaterThan;\n  }\n\n  static LESS_THAN_OR_EQUAL(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let lessThan: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    const filterValue: string = currentFilterOptions!.filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string | number = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      val = Number(val);\n\n      if (val <= Number(filterValue)) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          lessThan = true;\n        }\n      }\n    }\n\n    return lessThan;\n  }\n\n  static GREATER_THAN_OR_EQUAL(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let greaterThan: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    const filterValue: string = currentFilterOptions!.filterValue;\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: string | number = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      val = Number(val);\n\n      if (val >= Number(filterValue)) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          greaterThan = true;\n        }\n      }\n    }\n\n    return greaterThan;\n  }\n\n  static IS_AFTER_DATE(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let afterDate: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: Date = currentFilterOptions!.filterValue;\n\n    if (currentFilterOptions!.ignoreTimeOfDay) {\n      filterValue = new Date(filterValue);\n      filterValue.setHours(0, 0, 0, 0);\n    }\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: Date = new Date(vals[i]);\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      if (currentFilterOptions!.ignoreTimeOfDay) {\n        val = new Date(val);\n        val.setHours(0, 0, 0, 0);\n      }\n\n      if (val.getTime() > filterValue.getTime()) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          afterDate = true;\n        }\n      }\n    }\n\n    return afterDate;\n  }\n\n  static IS_BEFORE_DATE(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let beforeDate: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: Date = currentFilterOptions!.filterValue;\n\n    if (currentFilterOptions!.ignoreTimeOfDay) {\n      filterValue = new Date(filterValue);\n      filterValue.setHours(0, 0, 0, 0);\n    }\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: Date = new Date(vals[i]);\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      if (currentFilterOptions!.ignoreTimeOfDay) {\n        val = new Date(val);\n        val.setHours(0, 0, 0, 0);\n      }\n\n      if (val.getTime() < filterValue.getTime()) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          beforeDate = true;\n        }\n      }\n    }\n\n    return beforeDate;\n  }\n\n  static DATE_IS(value: any, index?: number, array?: any[]): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let beforeDate: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: Date = currentFilterOptions!.filterValue;\n\n    if (currentFilterOptions!.ignoreTimeOfDay) {\n      filterValue = new Date(filterValue);\n      filterValue.setHours(0, 0, 0, 0);\n    }\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: Date = new Date(vals[i]);\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      if (currentFilterOptions!.ignoreTimeOfDay) {\n        val = new Date(val);\n        val.setHours(0, 0, 0, 0);\n      }\n\n      if (val.getTime() === filterValue.getTime()) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          beforeDate = true;\n        }\n      }\n    }\n\n    return beforeDate;\n  }\n\n  static DATE_IS_NOT(value: any, index?: number, array?: any[]): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let isNotDate: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: Date = currentFilterOptions!.filterValue;\n\n    if (currentFilterOptions!.ignoreTimeOfDay) {\n      filterValue = new Date(filterValue);\n      filterValue.setHours(0, 0, 0, 0);\n    }\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: Date = new Date(vals[i]);\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      if (currentFilterOptions!.ignoreTimeOfDay) {\n        val = new Date(val);\n        val.setHours(0, 0, 0, 0);\n      }\n\n      if (val.getTime() !== filterValue.getTime()) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          isNotDate = true;\n        }\n      }\n    }\n\n    return isNotDate;\n  }\n\n  static IS_ON_OR_AFTER_DATE(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let afterDate: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: Date = currentFilterOptions!.filterValue;\n\n    if (currentFilterOptions!.ignoreTimeOfDay) {\n      filterValue = new Date(filterValue);\n      filterValue.setHours(0, 0, 0, 0);\n    }\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: Date = new Date(vals[i]);\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      if (currentFilterOptions!.ignoreTimeOfDay) {\n        val = new Date(val);\n        val.setHours(0, 0, 0, 0);\n      }\n\n      if (val.getTime() >= filterValue.getTime()) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          afterDate = true;\n        }\n      }\n    }\n\n    return afterDate;\n  }\n\n  static IS_ON_OR_BEFORE_DATE(\n    value: any,\n    index?: number,\n    array?: any[]\n  ): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let beforeDate: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n    let filterValue: Date = currentFilterOptions!.filterValue;\n\n    if (currentFilterOptions!.ignoreTimeOfDay) {\n      filterValue = new Date(filterValue);\n      filterValue.setHours(0, 0, 0, 0);\n    }\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: Date = new Date(vals[i]);\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      if (currentFilterOptions!.ignoreTimeOfDay) {\n        val = new Date(val);\n        val.setHours(0, 0, 0, 0);\n      }\n\n      if (val.getTime() <= filterValue.getTime()) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          beforeDate = true;\n        }\n      }\n    }\n\n    return beforeDate;\n  }\n\n  static IS_TRUE(value: any, index?: number, array?: any[]): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let isTrue: boolean = false;\n    \n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: boolean = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      if (val === true) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          isTrue = true;\n        }\n      }\n    }\n\n    return isTrue;\n  }\n\n  static IS_FALSE(value: any, index?: number, array?: any[]): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let isFalse: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: boolean = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      if (val === false) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          isFalse = true;\n        }\n      }\n    }\n\n    return isFalse;\n  }\n\n  static IS_TRUTHY(value: any, index?: number, array?: any[]): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let isTruthy: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: boolean = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      if (val) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          isTruthy = true;\n        }\n      }\n    }\n\n    return isTruthy;\n  }\n\n  static IS_FALSY(value: any, index?: number, array?: any[]): boolean {\n    const vals: any[] =\n      Comparator.filterSortService!.getFilterValuesFromPropertyIndentifiers(\n        value\n      );\n\n    const numOfValues: number = vals.length;\n    const requiredMatches: number =\n      FilterComparator.getRequiredMatches(numOfValues);\n    let matchCount: number = 0;\n    let isFalsy: boolean = false;\n\n    const currentFilterOptions: IFilterOptions | null = Comparator.getCurrentFilterOptions();\n    if (!currentFilterOptions) {\n      this.triggerNoFilterOptionsError();\n    }\n\n    for (let i = 0; i < numOfValues; i++) {\n      let val: boolean = vals[i];\n      val = FilterComparator.getModifiedValue(\n        val,\n        currentFilterOptions!.variableMappers!,\n        i\n      );\n\n      if (!val) {\n        matchCount++;\n        if (matchCount === requiredMatches) {\n          isFalsy = true;\n        }\n      }\n    }\n\n    return isFalsy;\n  }\n\n  static triggerNoFilterOptionsError() {\n    throw Error(`Please supply a FilterOptions object to filter your array by.`);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { FilterSortService } from './services/filter-sort.service';\n\n@NgModule({\n  imports: [BrowserModule],\n  declarations: [],\n  providers: [FilterSortService],\n  exports: [],\n  bootstrap: [],\n})\nexport class FilterAndSortModule {}\n\nexport * from './services/filter-sort.service';\nexport * from './options/sort-direction';\nexport * from './options/sort-options';\nexport * from './options/i-sort-options';\nexport * from './options/filter-options';\nexport * from './options/i-filter-options';\nexport * from './comparators/comparator';\nexport * from './comparators/sort-comparator';\nexport * from './comparators/filter-comparator';\nexport * from './comparators/match-type';\n","export class Range {\n  startIndex: number | null;\n  endIndex: number | null;\n  extendedStartIndex: number | null;\n  extendedEndIndex: number | null;\n}\n","/*\n * Public API Surface of tablejs\n */\nexport * from './lib/tablejs.module';\nexport * from './lib/filterAndSort/filter-and-sort.module';\n\nexport { IColumnData } from './lib/shared/interfaces/i-column-data';\nexport { IColumnHideChange } from './lib/shared/interfaces/events/i-column-hide-change';\nexport { IColumnHierarchy } from './lib/shared/interfaces/i-column-hierarchy';\n\nexport { ColumnReorderEvent } from './lib/shared/classes/events/column-reorder-event';\nexport { ColumnResizeEvent } from './lib/shared/classes/events/column-resize-event';\nexport { GridEvent } from './lib/shared/classes/events/grid-event';\nexport { ScrollViewportEvent } from './lib/shared/classes/events/scroll-viewport-event';\n\nexport { Range } from './lib/shared/classes/scrolling/range';\n\nexport { DragAndDropGhostComponent } from './lib/components/drag-and-drop-ghost/drag-and-drop-ghost.component';\nexport { GridComponent } from './lib/components/grid/grid.component';\nexport { HorizResizeGripComponent } from './lib/components/horiz-resize-grip/horiz-resize-grip.component';\nexport { ReorderGripComponent } from './lib/components/reorder-grip/reorder-grip.component';\nexport { ScrollPrevSpacerComponent } from './lib/components/scroll-prev-spacer/scroll-prev-spacer.component';\n\nexport { DataColClassDirective } from './lib/directives/data-col-class/data-col-class.directive';\nexport { DataColClassesDirective } from './lib/directives/data-col-classes/data-col-classes.directive';\nexport { EditableCellDirective } from './lib/directives/editable-cell/editable-cell.directive';\nexport { GridDirective } from './lib/directives/grid/grid.directive';\nexport { GridRowDirective } from './lib/directives/grid-row/grid-row.directive';\nexport { HideColumnIfDirective } from './lib/directives/hide-column-if/hide-column-if.directive';\nexport { InfiniteScrollDirective } from './lib/directives/infinite-scroll/infinite-scroll.directive';\nexport { ReorderColDirective } from './lib/directives/reorder-col/reorder-col.directive';\nexport { ReorderGripDirective } from './lib/directives/reorder-grip/reorder-grip.directive';\nexport { ResizableGripDirective } from './lib/directives/resizable-grip/resizable-grip.directive';\nexport { ScrollViewportDirective } from './lib/directives/scroll-viewport/scroll-viewport.directive';\nexport { VirtualForDirective, TablejsForOfContext } from './lib/directives/virtual-for/virtual-for.directive';\n\nexport { GridService } from './lib/services/grid/grid.service';\nexport { OperatingSystemService } from './lib/services/operating-system/operating-system.service';\nexport { DirectiveRegistrationService } from './lib/services/directive-registration/directive-registration.service';\nexport { ScrollDispatcherService } from './lib/services/scroll-dispatcher/scroll-dispatcher.service';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {MatchType as ɵc} from './lib/filterAndSort/comparators/match-type';\nexport {SortDirection as ɵb} from './lib/filterAndSort/options/sort-direction';\nexport {TablejsGridProxy as ɵa} from './lib/shared/classes/tablejs-grid-proxy';"],"names":["Component","ViewEncapsulation","ViewContainerRef","ChangeDetectorRef","ViewChild","BehaviorSubject","Injectable","Subject","Directive","TemplateRef","IterableDiffers","ElementRef","Input","EventEmitter","take","Inject","DOCUMENT","ComponentFactoryResolver","RendererFactory2","ContentChild","Output","InjectionToken","OverlayConfig","ComponentPortal","Injector","ResizeSensor","Overlay","HostListener","NgModule","CommonModule","CUSTOM_ELEMENTS_SCHEMA","SortDirection","MatchType","BrowserModule"],"mappings":"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"}